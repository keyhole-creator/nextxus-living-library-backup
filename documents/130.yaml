id: 130
title: deepai
author: Roger Keyserling
collection_id: 6
summary: null
full_text: "﻿<!DOCTYPE html>\r

  \t\r

  \r

  \t\r

  \r

  \t\r

  \r

  \t\r

  \r

  \t\r

  \r

  \t<html>\r

  \t        <head>\r

  \t<title> Math AI </title>\r

  \t\r

  \r

  \t<script type=\"application/ld+json\"></script>\r

  \t\r

  \r

  \t<script\r

  \tasync\r

  \tsrc=\"https://browser.sentry-cdn.com/7.19.0/bundle.min.js\"\r

  \tintegrity=\"sha384-ztBHD5Kyf+YJqkbZijnUhyS5dYdQDCEfB2QjYao1rVJ1qBpQn+WMbafs\
  tDcVTHnB\"\r

  \tcrossorigin=\"anonymous\"\r

  \tonload=\"Sentry.init({ dsn:
  'https://97bfbb7bc651472085dab062d23194f6@sentry.io/1460722' });\"\r

  \t></script>\r

  \t\r

  \r

  \t\r

  \r

  \t                <meta charset=\"utf-8\">\r

  \t<meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0,
  maximum-scale=1.0, user-scalable=no\">\r

  \t<link rel=\"manifest\" href=\"/static/manifest.json\">\r

  \t<link rel=\"shortcut icon\" href=\"/static/images/favicon.ico\"
  type=\"image/x-icon\">\r

  \t<link rel=\"icon\" href=\"/static/images/favicon.ico\"
  type=\"image/x-icon\">\r

  \t<script>\r

  \twindow.user_paid_for_no_ads = false;\r

  \ttry {\r

  \twindow.user_object = JSON.parse(localStorage.getItem('user'));\r

  \tif (window.user_object?.userprofile2) {\r

  \tif (window.user_object.userprofile2.locked_out_due_to_no_payment_info ===
  false) {\r

  \twindow.user_paid_for_no_ads = true;\r

  \t}\r

  \t}\r

  \t} catch(e) {\r

  \tconsole.log('error checking user login for ads removal', e);\r

  \t}\r

  \t</script>\r

  \t\r

  \r

  \t\r

  \r

  \t<link rel=\"canonical\" href=\"https://deepai.org/chat/mathematics\">\r

  \t\r

  \r

  \t<meta name=\"description\" content=\"The most powerful math solver AI on the
  market. Math AI solves everything from basic algebra to advanced calculus,
  delivering precise answers and step-by-step explanations. Effortlessly
  generate graphs, plots, and visualizations to deepen your understanding of any
  problem. Whether you’re a student, educator, or enthusiast, Math AI offers
  unmatched accuracy and clarity, making math easier to learn, teach, and
  explore.\">\r

  \t<meta property=\"og:url\" content=\"https://deepai.org/mathematics\">\r

  \t<meta property=\"og:site_name\" content=\"DeepAI\">\r

  \t<meta property=\"og:type\" content=\"article\">\r

  \t<meta property=\"og:title\" content=\"Math AI - DeepAI\">\r

  \t<meta property=\"og:description\" content=\"The most powerful math solver AI
  on the market. Math AI solves everything from basic algebra to advanced
  calculus, delivering precise answers and step-by-step explanations.
  Effortlessly generate graphs, plots, and visualizations to deepen your
  understanding of any problem. Whether you’re a student, educator, or
  enthusiast, Math AI offers unmatched accuracy and clarity, making math easier
  to learn, teach, and explore.\">\r

  \t<meta property=\"og:image\" content=\"\">\r

  \t<meta name=\"twitter:card\" content=\"summary_large_image\">\r

  \t<meta name=\"twitter:site\" content=\"@DeepAI\">\r

  \t<meta name=\"twitter:creator\" content=\"@DeepAI\">\r

  \t\r

  \r

  \t<meta name=\"twitter:title\" content=\"Math AI - DeepAI\">\r

  \t<meta name=\"twitter:description\" content=\"The most powerful math solver
  AI on the market. Math AI solves everything from basic algebra to advanced
  calculus, delivering precise answers and step-by-step explanations.
  Effortlessly generate graphs, plots, and visualizations to deepen your
  understanding of any problem. Whether you’re a student, educator, or
  enthusiast, Math AI offers unmatched accuracy and clarity, making math easier
  to learn, teach, and explore.\">\r

  \t<meta name=\"twitter:image\" content=\"\">\r

  \t\r

  \r

  \t<meta property=\"article:published_time\" content=\"\" />\r

  \t<!-- PLACE THIS SECTION INSIDE OF YOUR HEAD TAGS -->\r

  \t<!-- Below is a recommended list of pre-connections, which allow the network
  to establish each connection quicker, speeding up response times and improving
  ad performance. -->\r

  \t<link rel=\"preconnect\" href=\"https://a.pub.network/\" crossorigin />\r

  \t<link rel=\"preconnect\" href=\"https://b.pub.network/\" crossorigin />\r

  \t<link rel=\"preconnect\" href=\"https://c.pub.network/\" crossorigin />\r

  \t<link rel=\"preconnect\" href=\"https://d.pub.network/\" crossorigin />\r

  \t<link rel=\"preconnect\" href=\"https://c.amazon-adsystem.com\" crossorigin
  />\r

  \t<link rel=\"preconnect\" href=\"https://s.amazon-adsystem.com\" crossorigin
  />\r

  \t<link rel=\"preconnect\" href=\"https://secure.quantserve.com/\" crossorigin
  />\r

  \t<link rel=\"preconnect\" href=\"https://rules.quantcount.com/\" crossorigin
  />\r

  \t<link rel=\"preconnect\" href=\"https://pixel.quantserve.com/\" crossorigin
  />\r

  \t<link rel=\"preconnect\" href=\"https://cmp.quantcast.com/\" crossorigin
  />\r

  \t<link rel=\"preconnect\" href=\"https://btloader.com/\" crossorigin />\r

  \t<link rel=\"preconnect\" href=\"https://api.btloader.com/\" crossorigin />\r

  \t<link rel=\"preconnect\" href=\"https://cdn.confiant-integrations.net\"
  crossorigin />\r

  \t<!-- Below is a link to a CSS file that accounts for Cumulative Layout
  Shift, a new Core Web Vitals subset that Google uses to help rank your site in
  search -->\r

  \t<!-- The file is intended to eliminate the layout shifts that are seen when
  ads load into the page. If you don't want to use this, simply remove this file
  -->\r

  \t<!-- To find out more about CLS, visit https://web.dev/vitals/ -->\r

  \t<style>\r

  \tbody {\r

  \t        --fsAddBuffer: 22px;\r

  \t}\r

  \t[id='deepai\\.org_billboard_ATF'],\r

  \t[id='deepai\\.org_1x1_bouncex'],\r

  \t[id='deepai\\.org_header'],\r

  \t[id='deepai_incontent_1'],\r

  \t[id='deepai_left_siderail_1'],\r

  \t[id='deepai_left_siderail_2'],\r

  \t[id='deepai\\.org_leaderboard_BTF'],\r

  \t[id='deepai\\.org_chat_billboard_ATF'],\r

  \t[id='deepai\\.org_chat_header'],\r

  \t[id='deepai\\.org_chat_leaderboard_BTF'],\r

  \t[id='deepai_mobile_incontent_2'],\r

  \t[id='deepai\\.org_chat_dynamic'],\r

  \t[id='deepai_image_incontent'] {\r

  \t        display: flex;\r

  \t        align-items: center;\r

  \t        justify-content: center;\r

  \t        flex-direction: column;\r

  \t        min-height: calc(var(--height) + var(--fsAddBuffer));\r

  \t        height: calc(var(--height) + var(--fsAddBuffer));\r

  \t        width: 100%;\r

  \t}\r

  \t[id='deepai\\.org_billboard_ATF'] {\r

  \t                --height: 280px;\r

  \t}\r

  \t[id='deepai\\.org_chat_billboard_ATF'] {\r

  \t                --height: 280px;\r

  \t}\r

  \t[id='deepai\\.org_chat_dynamic'] {\r

  \t                --height: 250px;\r

  \t}\r

  \t[id='deepai\\.org_chat_header'] {\r

  \t                --height: 50px;\r

  \t}\r

  \t[id='deepai\\.org_chat_leaderboard_BTF'] {\r

  \t                --height: 280px;\r

  \t}\r

  \t[id='deepai\\.org_header'] {\r

  \t                --height: 100px;\r

  \t}\r

  \t[id='deepai\\.org_leaderboard_BTF'] {\r

  \t                --height: 280px;\r

  \t}\r

  \t[id='deepai_image_incontent'] {\r

  \t                --height: 280px;\r

  \t}\r

  \t[id='deepai_incontent_1'] {\r

  \t                --height: 280px;\r

  \t}\r

  \t[id='deepai_mobile_incontent_2'] {\r

  \t                --height: 280px;\r

  \t}\r

  \t@media only screen and (min-width: 768px) {\r

  \t        [id='deepai\\.org_billboard_ATF'] {\r

  \t                --height: 250px;\r

  \t        }\r

  \t        [id='deepai\\.org_chat_billboard_ATF'] {\r

  \t                --height: 250px;\r

  \t        }\r

  \t        [id='deepai\\.org_chat_dynamic'] {\r

  \t                --height: 250px;\r

  \t        }\r

  \t        [id='deepai\\.org_chat_header'] {\r

  \t                --height: 90px;\r

  \t        }\r

  \t        [id='deepai\\.org_chat_leaderboard_BTF'] {\r

  \t                --height: 250px;\r

  \t        }\r

  \t        [id='deepai\\.org_header'] {\r

  \t                --height: 100px;\r

  \t        }\r

  \t        [id='deepai\\.org_leaderboard_BTF'] {\r

  \t                --height: 250px;\r

  \t        }\r

  \t        [id='deepai_image_incontent'] {\r

  \t                --height: 280px;\r

  \t        }\r

  \t        [id='deepai_incontent_1'] {\r

  \t                --height: 90px;\r

  \t        }\r

  \t        [id='deepai_mobile_incontent_2'] {\r

  \t                display: none;\r

  \t        }\r

  \t}\r

  \t@media only screen and (min-width: 970px) {\r

  \t        [id='deepai\\.org_billboard_ATF'] {\r

  \t                --height: 250px;\r

  \t        }\r

  \t        [id='deepai\\.org_chat_billboard_ATF'] {\r

  \t                --height: 250px;\r

  \t        }\r

  \t        [id='deepai\\.org_chat_dynamic'] {\r

  \t                --height: 250px;\r

  \t        }\r

  \t        [id='deepai\\.org_chat_header'] {\r

  \t                --height: 90px;\r

  \t        }\r

  \t        [id='deepai\\.org_chat_leaderboard_BTF'] {\r

  \t                --height: 250px;\r

  \t        }\r

  \t        [id='deepai\\.org_header'] {\r

  \t                --height: 100px;\r

  \t        }\r

  \t        [id='deepai\\.org_leaderboard_BTF'] {\r

  \t                --height: 250px;\r

  \t        }\r

  \t        [id='deepai_image_incontent'] {\r

  \t                --height: 280px;\r

  \t        }\r

  \t}\r

  \t@media only screen and (min-width: 1360px) {\r

  \t        [id='deepai_left_siderail_1'] {\r

  \t                --height: 600px;\r

  \t        }\r

  \t}\r

  \t@media only screen and (min-width: 1650px) {\r

  \t        [id='deepai_left_siderail_1'] {\r

  \t                --height: 250px;\r

  \t        }\r

  \t        [id='deepai_left_siderail_2'] {\r

  \t                --height: 250px;\r

  \t        }\r

  \t}\r

  \t\r

  \r

  \t</style>\r

  \t\r

  \r

  \t<script data-cfasync=\"false\" type=\"text/javascript\">\r

  \t\r

  \r

  \tvar freestar = freestar || {};\r

  \tfreestar.queue = freestar.queue || [];\r

  \tfreestar.config = freestar.config || {};\r

  \t\r

  \r

  \t\r

  \r

  \tfreestar.config.disabledProducts = {\r

  \t//stickyFooter: true,\r

  \t//pushdown: true,\r

  \t};\r

  \t\r

  \r

  \tfreestar.config.enabled_slots = [];\r

  \tfreestar.initCallback = function () { (freestar.config.enabled_slots.length
  === 0) ? freestar.initCallbackCalled = false :
  freestar.newAdSlots(freestar.config.enabled_slots) }\r

  \t\r

  \r

  \tif(!window.user_paid_for_no_ads){\r

  \tconsole.log('user has not paid for no ads, loading ads');\r

  \t// inject a async script tag to load the ads.js file\r

  \tvar script = document.createElement('script');\r

  \tscript.src = 'https://a.pub.network/deepai-org/pubfig.min.js';\r

  \tscript.async = true;\r

  \tdocument.head.appendChild(script);\r

  \t\r

  \r

  \t\r

  \r

  \t}else{\r

  \tconsole.log('user has paid for no ads, not loading ads');\r

  \t\r

  \r

  \t\r

  \r

  \t\r

  \r

  \t}\r

  \t</script>\r

  \t\r

  \r

  \t<script>\r

  \t// Set the ad provider flag: \"monetano\" currently is the only option\r

  \t\r

  \r

  \tconst contextualAdProvider = 'monetano';\r

  \t\r

  \r

  \t(function() {\r

  \t\r

  \r

  \tif (contextualAdProvider === 'monetano') {\r

  \t// Dynamically import the Monetano SDK\r

  \tvar script = document.createElement('script');\r

  \tscript.async = true;\r

  \tscript.defer = true;\r

  \tscript.crossOrigin = 'anonymous';\r

  \tscript.src = 'https://server.monetano.com/js/deepai-prod/monetano.js';\r

  \tdocument.head.appendChild(script);\r

  \t\r

  \r

  \t\r

  \r

  \twindow.monetano = window.monetano || { que: [] };\r

  \t\r

  \r

  \t\r

  \r

  \t}\r

  \t})();\r

  \t</script>\r

  \t\r

  \r

  \t\r

  \r

  \t\r

  \r

  \t\r

  \r

  \t\r

  \r

  \t\r

  \r

  \t<style type=\"text/css\">@font-face{font-family:'Atkinson
  Hyperlegible';font-style:normal;font-weight:400;font-display:optional;src:url\
  (https://fonts.gstatic.com/s/atkinsonhyperlegible/v11/9Bt23C1KxNDXMspQ1lPyU89\
  -1h6ONRlW45G07JIoWQeCbGWn.woff2)
  format('woff2');unicode-range:U+0100-02BA,U+02BD-02C5,U+02C7-02CC,U+02CE-02D7\
  ,U+02DD-02FF,U+0304,U+0308,U+0329,U+1D00-1DBF,U+1E00-1E9F,U+1EF2-1EFF,U+2020,\
  U+20A0-20AB,U+20AD-20C0,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family\
  :'Atkinson
  Hyperlegible';font-style:normal;font-weight:400;font-display:optional;src:url\
  (https://fonts.gstatic.com/s/atkinsonhyperlegible/v11/9Bt23C1KxNDXMspQ1lPyU89\
  -1h6ONRlW45G04pIoWQeCbA.woff2)
  format('woff2');unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02\
  C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+20AC,U+2122,U+2191,U+2193\
  ,U+2212,U+2215,U+FEFF,U+FFFD}html{background-color:#170a2c;font-family:'Atkin\
  son
  Hyperlegible',sans-serif}button,input,optgroup,select,textarea{font-family:'A\
  tkinson
  Hyperlegible',sans-serif;font-size:100%;line-height:1.15;margin:0}body{margin\
  :0;padding:0;display:flex;flex-direction:column;min-height:100vh;background:l\
  inear-gradient(180deg,#7729aa -13.13%,#170a2d 0.17%,#0a061d
  6.9%,rgba(10,6,30,0.99) 36.38%,#010311
  98.59%)!important}a{text-decoration:none}header{height:45px;overflow:hidden;w\
  idth:100%;z-index:10}header a.logo-link,footer
  a.logo-link{display:flex;color:white!important;cursor:pointer;margin-right:10\
  px}header nav{display:flex;margin-left:auto;max-height:62px}header
  ul{list-style-type:none;margin:0;padding:0;display:flex;flex-direction:row;wh\
  ite-space:nowrap;align-items:center;min-width:46px;justify-content:center}hea\
  der ul
  li{display:block;float:left;font-size:16px;color:#fff;line-height:25px}header
  ul li
  a{text-decoration:none;cursor:pointer}.drop-menu-button{display:block;width:4\
  6px;height:45px;padding:0;margin:0;border:none;background:transparent;cursor:\
  pointer}.menu-icon{font-size:30px;font-weight:bold;cursor:pointer;vertical-al\
  ign:middle;pointer-events:none}header ul li
  a:hover{text-decoration:none}header ul li.dropdown:hover{cursor:pointer}header
  .dropdown{position:unset}ul li.dropdown
  ul{visibility:hidden;opacity:0;display:none;position:absolute;transition:all
  0.5s
  ease;top:auto;z-index:10;right:13px;margin:auto;margin-top:20px;width:296px;b\
  order-radius:12px;border:1px solid
  rgba(255,255,255,0.13);background:rgba(142,142,142,0.02);-webkit-backdrop-fil\
  ter:blur(114px);-moz-backdrop-filter:blur(114px);backdrop-filter:blur(114px)}\
  .show-dropdown{visibility:visible!important;opacity:1!important;display:block\
  !important}ul li.dropdown ul a{clear:both;display:block;margin:0;margin:0px
  10px;height:45px;position:relative}ul li.dropdown ul li{margin:4px
  5px;cursor:pointer}.search-bar-container{background:rgba(45,40,60,1);border-r\
  adius:30px;margin:0 9px 0
  9px;height:32px;width:100%;max-width:450px;border:1px solid
  rgba(74,66,97,1);display:flex;flex-direction:row;align-items:center}.search-b\
  ar-container img{height:17px;margin:8px}.search-bar{width:100%}.search-bar
  input{width:100%;height:100%;border:none;padding:0;color:white;background-col\
  or:rgba(0,0,0,0)}.loading{background:url(/static/images/loading.gif) no-repeat
  right
  center!important;background-size:contain!important}.loading-center{background\
  :url(/static/images/loading.gif) no-repeat center
  center;background-size:contain;height:50px}a.button{display:flex;padding:6px
  19px;font-size:14px;border-radius:45px;border:1px solid
  #1e79d1;vertical-align:bottom;white-space:nowrap;font-weight:bold;color:#1e79\
  d1;margin-left:9px}a.button:active{opacity:0.9}a.button.highlighted{backgroun\
  d-color:#a01ed1;color:white;width:auto;background:linear-gradient(94deg,#c764\
  ec,#4a36b1);height:auto;border:none;cursor:pointer}a.button.hotline{backgroun\
  d:transparent;color:#c764ec;width:auto;height:auto;border:1px solid
  #c764ec;cursor:pointer}a.login-button{border:none;color:white;cursor:pointer}\
  input:focus,button{outline:none}footer{margin-top:auto;text-align:center}a.bu\
  tton.doublecolor{border-radius:8px;border-right:1px solid
  #e7416b;border-bottom:1px solid #e7416b;border-left:1px solid
  #1e79d1;border-top:1px solid
  #1e79d1;background:transparent;padding:0.3em;color:white;width:auto;height:au\
  to}#social-modal{flex-direction:column;width:80vw;max-width:440px;justify-con\
  tent:flex-start;align-items:center;border-radius:12px;border:1px solid
  rgba(255,255,255,0.13);background:rgba(142,142,142,0.02);-webkit-backdrop-fil\
  ter:blur(114px);-moz-backdrop-filter:blur(114px);backdrop-filter:blur(114px);\
  margin:auto;position:relative;color:white;padding-bottom:54px;position:fixed}\
  .social-link-copy{display:flex;box-sizing:border-box;position:relative;align-\
  items:center;justify-content:space-between;padding-right:18px;padding-left:18\
  px;width:100%;border-radius:32px;border:1px solid
  rgba(255,255,255,0.13);backdrop-filter:blur(12px);height:48px;margin-top:10px\
  }#social-link-input{flex-grow:1;border:none;background-color:transparent;font\
  -size:14px;padding:6px;overflow:hidden;text-overflow:ellipsis;white-space:now\
  rap;color:white}.copy-button{background-color:transparent;border:none;cursor:\
  pointer;padding:4px;margin-left:8px}.copy-button
  img{width:20px;height:20px}footer
  p{color:white;font-size:15px}.footer-row{display:flex;position:relative;flex-\
  direction:row;align-items:center;justify-content:space-between;height:50px;ba\
  ckground-color:rgba(1,0,9,0);z-index:5;bottom:0px}.bad-auth-error{display:non\
  e;justify-content:center;font-size:11px;color:#eb4f4f;text-align:left;margin-\
  bottom:8px;margin-left:8px}.good-auth-error{display:none;justify-content:cent\
  er;font-size:11px;color:#59ee7f;text-align:left;margin-bottom:8px}.leftfooter\
  {margin-left:16px}.leftfooter a{display:flex;flex-direction:row}.leftfooter
  p,.logo-link p{background:linear-gradient(180deg,#fff 0%,#ebe5fb 50%,#7fabff
  100%);-webkit-background-clip:text;background-clip:text;color:transparent;dis\
  play:flex;flex-direction:row;font-size:19px;margin:auto;margin-left:10px}@med\
  ia screen and (max-width:800px){.logo-link
  p{display:none}}.rightfooter{display:flex;flex-direction:row;margin-right:16p\
  x;align-items:center}.contact,.press,.legal,.feedback,.xlogo,.linkedinlogo,.i\
  nstagramlogo,.tiktoklogo,.redditlogo,#pmLink{margin:auto;margin-left:15px;col\
  or:white}@media screen and
  (max-width:800px){.feedback{display:none}}.xlogo{height:19px}.instagramlogo,.\
  redditlogo{height:25px}dialog{padding:0;border:0;border-radius:0.6rem}dialog:\
  :backdrop{background-color:rgba(0,0,0,0.4)}dialog +
  .backdrop{position:fixed;top:0;right:0;bottom:0;left:0;background-color:rgba(\
  0,0,0,0.4)}dialog[open]{animation:slide-up 0.4s
  ease-out;display:flex}dialog{display:none;left:0;right:0;margin:auto;max-widt\
  h:90vw;background-color:transparent}dialog#signup-modal
  form,dialog#login-modal
  form{display:block;margin:20px;width:500px}dialog#subscription-modal
  form{display:block;margin:20px;width:600px}dialog
  .button.social-auth{width:48%;background:#fff;color:#1D2129;border:1px solid
  #999;display:inline-block;padding:0 0 0 28px;text-align:left;margin:10px
  4px}dialog .button.social-auth img{vertical-align:middle;margin:6px}dialog
  .button.more-options{background:linear-gradient(94deg,#c764ec,#4a36b1)}dialog
  .other-options-signup-row{display:flex;flex-direction:row;justify-content:cen\
  ter;align-items:center;margin:20px}dialog
  .other-options-signup-line{width:30%;height:0;border:1px solid
  #fff;margin:3px;display:inline-block}dialog
  .other-options-signup{color:#fff;font-size:15px;padding:0 10px 0 10px}dialog
  .switch-login-signup-button{padding:0
  28px;color:#fff;background:#6ec0fd;font-weight:700;font-size:.7em;border-radi\
  us:3px;box-shadow:0 2px 5px 0
  rgba(0,0,0,.26);border-width:0;border-style:none;-webkit-appearance:none;heig\
  ht:25px;cursor:pointer;margin:10px
  auto;width:30%;display:block}.login-container{display:none;flex-direction:col\
  umn;width:440px;justify-content:flex-start;align-items:center;border-radius:1\
  2px;border:1px solid
  rgba(255,255,255,0.13);background:rgba(142,142,142,0.02);backdrop-filter:blur\
  (114px);-webkit-backdrop-filter:blur(114px);-moz-backdrop-filter:blur(114px);\
  -ms-backdrop-filter:blur(114px);margin:auto;color:white;position:fixed}.close\
  {position:absolute;top:0.2em;right:0.2em;padding:0.3em;line-height:0.6;backgr\
  ound-color:transparent;border:0;font-size:2em;color:#fff;cursor:pointer}.moda\
  l-header,.modal-body,.modal-footer{padding:1em;background-color:#2A282F;text-\
  align:center;color:white}.login-header{text-align:center;font-size:36px;font-\
  weight:600;letter-spacing:0.75px;line-height:normal;margin-top:49px;margin-bo\
  ttom:0px;cursor:default;padding:0px}.share-header{text-align:center;font-size\
  :36px;font-weight:600;letter-spacing:0.75px;line-height:normal;margin-top:54p\
  x;margin-bottom:0px}.share-subheader{text-align:center;color:darkgray;font-si\
  ze:12px;line-height:18px;margin:auto;margin-top:8px;margin-bottom:24px}.out-c\
  redits-header{text-align:center;font-size:36px;font-weight:600;letter-spacing\
  :0.75px;line-height:normal;margin-top:38px;margin-bottom:0px}.login-exit{disp\
  lay:flex;flex-direction:row;position:absolute;justify-content:right;right:24p\
  x;top:24px;cursor:pointer}.out-credits-exit{display:flex;flex-direction:row;p\
  osition:absolute;justify-content:right;right:24px;top:24px;cursor:pointer}.pl\
  ease-subheader{text-align:center;color:darkgray;font-size:12px;line-height:18\
  px;margin:auto;margin-top:8px;margin-bottom:16px}.options-container{width:270\
  px;height:48px;display:flex;justify-content:center;align-items:center;backgro\
  und:rgba(142,142,142,0.05);border-radius:12px;justify-content:center;margin:a\
  uto;margin-top:6px;margin-bottom:6px;cursor:pointer}.membership-toggle{width:\
  100%;height:36px}.login-active{display:flex;width:131px;height:40px;margin-le\
  ft:4px;font-size:14px;font-weight:200;padding:0 41px 0
  41px;justify-content:center;align-items:center;border-radius:10px;color:darkg\
  ray;cursor:pointer}.member-active{display:flex;width:131px;height:28px;margin\
  -left:4px;font-size:12px;font-weight:200;padding:0 40px 0
  40px;justify-content:center;align-items:center;border-radius:10px;color:darkg\
  ray;cursor:pointer}.signup{display:flex;width:131px;height:40px;padding:0 41px
  0
  41px;justify-content:center;align-items:center;border-radius:10px;font-size:1\
  4px;font-weight:200;color:darkgray;white-space:nowrap;text-align:center;curso\
  r:pointer;margin-right:4px}.active{color:white;font-weight:400;background:rgb\
  a(255,255,255,0.1)}.signin-with-google{display:flex;position:relative;height:\
  48px;width:270px;justify-content:center;align-items:center;gap:12px;border:no\
  ne;border-radius:12px;color:white;font-size:14px;font-weight:400;font-family:\
  inherit;background:rgba(255,255,255,0.1);margin:auto;margin-bottom:12px;trans\
  ition:background 0s
  ease;cursor:pointer}.signin-with-google:hover{background:white;color:black}.b\
  utton.login-with-email{display:flex;justify-content:center;background:none;bo\
  rder:none;white-space:nowrap;color:white;font-family:inherit;font-size:12px;f\
  ont-weight:400;margin:auto;margin-bottom:48px;cursor:pointer}.email-container\
  ::before{content:\"Email
  Address\";position:absolute;z-index:1;top:10px;left:60px;font-size:9px;pointe\
  r-events:none;color:darkgray}.email-container{position:relative;display:none;\
  margin:auto;margin-bottom:12px;width:270px;height:48px;border-radius:12px;bac\
  kground:rgba(142,142,142,0.02)}.email-icon{position:absolute;left:12px;top:50\
  %;transform:translateY(-50%);pointer-events:none;color:darkgray;z-index:1;bor\
  der-right:1px solid
  darkgray;padding-right:12px}.input-email{padding-left:58px;padding-top:22px;p\
  adding-bottom:10px;height:14px;line-height:14px;position:relative;border-radi\
  us:12px;border:1px solid
  rgba(255,255,255,0.13);background:transparent;color:white;width:100%}.input-e\
  mail::placeholder{font-size:12px;line-height:18px}.password-container::before\
  {content:\"Enter
  Password\";position:absolute;z-index:1;top:10px;left:60px;font-size:9px;point\
  er-events:none;color:darkgray}.password-container{position:relative;display:n\
  one;margin:auto;margin-bottom:12px;width:270px;height:48px}.lock-icon{positio\
  n:absolute;left:12px;top:50%;transform:translateY(-50%);pointer-events:none;c\
  olor:darkgray;z-index:1;border-right:1px solid
  darkgray;padding-right:10px}.input-password{font-size:12px;padding-left:58px;\
  padding-top:22px;padding-bottom:10px;height:14px;line-height:14px;position:re\
  lative;border-radius:12px;border:1px solid
  rgba(255,255,255,0.13);background:transparent;color:white;width:100%}.input-p\
  assword::placeholder{font-size:12px;line-height:18px}.reenter-password-contai\
  ner::before{content:\"Re-enter
  Password\";position:absolute;z-index:1;top:10px;left:60px;font-size:9px;color\
  :darkgray;pointer-events:none}.reenter-password-container{position:relative;d\
  isplay:none;margin:auto;margin-bottom:12px;width:270px;height:48px}.button.lo\
  gin-email{display:none;flex-direction:column;background:#7000ff;border:none;w\
  idth:270px;color:var(--white);font-size:14px;font-weight:500;white-space:nowr\
  ap;letter-spacing:2%;margin:auto;padding:12px;margin:auto;margin-bottom:12px;\
  transition:background 0.2s
  ease;cursor:pointer;align-items:center;border-radius:12px}.button.sub-set{dis\
  play:flex;flex-direction:column;align-items:center;border-radius:12px;backgro\
  und:#7000ff;border:none;width:270px;color:var(--white);font-size:14px;font-we\
  ight:500;white-space:nowrap;letter-spacing:2%;margin:auto;padding:12px;margin\
  :auto;margin-bottom:12px;transition:background 0.2s
  ease;cursor:pointer}.button.goback{display:none;justify-content:center;backgr\
  ound:none;border:none;white-space:nowrap;color:white;font-size:12px;font-weig\
  ht:400;margin:auto;margin-bottom:24px;cursor:pointer}#forgot-password{display\
  :none;justify-content:center;text-align:center;font-size:12px;margin:auto;mar\
  gin-bottom:12px;color:white}#forgot-password:hover{background:none;cursor:def\
  ault}span.click-here{color:#c549fe;cursor:pointer;margin-left:6px}.modal-body
  .title{font-size:22px;justify-content:center}.modal-body
  .subtitle{opacity:0.9}.modal-header{margin:0;padding-bottom:0.6em;background-\
  color:#f3f3f3;border-bottom:1px solid #f3f3f3}.modal-footer{border-top:1px
  solid
  #f3f3f3}.subscription-modal-body{width:max(40vw,386px);background-color:#2A28\
  2F}.out-of-credits-modal-body{display:flex;flex-direction:column;width:80vw;m\
  ax-width:440px;justify-content:flex-start;align-items:center;border-radius:12\
  px;border:1px solid
  rgba(255,255,255,0.13);background:rgba(142,142,142,0.02);backdrop-filter:blur\
  (114px);margin:auto;position:relative;color:white;padding-bottom:32px}.subscr\
  iption-pro{display:flex;flex-direction:column}.modal-row{display:flex;flex-di\
  rection:row;justify-content:flex-start;padding-left:50px;align-items:center}.\
  modal-row-top{display:flex;flex-direction:row;justify-content:flex-start;padd\
  ing-left:40px;align-items:center}.purple{color:#c764ec}.smaller{text-align:le\
  ft;font-size:12px;padding-right:70px}.stripe-signup-button{padding:8px
  30px;font-size:16px;border-radius:45px;background-color:#a01ed1;color:white;w\
  idth:auto;background:linear-gradient(94deg,#c764ec,#4a36b1);height:auto;borde\
  r:none;cursor:pointer;vertical-align:bottom;white-space:nowrap;font-weight:bo\
  ld;margin-bottom:11px}.switch-pay-button{font-size:16px;color:#9D9D9D;padding\
  :10px;background:transparent;text-decoration:underline;width:auto;height:auto\
  ;border:none;cursor:pointer}.modal-pricing-title{padding-right:0px}.modal-pri\
  cing{margin:0px;font-size:14px;margin-bottom:4px;text-align:left}.modal-prici\
  ng-subheader{margin-bottom:100px}.modal-subscriptions-container{display:flex;\
  position:relative;flex-direction:column;text-align:left;height:fit-content;bo\
  rder:1px solid
  transparent;border-radius:12px;padding:48px;padding-bottom:10px;color:#fff;ov\
  erflow-y:hidden}.modal-small-subscription-container{background:rgba(142,142,1\
  42,0.02);backdrop-filter:blur(114px);-webkit-backdrop-filter:blur(114px);heig\
  ht:fit-content;width:426px;border:1px solid
  rgba(255,255,255,0.13);border-radius:12px;margin:auto}.modal-subscription-sec\
  tion{display:flex;flex-direction:row;justify-content:space-between;height:aut\
  o;overflow:hidden;margin:auto;width:95%}#mobile-subscription-section-id{margi\
  n-top:16px}.modal-overview{visibility:visible}.modal-subscription-title-conta\
  iner{display:flex;flex-direction:column;justify-content:center;align-items:ce\
  nter}.modal-model-title{display:flex;flex-direction:row}.modal-subscription-t\
  itle{font-size:27px;margin-bottom:5px;line-height:29px}.modal-subscriptions-s\
  ubheader{font-size:14px;color:#9c9b9b;font-weight:300}.pro-title{margin-left:\
  3px;font-weight:600}.modal-subscription-price{display:flex;justify-content:ce\
  nter}.modal-price{font-size:30px;color:#8f37ff;font-weight:500;margin-bottom:\
  6px}.modal-subscription-length{font-size:24px;color:#8f37ff;margin-top:6px}.m\
  odal-get-started,.mobile-get-started{display:flex;flex-direction:row;width:10\
  0%!important;height:48px;padding:5px
  95px;justify-content:center;align-items:center;gap:10px;border-radius:12px;fo\
  nt-size:18px;text-align:center;background-color:#8f37ff;color:white;border:no\
  ne;white-space:nowrap;cursor:pointer}.modal-value{margin:0px;text-align:cente\
  r;display:flex;flex-direction:column;justify-content:center;align-items:cente\
  r;height:36px;border-bottom:1px rgba(255,255,255,0)
  solid}.modal-overview-title{display:flex;margin-block-start:0px;margin-block-\
  end:0px;justify-content:flex-start;align-items:center;height:36px;width:238%;\
  border-bottom:1px rgba(255,255,255,0.12)
  solid}.modal-overview{list-style-type:none;font-size:14px;line-height:38px;pa\
  dding-left:0px}.modal-value2{margin-top:-21px;border-bottom:1px
  rgba(255,255,255)
  solid}.modal-api-value{border-bottom:none}.get-started-container{display:none\
  ;flex-direction:column}.go-back-subscription{backdrop-filter:blur(10px);width\
  :100%!important;height:46px;background:var(--clear);border:1px solid
  transparent;border-radius:12px;color:var(--white);white-space:nowrap;cursor:p\
  ointer;transition:none;padding:5px
  65px;margin:auto;font-size:18px}.subscription-terms{margin-bottom:12px;list-s\
  tyle:none;line-height:24px}.payment-container{display:flex;flex-direction:col\
  umn}.payment-options{width:100%}.active{color:white;font-weight:400;backgroun\
  d:rgba(255,255,255,0.1)}.modal-see-full{display:flex;flex-direction:row;justi\
  fy-content:center;align-items:center;background:none;border:none;color:white;\
  font-size:14px;cursor:pointer;margin:auto;margin-bottom:30px;gap:4px}.share-b\
  utton{color:#fff!important;opacity:0.65;cursor:pointer;display:flex;align-ite\
  ms:center;flex-direction:row}.share-button
  img{margin-right:4px}#social-image{margin:0 auto}.separator-bullet{margin:0
  4px;color:#999}.card-list{display:flex;flex-direction:column;justify-content:\
  center;padding:18px 10px 0}.card-list
  .main-list{display:flex;flex-direction:column;margin:0
  auto;width:100%}.card-list-item{border-radius:8px;margin:30px auto 30px
  auto;width:100%;max-width:700px;cursor:pointer;display:flex;flex-direction:ro\
  w;outline:none;box-shadow:0 8px 92px 20px rgb(71 28 115 / 70%)}.card-list-item
  .heart-link{display:flex;flex:0 1;flex-direction:column;padding:12px
  0;align-items:center}.card-list-item
  .card-content{display:flex;flex-direction:column;background:transparent;width\
  :100%;border-radius:0 8px 8px
  0;color:black;padding:20px}.card-list-item:hover{outline:1px solid
  #898989}.card-list-item
  .tag-container{display:flex;flex-direction:row}.card-list-item
  .card-list-item-header{display:flex;flex-direction:row;align-items:center;mar\
  gin:12px;font-size:14px;color:#999}.card-list-item .trunc-summary{margin:0
  12px 12px;font-size:14px;color:#fff}.card-list-item
  .card-footer{display:flex;flex-direction:row;align-items:center;margin:12px;f\
  ont-size:14px}.card-list-item .card-footer
  .author-link{color:#c764ec}.card-list-item .title{margin:0 12px
  12px;font-size:15px;font-weight:500;line-height:24px;color:#fff}.dropdown-sel\
  ect{background-color:rgba(111,0,255,0.049);color:darkgray;padding:12px;font-s\
  ize:16px;border:none;cursor:pointer;-webkit-appearance:none;-moz-appearance:n\
  one;appearance:none}.dropdown-select
  option{color:white;margin-top:14px}.dropdown-select
  option:first-child{color:darkgray}.dropdown-select
  option:hover{background-color:#f1f1f1}.dropdown-payment-amount::before{conten\
  t:\"Add credits to your
  account\";position:absolute;z-index:1;top:10px;left:60px;font-size:8px;color:\
  darkgray;pointer-events:none}.dropdown-payment-amount::after{color:white}.dro\
  pdown-payment-amount{position:relative;display:none;margin-bottom:12px;width:\
  100%;height:48px}.go-dropdown{display:flex}.money-icon{position:absolute;left\
  :12px;top:50%;transform:translateY(-50%);pointer-events:none;color:darkgray;z\
  -index:1;border-right:1px solid
  darkgray;padding-right:12px}.dropdown-input-amount{font-size:12px;padding-lef\
  t:58px;padding-top:22px;padding-bottom:10px;height:48px;line-height:14px;posi\
  tion:relative;width:100%;border-radius:12px;border:1px solid
  rgba(255,255,255,0.13);background:rgba(255,255,255,0.02);backdrop-filter:blur\
  (12px)}.dropdown-icon{position:absolute;right:16px;top:50%;transform:translat\
  eY(-50%);pointer-events:none;background-color:#ffffff00;color:white;border:no\
  ne;z-index:2}.dropdown-icon:hover{cursor:pointer}.nudge-popup{position:fixed;\
  top:20px;right:-350px;width:350px;max-height:300px;border-radius:12px;border:\
  1px solid
  rgba(255,255,255,0.13);background:rgba(142,142,142,0.02);backdrop-filter:blur\
  (114px);transition:right 0.3s
  ease;z-index:1000;overflow-y:auto;visibility:hidden}.nudge-popup.active{right\
  :20px;visibility:visible}.nudge-popup-header{display:flex;justify-content:spa\
  ce-between;align-items:center;background:rgba(142,142,142,0.02);color:white;b\
  order-bottom:1px solid rgba(255,255,255,0.2);padding:2px
  17px}.pro-popup-header{border:none;justify-content:flex-end}.nudge-popup-head\
  er-text{display:flex;align-items:center;gap:10px}.nudge-popup-body{padding:20\
  px}.nudge-signin-button{margin-top:12px;font-size:16px}.nudge-pro-popup{posit\
  ion:fixed!important;bottom:20px;right:-350px;width:350px;max-height:400px;bor\
  der-radius:12px;border:1px solid
  rgba(255,255,255,0.13);background:rgba(142,142,142,0.02);backdrop-filter:blur\
  (114px);transition:right 0.3s
  ease;z-index:2147483647!important;isolation:isolate;overflow-y:auto;visibilit\
  y:hidden}.nudge-pro-popup.active{right:20px;visibility:visible}.nudge-pro-bod\
  y-title{display:flex;flex-direction:column;justify-content:center;text-align:\
  center}.nudge-pro-icon{margin-top:-20px;height:50px}.close-icon{cursor:pointe\
  r;font-size:40px;opacity:.75}.sub-terms-pro-styling{padding-left:0px;padding-\
  top:8px;margin:auto;flex-direction:column}.sub-terms-go-styling{padding-left:\
  0px;padding-top:8px;margin:auto;flex-direction:column}.dataset{position:relat\
  ive;width:100%}#amount{-webkit-appearance:none;-moz-appearance:none}.card-lis\
  t-item .title a{color:#fff}.thumbnail{width:500px;max-width:100%;margin:12px
  auto;height:350px;max-height:100%;box-sizing:border-box;border-radius:8px;bac\
  kground-size:contain;background-repeat:no-repeat;background-position:center}.\
  middle{vertical-align:middle}.hide{display:none}.heart-link{display:flex;alig\
  n-items:center;justify-content:center;color:#999!important;text-decoration:no\
  ne!important;cursor:pointer;-webkit-touch-callout:none;-webkit-user-select:no\
  ne;-khtml-user-select:none;-moz-user-select:none;-ms-user-select:none;user-se\
  lect:none}.heart-count{margin:4px}.heart-link:not([hearted])
  .hearted-heart-icon{display:none}.heart-link[hearted]
  .unhearted-heart-icon{display:none}.multi-select-checkbox{display:none}a:hove\
  r,a:focus{text-decoration:none}.social-icon{display:flex;gap:26px}.social-nam\
  e{font-size:14px}.icon-container{display:flex;flex-direction:column;align-ite\
  ms:center;gap:8px}.icon-container
  a{display:flex;width:58px;height:58px;border-radius:12px;background-color:#ff\
  ffff04;justify-content:center;align-items:center;transition:background-color
  0.3s;margin-bottom:-8px}.icon-container
  a:hover{background-color:#ffffff12}.facebook
  a:hover{background-color:#1876f2}.reddit a:hover{background-color:#ff4400}.x
  a:hover{background-color:rgb(13,13,13)}.linkedin
  a:hover{background-color:#0a66c2}.icon-container
  img{width:55%;height:auto;transition:transform 0.3s}.icon-container a:hover
  img{transform:scale(1.1)}@media screen and (max-width:960px){header
  img.header-social-icon{margin-left:12px}}@media screen and
  (max-width:800px){.modal-row{padding-left:2px}.smaller{padding-right:30px}}@m\
  edia screen and (max-width:600px){ul li.dropdown
  ul{right:2%}.contact,.press,.feedback,.legal{margin-left:10px;font-size:12px}\
  .linkedinlogo,.instagramlogo,.tiktoklogo,.redditlogo{margin-left:10px;height:\
  22px}.xlogo{height:18px}.modal-row-top{padding-left:15px}.smaller{padding-rig\
  ht:10px}dialog#signup-modal{width:365px}dialog#signup-modal
  form{width:90%;margin:auto}dialog#login-modal
  form{width:100%;margin:auto}dialog#subscription-modal
  form{width:400px;margin:10px}.thumbnail{max-width:90%;margin:12px}dialog
  .button{width:80%}dialog input[type=email]{width:90%}dialog
  input[type=text]{width:90%}dialog input[type=password]{width:90%}dialog
  .button.social-auth{width:80%;display:block;margin:auto;margin-bottom:10px;te\
  xt-align:left}.card-list .card-list-item{margin:4px 0}.card-list
  .card-list-item .card-content{width:87%}header
  img.deepai-logo{height:28px;margin-left:8px;width:32px;object-fit:cover;objec\
  t-position:left}.sub-terms-pro-styling{margin:auto}.sub-terms-go-styling{marg\
  in:auto}}@media
  (max-width:500px){.social-modal-body{width:268px}.social-icon{gap:12px}#socia\
  l-modal{width:98%}.social-name{font-size:12px}}@media screen and
  (max-width:470px){.modal-small-subscription-container{width:96vw;height:auto}\
  .modal-subscriptions-container{padding:34px 34px 14px
  34px}#close-sub{margin-right:10px}dialog{max-width:100vw;width:100vw}ul
  li.dropdown ul{width:96%}.login-container{width:96%}.leftfooter
  p{display:none}}@media screen and
  (max-width:420px){.modal-column{width:280px}.other-modal-column{width:280px;p\
  adding-bottom:5%;margin-bottom:10px}.other-modal-column
  .other-box-title{padding:0.8em}.modal-column
  .box-title{padding:0.8em}.other-modal-column
  :nth-child(2){padding:0.6em}.modal-row-top{padding-left:10px}.modal-column
  :nth-child(2){padding:0.6em}.member-active{padding:0 35px 0 35px}}@media
  screen and (max-width:390px){.member-active{padding:0 30px 0 30px}}@media
  screen and (max-width:375px){dialog#signup-modal form,dialog#login-modal
  form{width:90%;margin:auto}dialog input[type=email]{width:90%}dialog
  input[type=text]{width:90%}dialog input[type=password]{width:90%}dialog
  .button{width:90%}dialog
  .button.social-auth{width:90%}.modal-row{width:90%}.member-active{padding:0
  20px 0 20px}}@media screen and
  (max-width:425px){.subscription-modal-body{width:auto}.out-of-credits-modal-b\
  ody{width:auto}.subscription-pro{width:100%;margin:auto}}@media screen and
  (max-width:320px){ul li.dropdown ul{right:10px}dialog#signup-modal
  form,dialog#login-modal
  form{width:95%;margin:auto}dialog#signup-modal{width:365px}dialog#subscriptio\
  n-modal form{width:400px;margin:10px}dialog .button{width:100%}dialog
  .button.social-auth{width:100%}.thumbnail{max-width:90%;margin:12px}.card-list
  .card-list-item .card-content{width:87%}.card-list .card-list-item{margin:4px
  0}dialog
  .button.social-auth{width:100%;display:block}.options-container{width:260px}.\
  signin-with-google{width:240px}.email-container{width:240px}.password-contain\
  er{width:240px}.reenter-password-container{width:240px}.button.login-email{wi\
  dth:240px}}@media screen and
  (max-width:290px){.options-container{width:235px}.member-active{padding:0 12px
  0
  12px}dialog{margin-left:0px}}.announcement-banner{background-color:#CBA8FF;co\
  lor:#390D72;position:relative;box-sizing:border-box;display:none;justify-cont\
  ent:center;align-items:center;text-align:center;border-radius:50px;padding:8px
  45px;margin:0
  auto;max-width:fit-content}.banner-text{margin:0;padding:0;text-align:center;\
  display:flex;flex-direction:column}.permanent-announcement-banner{display:non\
  e;background-color:#CBA8FF;color:#390D72;position:relative;box-sizing:border-\
  box;display:inline-flex;justify-content:center;align-items:center;text-align:\
  center;border-radius:50px;padding:8px 29.5px;margin:0
  auto;max-width:fit-content}.menu-perm-ad{border-radius:6px;background-color:#\
  CBA8FF;color:white;padding:8px
  31.5px;margin-top:6px}.sidebar-perm-ad{border-radius:10px}.image-generator-ba\
  nner{padding:8px
  45px}.banner-text{margin:0;padding:0;text-align:center;display:flex;flex-dire\
  ction:column}.perm-banner-text{margin:0;padding:0;text-align:center;display:f\
  lex;flex-direction:column}.main-text{font-size:16px;line-height:1.2;color:#39\
  0D72}.image-perm-text{font-size:18px}.sub-text{font-size:13px;line-height:1.2\
  ;color:#390D72;opacity:0.8}.image-sub-perm-text{font-size:15px}.sub-perm-text\
  {font-size:12px}.pro-link-button{display:block;text-decoration:none;color:inh\
  erit;width:100%}.announcement-banner{display:none}.dismiss-button{background:\
  transparent;border:none;color:#390D72;cursor:pointer;font-size:20px;padding:0\
  ;margin:0;position:absolute;right:10px;top:48%;transform:translateY(-50%);wid\
  th:24px;display:flex;align-items:center;justify-content:center}div.sticky{pos\
  ition:-webkit-sticky;position:sticky;top:0;z-index:10}div.left-sticky{positio\
  n:fixed;top:20vh;left:0px;right:calc(100% -
  320px);z-index:20;overflow:hidden}.fs-sidewall-container{z-index:9!important}\
  #pmLink{visibility:hidden;text-decoration:none;cursor:pointer;background:tran\
  sparent;border:none;font-size:16px;line-height:22px}#pmLink:hover{visibility:\
  visible}@media (max-width:1650px){div.left-sticky{right:calc(100% -
  180px)}}@media (min-width:1650px){div.left-sticky{right:calc(100% -
  320px)}}h2,h3{font-weight:normal;font-size:20px}@media screen and
  (max-width:600px){#pmLink{font-size:12px}}@media screen and
  (max-width:850px){#pmLink{position:absolute;bottom:53px;text-align:center;lef\
  t:0px;width:85vw}}body{color:white}h1{text-align:center;font-size:45px;font-w\
  eight:normal;margin-bottom:0px;margin-top:70px}.figure-name{font-size:0.8em;f\
  ont-weight:500;text-align:center}h2{font-size:22px;font-weight:500;text-align\
  :center}h3{margin:19px;text-align:center;width:calc(min(100vw -
  18px,841px));margin-right:auto;margin-left:auto;margin-bottom:24px;margin-top\
  :10px}.figure{width:200px;height:200px;margin:10px;margin-top:70px;cursor:poi\
  nter;transition:transform
  .2s;object-fit:cover;border-radius:12px}.captioned-figure{display:inline-bloc\
  k}.fig-name{margin:-5px}.idea-container{display:flex;margin:auto;flex-directi\
  on:column;text-align:left;width:calc(min(100vw -
  24px,867px));text-decoration:none;list-style:none}.aichat-faq{text-align:left\
  ;width:calc(min(100vw - 18px,867px));margin:auto}.idea-container
  p{margin-bottom:32px}.learn-more-conatiner{text-align:left;width:calc(min(100\
  vw -
  24px,867px));margin:auto;margin-bottom:42px;font-size:32px}.weaknesses-contai\
  ner{margin-bottom:140px}.chatbox-wrapper{width:calc(min(100vw -
  45px,867px));display:flex;flex-direction:column;position:relative;margin-righ\
  t:auto;margin-left:auto}.chatbox{width:calc(min(100vw -
  67px,818px));display:flex;flex-direction:column;margin:0px;resize:none;backgr\
  ound:transparent;border:none;color:white;padding:22px;font-size:18px;height:1\
  87px;overflow:auto;justify-content:space-between;margin-top:0px;padding-botto\
  m:47px;min-height:20px}.chatbox::placeholder{overflow:hidden;white-space:nowr\
  ap;text-overflow:ellipsis}.chatbox:focus{outline:none}.outputBox{width:calc(m\
  in(100vw -
  18px,818px));display:block;margin:10px;background:rgba(21,16,38,1);border-rad\
  ius:12px;color:white;padding:22px;padding-top:0px;padding-bottom:42px;font-si\
  ze:18px;border:1px solid
  rgba(255,255,255,0.13);margin-right:auto;margin-left:auto;overflow-x:hidden;m\
  argin-top:0px;position:relative}.editsBox{display:none;flex-direction:row;jus\
  tify-content:center;width:calc(min(100vw -
  18px,841px));margin:auto;margin-bottom:12px;margin-top:2px}[data-edited]
  .editsBox{display:flex}.chatoptionsBox{display:flex;flex-direction:row;justif\
  y-content:flex-end;position:relative;margin-bottom:-20px;bottom:30px;margin-r\
  ight:16px;align-self:center;background:none;border-radius:10px}.uploadoptions\
  Box{display:flex;flex-direction:row;justify-content:flex-end;position:relativ\
  e;margin-bottom:0px;bottom:47px;width:96.6%;align-self:center;background:none\
  ;border-radius:10px}.hiddenTextContainer{display:none}.optionsBox{display:fle\
  x;flex-direction:row;justify-content:flex-end;margin-top:12px;position:absolu\
  te;bottom:0;right:0;padding:10px}.optionsBox button{margin:0
  3px}.uploadButton{display:flex;margin:0;cursor:pointer;border:none;border-rad\
  ius:50%;width:41px;height:41px;color:white;background-color:rgba(45,40,60,1);\
  z-index:4;justify-content:center;align-items:center}.expanded
  .uploadButton{margin-right:auto}.upload-preview-container{position:relative;f\
  lex-shrink:0;width:48px;height:48px;background:rgba(25,23,42,1);border-radius\
  :8px;border:1px solid
  rgba(49,47,64,1);overflow:visible}.upload-preview-container
  .preview-image{width:100%;height:100%;object-fit:cover;display:block}.upload-\
  preview-container
  .close-button:hover{background:rgba(255,255,255,0.15)}.text-file-indicator{wi\
  dth:100%;height:100%;background:transparent;font-size:9px;overflow:hidden;tex\
  t-overflow:ellipsis;white-space:nowrap;display:flex;align-items:center;justif\
  y-content:center;padding:4px;color:rgba(255,255,255,0.6)}.upload-preview-wrap\
  per{pointer-events:none}.upload-preview-wrapper
  .upload-preview-container{pointer-events:auto}.copytextButton{display:flex;ma\
  rgin-left:6px;cursor:pointer;border:none;border-radius:45px;padding:6px
  12px;color:white;background-color:rgba(38,34,56,1);z-index:4}.summarizetextBu\
  tton{display:flex;cursor:pointer;border:none;border-radius:45px;padding:6px
  12px;color:white;background-color:rgba(38,34,56,1);z-index:4}.summary
  .summarizetextButton{display:none}.deleteBoxButton{display:flex;cursor:pointe\
  r;border:none;border-radius:45px;padding:6px
  12px;color:white;background-color:rgba(38,34,56,1);z-index:4;margin-left:6px}\
  .addBoxButton{display:flex;cursor:pointer;border:1px solid
  white;border-radius:6px;color:#101010;background:white}.deleteBoxButton,.summ\
  arizetextButton,.searchButton,.copytextButton,.expandButton,.webSummaryButton\
  ,.copyCodeButton,.livecodesButton,.uploadButton{font-size:16px}#errorpopup,#s\
  ummarypopup,#copypopup,#upload-successful,#upload-unsuccessful,#upload-too-ma\
  ny,#big-file-type,#bad-file-type{visibility:hidden;min-width:250px;background\
  -color:rgba(45,40,60,1);border-radius:45px;padding:16px;position:fixed;z-inde\
  x:10;left:50%;bottom:30px;transform:translateX(-50%);text-align:center;border\
  :1px solid
  rgba(74,66,97,1);display:flex;align-items:center;justify-content:center;color\
  :#fff}#summarypopup,#copypopup{border-color:rgba(74,66,97,1);background-color\
  :rgba(45,40,60,1)}#upload-successful{color:white;border-color:#8F37FF;backgro\
  und-color:rgba(143,55,255,0.2);-webkit-backdrop-filter:blur(114px);-moz-backd\
  rop-filter:blur(114px);backdrop-filter:blur(114px)}#errorpopup,#upload-unsucc\
  essful,#upload-too-many,#big-file-type,#bad-file-type{color:#ee7a7a;border-co\
  lor:rgba(95,49,64,1);background-color:rgba(33,17,39,1)}.errorIcon{width:16px;\
  height:16px;margin-right:0.75rem;flex-shrink:0;opacity:0.9}#errorpopup.show,#\
  summarypopup.show,#upload-successful.show,#upload-unsuccessful.show,#copypopu\
  p.show,#upload-too-many.show,#big-file-type.show,#bad-file-type.show{visibili\
  ty:visible;-webkit-animation:fadein 0.5s,fadeout 0.5s 2.5s;animation:fadein
  0.5s,fadeout 0.5s 2.5s}@keyframes
  fadein{from{opacity:0}to{opacity:1}}@keyframes
  fadeout{from{opacity:1}to{opacity:0}}@-webkit-keyframes
  fadein{from{bottom:0;opacity:0}to{bottom:30px;opacity:1}}@keyframes
  fadein{from{bottom:0;opacity:0}to{bottom:30px;opacity:1}}@-webkit-keyframes
  fadeout{from{bottom:30px;opacity:1}to{bottom:0;opacity:0}}@keyframes
  fadeout{from{bottom:30px;opacity:1}to{bottom:0;opacity:0}}#progressContainer{\
  width:calc(min(100vw -
  18px,867px));height:10px;margin:auto;margin-top:12px;border-radius:12px;margi\
  n-bottom:12px}#deepaiProgressBar{height:10px;background:#8F37FF;border-radius\
  :10px;width:0%}#chatSubmitButton{width:41px;height:41px;padding:0;border-radi\
  us:45px;border:none;background:#8F37FF;color:white;cursor:pointer;display:fle\
  x;align-items:center;justify-content:center;flex-shrink:0;font-size:16px;flex\
  -grow:0}#chatStopButton{width:41px;height:41px;padding:0;border-radius:45px;b\
  order:none;background:rgba(45,40,60,1);color:white;cursor:pointer;display:non\
  e;align-items:center;justify-content:center;flex-shrink:0;font-size:16px;flex\
  -grow:0}.button-container{display:flex;align-items:center;justify-content:fle\
  x-end;gap:7px;width:100%}#recordButton{width:41px;height:41px;padding:0;borde\
  r-radius:45px;border:none;background:rgba(45,40,60,1);color:white;cursor:poin\
  ter;display:flex;align-items:center;justify-content:center;flex-shrink:0;tran\
  sition:width 0.3s ease,background-color 0.3s ease,color 0.3s
  ease;overflow:hidden}#recordButton.text{width:150px;border-radius:45px}#recor\
  dButton.recording{color:#ee7a7a;background-color:rgba(33,17,39,1)}.mic-icon{w\
  idth:22px;height:22px}.fade-in{opacity:0;transition:opacity 0.2s
  ease-in}.fade-in.show{opacity:1}.chatEditSubmitButton{white-space:nowrap;colo\
  r:white;background:#8F37FF;display:flex;margin-left:6px;border:none;cursor:po\
  inter;border-radius:45px;padding:12px
  24px;z-index:4}.chatEditCancelButton{display:flex;white-space:nowrap;color:wh\
  ite;margin-left:6px;cursor:pointer;border:none;border-radius:45px;padding:12px
  24px;color:white;background-color:rgba(45,40,60,1);z-index:4}.chatEditSubmitB\
  utton:hover{color:black}.cta{display:flex;align-items:center;position:absolut\
  e;margin:auto;padding:14px 24px;transition:all 0.2s
  ease;border:none;background:none;z-index:5}.cta-extra{margin-left:48px}.cta:b\
  efore{content:\"\";position:absolute;top:2px;left:1px;display:block;border:1px
  solid
  rgb(255,255,255);border-radius:24px;width:48px;height:48px;transition:all 0.3s
  ease}.button-path{display:none}.cta:hover
  .button-path{display:flex}.cta:hover{cursor:pointer}.cta:hover
  span{color:#000000}.cta
  span{position:relative;font-size:18px;font-weight:500;letter-spacing:0;color:\
  #ffffff}.cta
  svg{position:relative;top:-1px;margin-left:24px;fill:none;stroke-linecap:roun\
  d;stroke-linejoin:round;stroke:#ffffff;stroke-width:2;transform:translateX(-3\
  2px);transition:all 0.3s
  ease-in-out}.cta:hover:before{width:100%;background:rgb(255,255,255)}.cta:hov\
  er
  svg{transform:translateX(-16px);stroke:#000000}.cta:active{transform:scale(0.\
  95)}.idea-section{display:flex;flex-direction:column;width:calc(min(100vw -
  18px,867px));margin:auto;margin-top:12px;margin-bottom:200px}.idea-row{positi\
  on:relative;margin-top:84px}#idea-info-list,#str-info-list,#weak-info-list{te\
  xt-align:left;display:flex;position:relative}#history-rename{display:flex;fle\
  x-direction:row;justify-content:center;align-items:center;margin:auto}#histor\
  y-delete-chat,#character-edits-chat{display:flex;flex-direction:row;justify-c\
  ontent:center;align-items:center;width:55.35%;gap:7px}#chatSessionDeleteButto\
  n,#chatHistoryDeleteButton,#see-more-btn{right:8px;height:45px;width:50%;bord\
  er:none;border-radius:32px;background-color:rgba(45,40,60,1);color:white;alig\
  n-items:center;justify-content:center;padding:0
  21px;cursor:pointer}#characterReportButton{color:#ee7a7a;font-size:14px;paddi\
  ng:8px
  16px;border:none;border-radius:45px;background-color:rgba(33,17,39,1);margin:\
  auto}#chatSessionRenameButton{margin:5px;color:#ffffff;padding:10px
  17px;border-radius:32px;cursor:pointer;border:1px solid
  #c764ec;font-size:12px;text-align:center;background:#c764ec}#chat-editing-but\
  ton{display:block;margin:auto;color:#fff;padding:16px
  17px;cursor:pointer;font-size:12px;text-align:center;background:transparent;t\
  ext-decoration:none;border:none;opacity:0}.response-length-options{margin-lef\
  t:auto;display:flex;justify-content:center;width:calc(min(100vw -
  24px,850px));margin-right:auto;align-items:center}.response-length-options
  input[type=radio]{margin:0px;width:0px}.response-length-options
  input[type=radio]:checked +
  label{background-color:#1f77d1;color:rgba(45,40,60,1)}.other-chat-styles{disp\
  lay:flex;flex-direction:row;justify-content:space-between;flex-wrap:wrap;marg\
  in:10px;width:calc(100% -
  20px);max-width:890px;margin-left:auto;margin-right:auto}.learning-style{just\
  ify-content:center}.other-chat-styles a{display:flex;width:calc(33% -
  12px);padding:18px
  14px;align-items:center;gap:10px;border-radius:12px;border:none;background:no\
  ne;justify-content:center;backdrop-filter:blur(2.10px);margin:6px;color:white\
  ;box-sizing:border-box}.other-chat-styles
  a:hover{background:var(--clear)}.characters-chat-link{display:block;width:50%\
  ;color:white;cursor:pointer;font-size:15px;text-align:center;margin-left:auto\
  ;margin-right:auto;margin-bottom:18px;border-radius:45px;border:none;backgrou\
  nd:rgba(45,40,60,1);padding:13.5px
  0px}.chat-dropdown-box{display:block;font-size:16px;margin:auto;color:white;b\
  ackground:rgba(45,40,60,1);border:none;border-radius:12px;padding:0px;width:c\
  alc(min(100vw -
  18px,867px));max-width:865px;min-width:200px;opacity:0;appearance:none;-moz-a\
  ppearance:none;-ms-appearance:none;padding-right:30px}.chat-dropdown-box:focu\
  s{outline:none}.genius-chat-mode-title{font-size:42px;font-weight:500}.featur\
  ed-chat-modals{display:flex;flex-direction:row;text-align:center;font-size:36\
  px;font-weight:500;width:100%;height:auto;gap:24px}.genius-images{font-size:4\
  8px;font-weight:500}.genius-chat-sparkle{position:absolute;width:5%;height:au\
  to;padding-left:6px;top:44px}.genius-mode-chat-popup-description{font-weight:\
  400;font-size:24px;margin-bottom:48px;margin-top:-12px}.featured-chat-images,\
  .tier-images{width:100%;height:auto}.mobile-featured-chat-images{display:none\
  }.mobile-featured-chat-images,.tier-images{width:100%;height:auto;margin-bott\
  om:24px}.chat-prompting{border:2px solid
  rgba(255,255,255,0.13);background:rgba(255,255,255,0.02);border-radius:12px;p\
  adding:12px;bottom:36%;left:34%;position:absolute;font-size:14px;width:242px;\
  text-align:center;box-shadow:8px 14px 17px
  rgba(0,0,0,0.4);backdrop-filter:blur(114px);-webkit-backdrop-filter:blur(114p\
  x);-moz-backdrop-filter:blur(114px)}.try-now{height:42px;white-space:nowrap;b\
  ackground-color:#8f37ff;color:white;border:none;width:100%!important;font-siz\
  e:14px;font-weight:400;font-family:var(--font-family-helvetica);padding:0px;m\
  argin-bottom:12px;border-radius:12px;margin-bottom:24px;cursor:pointer}.terms\
  {font-size:14px;text-align:center;color:#BDBDBD}.exit-feature{display:flex;fl\
  ex-direction:row;position:absolute;justify-content:right;right:10px;top:10px;\
  cursor:pointer;margin:10px}@media screen and
  (max-width:915px){.chatoptionsBox{width:calc(min(100vw -
  25px,830px));margin-right:0px}.uploadoptionsBox{width:92.6%}}.select-wrapper{\
  position:relative;width:calc(min(100vw - 22.5px,865px));margin:0
  auto}.dropdown-arrow-container{position:absolute;top:50%;right:18px;transform\
  :translateY(-50%);pointer-events:none}.dropdown-arrow-container
  svg{display:block;width:100%;height:auto}@media screen and
  (max-width:702px){.genius-chat-mode-title{width:100%;height:auto}.exit-featur\
  e{width:14px;top:12px;right:14px;margin-bottom:8px}.genius-mode-header{font-s\
  ize:12px}.genius-chat-sparkle{display:none}.featured-chat-images{display:none\
  }.mobile-featured-chat-images{display:flex;flex-direction:column;justify-cont\
  ent:center}.try-now{margin-top:-90px;margin-bottom:8px;height:42px}.genius-mo\
  de-chat-popup-description{font-weight:400;font-size:12px;margin-bottom:12px;m\
  argin-top:-12px}.chat-prompting{display:none}.genius-chat-mode-title{font-siz\
  e:24px;margin-top:18px}.standard-image{display:none}.terms{font-size:10px}.si\
  debar-ad{display:none}}.amazon-advertisement-container{display:flex;justify-c\
  ontent:center;max-width:100%;flex-direction:column}.inner-amazon-advertisemen\
  t-container{height:33%;border:5px solid
  #1a1a1a;border-radius:12px;text-align:center;text-decoration:none;color:black\
  ;padding:10px;display:flex;flex-direction:column;align-items:bottom;justify-c\
  ontent:center;background:white}.inner-amazon-advertisement-container
  img{height:auto;object-fit:contain;max-height:100px;max-width:100px}.amazon-a\
  d-image-box{width:33%}.inner-amazon-advertisement-container-info{height:100%;\
  justify-content:center;display:inherit}.amazon-ad-text-container{width:67%;di\
  splay:flex;justify-content:center;align-self:center;flex-direction:column;ove\
  rflow:hidden;margin-left:20px}.amazon-ad-text-container
  p{margin-bottom:0px}.amazon-ad-stat-box{display:flex;flex-direction:row;justi\
  fy-content:space-around}.amazon-star-rating{height:20px;margin:10px;margin-bo\
  ttom:0}.amazon-advert-price{margin:10px;margin-bottom:0;color:#B63419;height:\
  20px}.amazon-ad-prime{display:flex;align-self:end;margin:10px;margin-bottom:0\
  ;height:20px}.amazon-ad-scroll-container{width:100%;height:auto;overflow:auto\
  }.amazon-ad-overall-container{display:flex;flex-direction:row}.outputBox
  .url-chip{display:inline-flex;align-items:center;padding:8px;margin-bottom:10\
  px;margin-right:0px;background-color:rgba(255,255,255,0.08);color:white;borde\
  r-radius:12px;font-size:14px;text-decoration:none;transition:background-color
  0.3s}.url-chip
  img{margin-right:5px;width:27px;height:27px}.expandButton{display:block;width\
  :max-content;margin:10px
  auto;margin-top:0px;cursor:pointer;border:none;border-radius:45px;padding:6px
  12px;color:white;background-color:rgba(45,40,60,1);text-align:center}.expandB\
  utton.expanded{background-color:rgba(74,66,97,1)}.expandButton.collapsed{back\
  ground-color:rgba(45,40,60,1)}.showSummaryText:hover{cursor:pointer}.resultDi\
  v{position:relative;margin-bottom:12px;background-color:rgba(255,255,255,0.08\
  );border-radius:12px;padding:16px;font-size:16px;line-height:1.4;border:none;\
  position:relative;margin:0px;margin-bottom:7px;color:white;overflow:auto}.res\
  ultsContainer{margin-bottom:16px}.outputBox .resultDiv
  a{color:#fff;text-decoration:none}.outputBox .resultDiv
  a:visited{color:#a9a9a9;text-decoration:none}.webSummaryButton{float:right;di\
  splay:flex;margin-left:6px;margin-top:6px;cursor:pointer;border:none;border-r\
  adius:45px;padding:6px
  12px;color:white;background-color:rgba(74,66,97,1);z-index:4}.searchButton{di\
  splay:flex;margin-left:6px;cursor:pointer;border:none;border-radius:45px;padd\
  ing:6px
  12px;color:white;background-color:rgba(255,255,255,0.08);z-index:4}[data-has-\
  results] .searchButton{display:none}.outputBox
  pre{background-color:rgba(255,255,255,0.08);border-radius:12px;padding:16px;o\
  verflow-x:auto;font-size:16px;line-height:1.4;white-space:pre-wrap;border:non\
  e;position:relative;margin:0px;color:#ffffff26;margin-bottom:12px;display:fle\
  x;align-items:flex-start;padding-top:24px;padding-left:24px;padding-bottom:48\
  px;margin-top:12px}.outputBox pre *{font-family:monospace}.outputBox
  code{font-family:monospace;color:#aeaeae;font-size:16px}.outputBox
  pre::after{content:'';display:block;height:42px;margin-bottom:-30px}.outputBox
  .copyCodeButton{position:absolute;bottom:10px;right:10px;display:flex;font-fa\
  mily:'Atkinson
  Hyperlegible';margin-left:6px;cursor:pointer;border:none;border-radius:45px;p\
  adding:6px
  12px;color:white;background-color:rgba(74,66,97,1);z-index:4}.outputBox
  .livecodesButton{position:absolute;bottom:10px;right:74px;display:flex;font-f\
  amily:'Atkinson
  Hyperlegible';margin-left:6px;cursor:pointer;border:none;border-radius:45px;p\
  adding:6px
  12px;color:white;background-color:rgba(74,66,97,1);z-index:4}.outputBox
  .livecodesButton img{width:auto;height:18px}.outputBox
  strong{font-weight:bold}.outputBox
  a{color:white;cursor:pointer;text-decoration:underline}.outputBox
  a:visited{color:#a9a9a9;cursor:pointer;text-decoration:underline}.outputBox
  blockquote{padding-left:10px;border-left:2px solid
  #aeaeae;font-style:italic;margin:0}.outputBox blockquote
  cite{display:block;text-align:right;color:#aeaeae;font-style:normal}.outputBox
  .table-container{overflow:hidden;border:1px solid
  #aeaeae;width:fit-content}.outputBox
  table{width:100%;border-collapse:collapse;margin:0}.outputBox th,.outputBox
  td{border:1px solid #aeaeae;padding:0.5em 1em;text-align:left}.outputBox
  th{font-weight:bold}.outputBox h1,.outputBox h2,.outputBox h3,.outputBox
  h4,.outputBox h5,.outputBox h6,.outputBox p,.outputBox ul,.outputBox
  ol,.outputBox
  li{margin:0;margin-top:7px;text-align:left;padding-top:5px;padding-bottom:5px\
  ;width:auto}.outputBox ul,.outputBox
  ol{padding-left:20px;padding-top:10px;padding-bottom:10px}.outputBox
  li{padding-top:5px;padding-bottom:5px}.outputBox ul ul,.outputBox ul
  ol,.outputBox ol ul,.outputBox ol ol{padding-left:40px}.outputBox
  p{white-space:pre-wrap}.outputBox
  img{max-width:100%;display:block;margin-left:auto;margin-right:auto;min-heigh\
  t:30px}.outputBox
  img[src*=\"wolframalpha.com\"]{mix-blend-mode:screen;clip-path:inset(4px 4px
  4px 4px);filter:invert(1) hue-rotate(180deg)
  brightness(1.4)}.outputBox>*:not(.expandButton):not(.optionsBox):not(.chipsBo\
  x):not(.resultsContainer){padding-top:10px}.outputBox.expanded
  .chipsBox,.outputBox.expanded .showSummaryText,.outputBox:not(.expanded)
  .resultsContainer,.outputBox:not(.expanded)
  .hideSummaryText{display:none}.generic-text-ad{width:calc(min(100vw -
  18px,841px));max-width:818px;margin:10px
  auto;padding:20px;background-color:#2a0e3a;border-radius:10px;text-align:cent\
  er;position:relative;overflow:hidden;transition:background-color 0.3s
  ease}.generic-text-ad::before{content:'';position:absolute;top:0;left:0;right\
  :0;bottom:0;border-radius:10px;padding:3px;background:linear-gradient(135deg,\
  #6a0dad,#9400d3,#ff1493);-webkit-mask:linear-gradient(#fff 0 0)
  content-box,linear-gradient(#fff 0
  0);-webkit-mask-composite:xor;mask-composite:exclude;pointer-events:none}.gen\
  eric-text-ad::after{content:\"Sponsored\";position:absolute;top:5px;right:5px\
  ;color:white;padding:2px
  5px;font-size:12px;border-radius:3px}.generic-text-ad:hover{background-color:\
  #3a1555}.generic-text-ad
  a{color:#fff;text-decoration:none;display:block;position:relative}.generic-te\
  xt-ad
  p{margin:0;font-size:20px;font-weight:bold;line-height:1.4}.history-title-com\
  bo{display:flex;flex-direction:column;font-size:20px;font-weight:400}.history\
  -content-subheader-row{font-size:16px;color:#9F9F9F;margin-top:8px}.history-e\
  diting,.history-manager{display:flex;flex-direction:row;justify-content:space\
  -between;align-items:center;margin-top:32px;width:calc(min(100vw -
  24px,867px));max-width:865px;min-width:200px;margin:auto;margin-top:42px}.his\
  tory-manager{margin-bottom:0px}#history-editing{display:none;opacity:0}#renam\
  e-chat-button{position:absolute;right:8px;height:36px;border:none;border-radi\
  us:18px;background:rgba(45,40,60,1);color:white;align-items:center;justify-co\
  ntent:center;padding:0
  21px;cursor:pointer}.history-input-field{width:-webkit-fill-available;height:\
  48px}.history-input-edit-container{display:flex;position:relative;align-items\
  :center;width:55%;border-radius:32px;border:1px solid
  rgba(255,255,255,0.13);background:rgba(255,255,255,0.04);backdrop-filter:blur\
  (12px)}#new-chat-title{width:80%;height:48px;border-radius:32px;border:none;p\
  adding:0px;padding-left:24px;padding-right:80px;background:transparent;font-f\
  amily:\"Helvetica\";font-size:16px;font-weight:400;color:white}#new-chat-titl\
  e::placeholder{color:#9F9F9F}.chat-mode-border{border:.5px solid
  #fefefe12;width:calc(min(100vw -
  18px,864px));height:0px;margin:auto;margin-top:42px}#chat-mode-border{margin-\
  bottom:42px}select.chat-dropdown-box>option{color:black}@media screen and
  (max-width:890px){.chatoptionsBox{width:calc(min(100vw -
  25px,820px))}.outputBox{width:calc(min(100vw -
  62px,818px));padding-left:22px;padding-right:22px}.history-editing{display:fl\
  ex;flex-direction:column}.history-title-combo{margin-bottom:18px;width:100%}.\
  chat-mode-border{width:94%}.history-input-edit-container{width:100%}#history-\
  delete-chat,#character-edits-chat{width:100%}.history-manager{display:flex;fl\
  ex-direction:column}#chatSessionDeleteButton,#chatHistoryDeleteButton,#see-mo\
  re-btn{width:50%}}@media screen and
  (max-width:715px){.response-length-options{flex-direction:column}.history-edi\
  ting,.history-manager,#see-more-btn,.characters-chat-link{width:calc(min(100vw
  -
  24px,867px));margin-top:8px!important}#history-editing{margin-top:0px;margin-\
  bottom:24px}#history-delete-chat,#character-edits-chat{flex-direction:column}\
  .history-title-combo{box-sizing:border-box;padding-left:8px}#chatSessionDelet\
  eButton,#chatHistoryDeleteButton{width:100%}.other-chat-styles{flex-direction\
  :column;margin:auto;max-width:98%}.other-chat-styles
  a{box-sizing:border-box;margin:0px;margin-bottom:7px;width:100%}.characters-c\
  hat-link{margin-bottom:12px}}.optionsBox{display:flex}.group1,.group2{display\
  :flex}#see-more-btn{margin:15px auto
  0;padding:0;display:flex;margin-bottom:60px}.chat-dropdown-box{display:block;\
  font-size:16px;width:100%;color:white;background:rgba(45,40,60,1);border:none\
  ;border-radius:12px;padding:13.5px
  22px;appearance:none;-webkit-appearance:none;-moz-appearance:none;opacity:1}.\
  kontext-ad,.koah-ad-container{width:calc(min(100vw -
  45px,841px));display:flex;flex-direction:column;margin:0px;resize:none;backgr\
  ound:linear-gradient(to
  right,rgba(168,85,247,0.2),rgba(59,130,246,0.2));border-radius:12px;border:1px
  solid rgb(214 168 255 /
  30%);color:white;padding:22px;padding-right:0px;font-size:18px;margin-right:a\
  uto;margin-left:auto;overflow:auto;justify-content:space-between;margin-top:0\
  px;margin-bottom:10px}.kontext-a{text-decoration:underline;color:#b78ded}.koa\
  h-ad{text-decoration:underline;color:#b78ded;>br{display:none}}.koah-ad-badge\
  {display:none}.monetano-ad{display:block;margin-left:auto;margin-right:auto}.\
  trustpilot-popup{position:fixed;bottom:100px;left:20px;width:280px;max-height\
  :400px;border-radius:12px;border:1px solid
  rgba(255,255,255,0.13);background:rgba(142,142,142,0.02);backdrop-filter:blur\
  (114px);transform:translateX(-350px);transition:transform 0.3s
  ease-out;z-index:1000;overflow-y:auto;visibility:hidden}.trustpilot-popup.act\
  ive{transform:translateX(0);visibility:visible}.chat-layout-container{positio\
  n:relative;margin:0;padding:0}.chat-layout-container.sidebar-open
  .chat-sidebar{transform:translateX(0)}@media
  (min-width:1200px){.chat-layout-container.sidebar-open
  .chat-main{margin-left:270px;transition:margin-left 0.2s
  ease}.chat-layout-container:not(.sidebar-open)
  .chat-main{margin-left:0;transition:margin-left 0.2s
  ease}}.chat-layout-container:not(.ready-for-animation)
  .chat-sidebar,.chat-layout-container:not(.ready-for-animation)
  .chat-main,.chat-layout-container:not(.ready-for-animation)
  .persistent-compose-area{transition:none!important}.chat-sidebar{position:fix\
  ed;top:47px;bottom:0;width:260px;background:rgba(21,16,38,1);border:1px solid
  rgba(51,47,66,1);z-index:5;overflow:visible;transition:transform 0.2s
  ease;transform:translateX(-100%);left:0;border-radius:0 12px 12px
  0;border-left:none}@media
  (min-width:1200px){.chat-sidebar{left:10px;border-radius:12px;border-left:1px
  solid rgba(51,47,66,1)}.chat-layout-container:not(.sidebar-open)
  .chat-sidebar{transform:translateX(calc(-100% -
  10px))}}.sidebar-header{top:0;background:rgba(21,16,38,1);padding:21.5px;bord\
  er-bottom:1px solid rgba(255,255,255,0.13);text-align:center;border-radius:0
  12px 0
  0;overflow:hidden;cursor:pointer}.sidebar-label{font-size:18px}.sidebar-toggl\
  e-container{position:fixed;top:58px;left:11px;display:flex;align-items:center\
  ;gap:10px;z-index:6}@media
  (min-width:1200px){.sidebar-toggle-container{left:21px}}.sidebar-toggle{width\
  :45px;height:45px;border-radius:10px;border:none;background:rgba(45,40,60,1);\
  display:flex;align-items:center;justify-content:center;cursor:pointer;transit\
  ion:width 0.3s ease,opacity 0.3s ease,visibility 0.3s ease,box-shadow 0.3s
  ease}.history-icon{width:28px;height:28px}.chat-main{position:relative;margin\
  -left:0}.sidebar-footer{position:absolute;bottom:0;width:100%;padding:30px
  16px 12px;box-sizing:border-box;background:linear-gradient(to
  bottom,rgba(21,16,38,0),rgba(21,16,38,0.5) 20px,rgba(21,16,38,0.9)
  50%,rgba(21,16,38,1) 100%);z-index:10;border-radius:0 0 12px
  0;overflow:hidden}@media (min-width:1200px){.sidebar-header{border-radius:12px
  12px 0 0}.sidebar-footer{border-radius:0 0 12px
  12px}}.sidebar-ad{position:absolute;bottom:50px;width:100%;padding:12px
  16px;box-sizing:border-box;z-index:11}.delete-all-history-button{width:100%;b\
  ackground:rgba(45,40,60,1);color:#fff;border:none;border-radius:45px;padding:\
  12px
  16px;font-size:16px;cursor:pointer;text-align:center;position:relative;overfl\
  ow:hidden}.delete-all-history-button::after{content:\"\";position:absolute;le\
  ft:0;right:0;bottom:-10px;height:20px;background:linear-gradient(to
  bottom,transparent,rgba(0,0,0,0.2));border-radius:0 0 45px
  45px;z-index:-1}.sidebar-overlay{position:fixed;top:47px;left:0;right:0;botto\
  m:50px;background:linear-gradient(to bottom,rgba(0,0,0,0) 0%,rgba(0,0,0,0.35)
  30px,rgba(0,0,0,0.35) calc(100% - 30px),rgba(0,0,0,0)
  100%);opacity:0;pointer-events:none;transition:opacity 0.2s
  ease;z-index:4}.sidebar-overlay.active{opacity:1;pointer-events:auto}.history\
  -heading-label{color:#9F9F9F;margin:30px 0 6px
  7px;font-size:14px}.chat-history-item{position:relative;display:block;padding\
  :8px 40px 8px
  8px;color:#fff;cursor:pointer;border-radius:10px;background-color:transparent\
  ;transition:none;margin-bottom:6px}.chat-history-label{display:block;white-sp\
  ace:normal;word-wrap:break-word;overflow-wrap:break-word}.chat-history-dots{p\
  osition:absolute;top:50%;right:8px;transform:translateY(-50%);font-size:24px;\
  font-weight:bold;user-select:none;opacity:0}.chat-history-item-wrapper:hover
  .chat-history-dots{opacity:1}.chat-history-item:hover{background-color:var(--\
  clear)}.chat-history-item.current-chat{background-color:rgba(60,55,75,1)}.cha\
  t-history-item.menu-open{background-color:var(--clear)}.chat-history-item.ren\
  ame-open{background-color:var(--clear)}.chat-history-item.current-chat.rename\
  -open{background-color:rgba(60,55,75,1)}.chat-history-item.current-chat.menu-\
  open{background-color:rgba(60,55,75,1)}.chat-history-item.menu-open
  .chat-history-dots,.chat-history-item.current-chat
  .chat-history-dots{opacity:1}.chat-history-context-menu{position:fixed;displa\
  y:none;background-color:rgba(21,16,38,1);border:1px solid
  rgba(51,47,66,1);border-radius:10px;padding:5px;z-index:6}.chat-history-conte\
  xt-menu
  button{display:block;width:100%;border:none;cursor:pointer;text-align:center;\
  padding:5px
  8px;background:transparent;border-radius:6px}.history-rename-btn{color:#fff;m\
  argin-bottom:5px}.history-rename-btn:hover{background:rgba(45,40,60,1)}.histo\
  ry-delete-btn{color:#ee7a7a}.history-delete-btn:hover{background:rgba(51,23,4\
  2,1)}.inline-rename-input{display:block;padding:6px
  6px;border-radius:5px;border:1px solid
  rgba(74,66,97,1);background:rgba(45,40,60,1);color:#fff;width:90%;outline:non\
  e}.modal-root{position:fixed;overflow:hidden;background-color:rgba(0,0,0,0.5)\
  ;left:0;top:0;width:0;height:0;opacity:0;transition:opacity 0.15s
  ease-out,width 0s linear 0.15s,height 0s linear
  0.15s;z-index:9999}.modal-root.visible{width:100%;height:100%;opacity:1;trans\
  ition:opacity 0.15s ease-out}.modal{margin:0
  auto;width:100%;max-width:400px;background:rgba(21,16,38,1);border:1px solid
  rgba(51,47,66,1);padding:0;border-radius:12px;position:relative;top:50%;trans\
  form:translateY(-50%);max-height:85vh;overflow:auto}.title{text-align:center;\
  font-size:20px;margin-top:1.5rem}.confirm-desc{font-size:14px;color:#bbb;text\
  -align:center;padding:1.25rem
  2rem}.modal-button-container{display:flex;flex-direction:column;justify-conte\
  nt:center;margin-bottom:1.5rem}.confirm-button{padding:0.6rem
  1rem;background-color:transparent;margin:0.25rem
  2rem;border-radius:5px;border:none;color:white;cursor:pointer}#confirm-yes-bt\
  n{color:#ee7a7a;background-color:rgba(51,23,42,1);border-radius:45px}#confirm\
  -cancel-btn{background-color:rgba(45,40,60,1);border-radius:45px}#confirm-yes\
  -btn:disabled{cursor:not-allowed;opacity:0.5}.confirm-input{display:block;pad\
  ding:12px 12px;margin:4px auto;margin-top:0px;border-radius:12px;border:1px
  solid
  rgba(74,66,97,1);background:rgba(45,40,60,1);color:#fff;width:76%;outline:non\
  e}.pro-banner-showing .new-chat-button-container,.pro-banner-showing
  .sidebar-toggle-container,.pro-banner-showing
  .sidebar-overlay{top:100px!important}.pro-banner-showing
  .chat-sidebar{top:89px!important}@media
  (min-width:1200px){.new-chat-button-container{right:21px}}.new-chat-button{wi\
  dth:45px;height:45px;border-radius:10px;border:none;background:rgba(45,40,60,\
  1);display:flex;align-items:center;justify-content:center;cursor:pointer;text\
  -decoration:none;transition:width 0.3s ease,opacity 0.3s ease,visibility 0.3s
  ease,box-shadow 0.3s
  ease}.plus-icon{width:22px;height:22px;margin:0;display:flex;align-items:cent\
  er;justify-content:center}.chat-mode-dropdown-container{position:relative;dis\
  play:inline-block;width:calc(min(100vw -
  22.5px,400px));max-width:865px;margin:auto}.chat-mode-dropdown-trigger{displa\
  y:flex;align-items:center;justify-content:space-between;font-size:16px;width:\
  100%;height:45px;color:white;background:rgba(45,40,60,1);border:none;border-r\
  adius:12px;padding:8px
  14px;cursor:pointer}.chat-mode-dropdown-menu{position:absolute;top:auto;botto\
  m:45px;left:50%;transform:translateX(-50%);width:250px;background-color:rgba(\
  21,16,38,1);border:1px solid
  rgba(51,47,66,1);border-radius:12px;padding:8px;z-index:6;box-sizing:border-b\
  ox;display:none}.chat-mode-menu-header{display:flex;align-items:center;justif\
  y-content:space-between;margin:14px 14px 6px
  14px;padding-bottom:6px}.header-title{font-size:14px;color:#9F9F9F}.info-link\
  {color:#9F9F9F;text-decoration:none;display:flex;align-items:center}.chat-mod\
  e-menu-item{display:flex;align-items:center;justify-content:space-between;pad\
  ding:10px
  14px;color:#fff;font-size:15px;line-height:1.4;border-radius:6px}.chat-mode-m\
  enu-item:hover{background-color:var(--clear);cursor:pointer}.chat-mode-menu-i\
  tem
  .text-container{display:flex;flex-direction:column}.chat-mode-description{fon\
  t-size:13px;color:#9F9F9F;margin-top:4px}.chat-mode-locked{opacity:0.5}.chat-\
  mode-checkmark{display:inline-flex;align-items:center;justify-content:center;\
  width:20px;height:20px;margin-left:10px}.chat-mode-menu-item:not(.selected)
  .chat-mode-checkmark{display:none}.katex{font-family:'Times New
  Roman','Times',serif;font-size:0.7vw;overflow-x:auto;overflow-y:hidden;white-\
  space:nowrap}.upload-preview-wrapper{position:absolute;width:96%;top:5px;left\
  :12px;right:210px;display:flex;flex-direction:row;gap:8px;overflow-x:auto;ove\
  rflow-y:hidden;scroll-behavior:smooth;pointer-events:none;background:rgba(25,\
  23,42,1);padding:6px
  0px}.upload-preview-container{position:relative;overflow:visible;flex-shrink:\
  0;width:48px;height:48px;pointer-events:auto}.upload-preview-container
  .preview-image{width:48px;height:48px;object-fit:cover;border-radius:8px;bord\
  er:1px solid rgba(255,255,255,0.2)}.upload-preview-container
  .close-button{position:absolute;top:-4px;right:-6px;width:16px;height:16px;bo\
  rder-radius:50%;background:rgba(255,255,255,0.9);color:#333;border:none;curso\
  r:pointer;font-size:12px;line-height:1;padding:0;display:flex;align-items:cen\
  ter;justify-content:center;font-weight:bold}.upload-preview-container
  .close-button:hover{background:rgba(255,255,255,1)}.text-file-indicator{width\
  :48px;height:48px;background:rgba(255,255,255,0.1);border:1px solid
  rgba(255,255,255,0.2);border-radius:8px;font-size:9px;overflow:hidden;text-ov\
  erflow:ellipsis;white-space:nowrap;display:flex;align-items:center;justify-co\
  ntent:center;padding:4px;color:white}.persistent-compose-area{position:relati\
  ve}.chatImageBox{display:grid;gap:8px;margin-left:20px;width:fit-content;curs\
  or:pointer}.image-chatbox{text-align:center;display:inline-block;background:r\
  gba(25,23,42,1);border-radius:12px;border:1px solid
  rgba(49,47,64,1);border-radius:12px;padding:4px;width:auto}.chat-image{paddin\
  g-top:0px!important;border-radius:8px;display:none;text-align:center;width:80\
  px;aspect-ratio:1 /
  1;object-fit:cover;cursor:pointer}#imageOverlay{position:fixed;top:0;left:0;w\
  idth:100vw;height:100dvh;background:rgba(0,0,0,0.85);display:none;align-items\
  :center;justify-content:center;z-index:9999;transform:none!important;-webkit-\
  transform:none!important}#imageOverlay
  img{max-width:90%;max-height:90%;box-shadow:0 0 16px
  rgba(0,0,0,0.5);border-radius:4px}.preview-image{height:48px;width:48px;objec\
  t-fit:cover;border-radius:8px;border:1px solid
  rgba(255,255,255,0.2)}.close-button{background:transparent;border:none;color:\
  white;font-size:16px;cursor:pointer;background-color:rgba(255,255,255,0.08);b\
  order-radius:20px;padding:5px
  7px}#drag-overlay{position:fixed;top:0;left:0;width:100vw;height:100vh;backgr\
  ound-color:rgba(0,0,0,0.3);border:5px dashed
  #fff;box-sizing:border-box;z-index:9999;pointer-events:none}#convo{height:aut\
  o;overflow-y:auto;padding-bottom:77px;scroll-behavior:smooth;display:block;ma\
  rgin-bottom:-10px;width:100%;margin-left:auto;margin-right:auto;position:rela\
  tive;transition:background-image 0.3s
  ease;padding-top:24px}.persistent-compose-area{position:fixed;bottom:10px;lef\
  t:0;right:0;margin:0 auto;width:calc(min(100vw -
  18px,862px));max-width:862px;z-index:3;transform:none;background:rgba(25,23,4\
  2,1);border-radius:12px;border:1px solid rgba(49,47,64,1);transition:width
  0.22s ease,left 0.22s ease,right 0.22s ease,margin-left 0.22s ease,max-width
  0.22s
  ease}#persistentChatbox.chatbox{min-height:69px;max-height:25vh;height:auto;o\
  verflow-y:auto;flex:1;color:white;font-size:18px;padding:20px;padding-right:2\
  00px;margin:0;display:block;outline:none;word-wrap:break-word;line-height:1.5\
  ;white-space:pre-wrap;transition:height
  0.1s;z-index:3;resize:none;box-sizing:border-box;width:100%}.expanded
  #persistentChatbox.chatbox{padding:20px 20px 5px}.expanded
  #persistentChatbox.has-thumbnail{padding:67px 20px
  5px}#persistentChatbox.has-thumbnail{padding-top:67px}.persistent-compose-area
  .response-length-options{position:absolute;right:15px;bottom:14px;margin:0;pa\
  dding:0;z-index:3;pointer-events:none}.expanded
  .response-length-options{position:unset;right:unset;bottom:unset;padding:unse\
  t;padding:0 10px 10px;width:unset}.persistent-compose-area
  .button-container{display:flex;align-items:center;gap:7px;pointer-events:none\
  }.persistent-compose-area #chatSubmitButton,.persistent-compose-area
  #chatStopButton,.persistent-compose-area
  #recordButton,.persistent-compose-area
  .uploadButton{pointer-events:auto}#convo
  .chatbox-wrapper:last-child{display:none}@media
  (min-width:1200px){.chat-layout-container.sidebar-open
  .chat-main{margin-left:270px;transition:margin-left 0.2s
  ease}.chat-layout-container:not(.sidebar-open)
  .chat-main{margin-left:0;transition:margin-left 0.2s
  ease}.chat-layout-container.sidebar-open
  .persistent-compose-area{left:270px;width:auto;max-width:862px;margin-left:au\
  to;margin-right:auto}.chat-layout-container:not(.sidebar-open)
  .persistent-compose-area{left:0;right:0;width:calc(min(100vw -
  18px,862px));max-width:862px;margin:0 auto}.chat-layout-container.sidebar-open
  #convo{}.chat-layout-container:not(.sidebar-open)
  #convo{}}.explore-aichat-modes{width:calc(min(100vw -
  21px,865px));margin:auto}.chat-chips-container{display:flex;flex-wrap:wrap;ga\
  p:10px;justify-content:center;margin-bottom:24px}.chat-chip-image{width:35px;\
  height:35px;border-radius:50%;margin-right:8px;vertical-align:middle}.chat-ch\
  ip{display:inline-flex;align-items:center;justify-content:center;padding:8px
  16px 8px
  16px;border-radius:45px;background-color:rgba(45,40,60,1);color:white;font-si\
  ze:14px;text-decoration:none;white-space:nowrap}.chat-chip-with-image{padding\
  :8px 16px 8px
  9px}.hidden-chip{display:none}#chatMain>h1,#chatMain>h3,#chatMain
  .explore-aichat-modes,#chatMain
  .figure,#characterReportButton,footer{display:block}#chatSidebar{bottom:10px}\
  #sidebarOverlay{bottom:10px}@media
  (max-width:523px){.chat-mode-dropdown-container{margin-right:56px}}.chat-main\
  {position:relative;display:flex;flex-direction:column;margin-bottom:10px}#con\
  vo{transition:height 0.05s ease-out;flex:0 1 auto}#convo ~
  .persistent-compose-area{position:absolute;bottom:-37px;left:0;right:0;z-inde\
  x:3}.persistent-compose-area{flex:0 0
  auto}.nav-items{display:flex;justify-content:space-between;align-items:center\
  ;width:calc(100% -
  32px)}.chat-mode-section{display:flex;margin:0;width:auto;align-items:center;\
  position:relative;z-index:50;pointer-events:auto}.chat-mode-dropdown-containe\
  r{position:relative;width:auto;margin-right:0;pointer-events:auto}.chat-mode-\
  dropdown-trigger{display:flex;align-items:center;justify-content:flex-start;h\
  eight:41px;border-radius:45px;background:rgba(45,40,60,1);border:none;color:w\
  hite;font-size:16px;cursor:pointer;position:relative;z-index:10;pointer-event\
  s:auto;overflow:hidden;width:fit-content;padding-left:12px;padding-right:41px\
  ;margin-left:auto;transition:width 0.15s cubic-bezier(0.2,1,0.3,1),padding
  0.15s
  cubic-bezier(0.2,1,0.3,1)}.chat-mode-dropdown-trigger.compact{width:41px;padd\
  ing-left:0;padding-right:0}#currentChatModeLabel{transition:opacity 0.15s
  cubic-bezier(0,0,0.58,1)
  0.05s;white-space:nowrap;margin-right:6px}.chat-mode-dropdown-trigger.compact
  #currentChatModeLabel{opacity:0;width:0;margin:0;padding:0;position:absolute;\
  visibility:hidden}.dropdown-caret{position:absolute;right:8.5px;top:50%;trans\
  form:translateY(-50%)
  rotate(180deg);width:24px;height:24px;z-index:2}.chat-mode-dropdown-trigger.o\
  pen .dropdown-caret{transform:translateY(-50%)
  rotate(0deg)}.chat-mode-menu-header{display:flex;align-items:center;justify-c\
  ontent:space-between;margin:8px 8px 6px
  8px;padding-bottom:6px}.header-title{font-size:14px;color:#9F9F9F}.info-link{\
  color:#9F9F9F;text-decoration:none;display:flex;align-items:center}.chat-mode\
  -menu-item{display:flex;align-items:center;justify-content:space-between;padd\
  ing:10px
  14px;color:#fff;font-size:15px;line-height:1.4;border-radius:6px;cursor:point\
  er}.chat-mode-menu-item:hover{background-color:rgba(45,40,60,0.5)}.response-l\
  ength-options,.button-container{pointer-events:auto;position:relative;z-index\
  :10}.button-container>div{pointer-events:auto}#convo
  .chatbox-wrapper{display:block;visibility:visible;opacity:1;position:relative\
  ;height:auto;overflow:visible;pointer-events:auto;background:rgba(21,16,38,1)\
  ;border-radius:12px;border:1px solid
  rgba(255,255,255,0.13);margin-bottom:10px;margin-left:auto;margin-right:auto;\
  width:calc(min(100vw - 18px,862px))}#convo .chatbox-wrapper:empty,#convo
  .chatbox-wrapper
  .chatbox:empty{display:none}.chatbox-wrapper.empty-box{opacity:0;position:abs\
  olute;pointer-events:none;z-index:-1}@media
  (max-width:600px){.chat-mode-dropdown-trigger{width:41px;padding-left:0;paddi\
  ng-right:0}.chat-mode-dropdown-trigger
  #currentChatModeLabel{opacity:0;visibility:hidden;width:0;margin:0;padding:0}\
  .expanded #persistentChatbox.chatbox{max-height:18vh}}@media
  (max-width:500px){.chatImageBox{margin-bottom:40px}}.outputBox,.chatbox-wrapp\
  er{contain:content}.new-chat-button-container{position:fixed;top:58px;right:1\
  1px;z-index:3}@media
  (min-width:1200px){.new-chat-button-container{right:21px}}.toggle-text{displa\
  y:inline;color:white;font-size:16px;transition:opacity 0.3s
  ease;margin-left:8px}.sidebar-toggle,.new-chat-button{width:auto;padding:0
  12px;display:flex;align-items:center;justify-content:center;border-radius:45p\
  x;transition:width 0.3s ease,opacity 0.3s ease,visibility 0.3s
  ease;box-shadow:none}.sidebar-toggle,.new-chat-button{flex-direction:row;just\
  ify-content:flex-start;padding:0 14px 0 10px}.sidebar-toggle
  .toggle-text,.new-chat-button .toggle-text{margin-left:8px}.sidebar-toggle
  .close-icon{position:absolute;width:22px;height:22px;opacity:0;transition:opa\
  city 0.1s
  ease;z-index:2;left:50%;top:50%;transform:translate(-50%,-50%);padding-right:\
  2px}.chat-layout-container.sidebar-open .sidebar-toggle
  .history-icon{opacity:0;visibility:hidden}.chat-layout-container.sidebar-open
  .sidebar-toggle .close-icon{opacity:1}.chat-layout-container.sidebar-open
  .sidebar-toggle{width:45px;padding:0;position:relative;box-shadow:none!import\
  ant}.chat-layout-container.sidebar-open .sidebar-toggle
  .toggle-text{opacity:0;width:0;margin:0;visibility:hidden}#chatSubmitButton,#\
  chatStopButton{width:41px;height:41px;padding:0;margin:0;border-radius:45px;b\
  order:none;cursor:pointer;display:flex;align-items:center;justify-content:cen\
  ter;flex-shrink:0;flex-grow:0;line-height:1;position:relative}#chatSubmitButt\
  on{background:#8F37FF}#chatStopButton{background:rgba(45,40,60,1);display:non\
  e}#chatSubmitButton svg,#chatStopButton
  svg{width:22px;height:22px;position:absolute;top:50%;left:50%;transform:trans\
  late(-50%,-50%);margin:0;padding:0}#chatSubmitButton:disabled,.chatEditSubmit\
  Button:disabled{opacity:0.5;cursor:not-allowed}.thinking-indicator{width:calc\
  (min(100vw -
  67px,819px));display:block;margin:auto;margin-bottom:10px;background:rgba(21,\
  16,38,1);border-radius:12px;color:white;padding:22px;font-size:18px;border:1px
  solid
  rgba(51,47,66,1);overflow-x:hidden;position:relative;min-height:24px}.thinkin\
  g-text{font-weight:500;opacity:0.8}.thinking-dots{display:inline-block;positi\
  on:relative}.thinking-dots::after{content:'';animation:thinking-dots 1.8s
  infinite;display:inline-block}@keyframes
  thinking-dots{0%{content:'.'}33%{content:'..'}66%{content:'...'}}.markdownCon\
  tainer{overflow-x:auto}.character-avatar-container{float:left;margin:-1px 10px
  10px
  -12px}.character-avatar{width:100px;height:100px;border-radius:12px;object-fi\
  t:cover;border:1px solid
  rgba(255,255,255,0.13);display:block}.outputBox.has-character-avatar{border-t\
  op-left-radius:21px}.outputBox.has-character-avatar
  .markdownContainer{overflow-x:visible}.loading-chat-history
  .chat-sidebar{top:47px!important;bottom:10px!important}.loading-chat-history
  #sidebarOverlay{top:10px!important;bottom:10px!important}.loading-chat-history
  .persistent-compose-area{opacity:1!important;visibility:visible!important}:ro\
  ot{--button-glow-shadow:0px 4px 8px 0px rgba(0,0,0,0.4),0px 8px 16px 0px
  rgba(0,0,0,0.3),0px 2px 24px 0px
  rgba(80,70,120,0.5)}.sidebar-toggle,.new-chat-button{box-shadow:none;transiti\
  on:width 0.3s ease,opacity 0.3s ease,visibility 0.3s ease,box-shadow 0.3s
  ease}@media (max-width:1419px){.chat-layout-container.sidebar-open
  .new-chat-button{box-shadow:var(--button-glow-shadow)}.chat-layout-container.\
  sidebar-open .sidebar-toggle{box-shadow:none}}@media
  (max-width:1180px){.chat-layout-container:not(.sidebar-open)
  .sidebar-toggle{box-shadow:var(--button-glow-shadow)}}@media
  (max-width:1129px){.chat-layout-container:not(.sidebar-open)
  .new-chat-button{box-shadow:var(--button-glow-shadow)}}.chat-layout-container\
  .sidebar-open .sidebar-toggle{box-shadow:none}@media
  (min-width:1420px){.chat-layout-container.sidebar-open
  .new-chat-button{box-shadow:none}}body::after{content:\"\";position:fixed;bot\
  tom:0;left:0;width:100%;height:40px;background:linear-gradient(to
  bottom,transparent,rgba(1,2,5,1) 50%,rgba(1,2,5,1)
  100%);z-index:2;pointer-events:none}.sidebar-toggle-container,.new-chat-butto\
  n-container{opacity:1;visibility:visible;transition:opacity 0.3s
  ease,visibility 0.3s ease;z-index:6}.buttons-hidden
  .sidebar-toggle-container,.buttons-hidden
  .new-chat-button-container{opacity:0;visibility:hidden;pointer-events:none}.s\
  idebar-toggle-container,.new-chat-button-container{pointer-events:auto}.fs-st\
  icky-footer{position:fixed!important;bottom:80px!important;z-index:0!importan\
  t}.fs-sticky-parent{position:fixed!important;bottom:80px!important;z-index:0!\
  important}.fs-sticky-shifted{bottom:132px!important}.chat-history-search-cont\
  ainer{position:absolute;top:60px;left:0;right:0;padding:12px 16px
  20px;background:linear-gradient(to bottom,rgba(21,16,38,1) 0%,rgba(21,16,38,1)
  30%,rgba(21,16,38,0.7) 60%,rgba(21,16,38,0)
  85%);z-index:10}.chat-history-search-wrapper{position:relative;display:flex;a\
  lign-items:center}.chat-history-search-input{width:100%;padding:10px 36px 10px
  12px;background:rgba(25,23,42,1);border:1px solid
  rgba(49,47,64,1);border-radius:10px;color:#fff;font-size:14px;outline:none;tr\
  ansition:border-color 0.2s
  ease}.chat-history-search-input::placeholder{color:rgba(159,159,159,0.8)}.cha\
  t-history-search-input:focus{outline:none}.chat-history-search-input:active{o\
  utline:none}.chat-history-search-icon{position:absolute;right:8px;width:28px;\
  height:28px;color:rgba(159,159,159,1);display:flex;align-items:center;justify\
  -content:center;pointer-events:none}.chat-history-search-clear{position:absol\
  ute;right:8px;width:28px;height:28px;border:none;background:transparent;color\
  :rgba(159,159,159,1);cursor:pointer;border-radius:6px;display:flex;align-item\
  s:center;justify-content:center;transition:color 0.2s ease,opacity 0.2s
  ease}.chat-history-search-clear:hover{color:#fff;opacity:1}.chat-history-sear\
  ch-clear:active{opacity:0.8}.chat-history-search-status{margin-top:8px;font-s\
  ize:13px;color:rgba(159,159,159,0.8);text-align:center;min-height:20px}.searc\
  h-spinner{width:16px;height:16px;border:2px solid
  rgba(159,159,159,0.3);border-top-color:rgba(159,159,159,0.8);border-radius:50\
  %;animation:spin 0.8s linear infinite;flex-shrink:0}@keyframes
  spin{to{transform:rotate(360deg)}}.sidebar-scroll-wrapper{position:absolute;t\
  op:60px;left:0;right:0;bottom:0;overflow-y:auto;overflow-x:hidden;scrollbar-c\
  olor:rgba(45,40,60,1)
  transparent;scrollbar-width:thin;z-index:1}.sidebar-content{padding:16px;padd\
  ing-top:80px;padding-bottom:150px;box-sizing:border-box}.chat-history-items{p\
  adding-bottom:60px}.sidebar-content
  .history-heading-label:first-child{margin-top:0}.history-heading-label.first-\
  visible{margin-top:0}.chat-history-item-wrapper.search-hidden,.history-headin\
  g-label.search-hidden{display:none!important}.chat-history-search-input.searc\
  hing{cursor:wait}@media
  (max-width:768px){.chat-history-search-container{padding:10px
  12px}.chat-history-search-input{font-size:16px}}</style>\r

  \t\r

  \r

  \t<!-- Start Google Analytics Tag -->\r

  \t<!-- Google tag (gtag.js) -->\r

  \t<script async
  src=\"https://www.googletagmanager.com/gtag/js?id=G-GY2GHX2J9Y\"></script>\r

  \t<script>\r

  \twindow.dataLayer = window.dataLayer || [];\r

  \tfunction gtag(){dataLayer.push(arguments);}\r

  \tgtag('js', new Date());\r

  \t\r

  \r

  \tgtag('config', 'G-GY2GHX2J9Y');\r

  \t</script>\r

  \t<!-- End Google Analytics Tag -->\r

  \t<!-- Twitter conversion tracking base code -->\r

  \t<script>\r

  \t!function(e,t,n,s,u,a){e.twq||(s=e.twq=function(){s.exe?s.exe.apply(s,argum\
  ents):s.queue.push(arguments);\r

  \t},s.version='1.1',s.queue=[],u=t.createElement(n),u.async=!0,u.src='https:/\
  /static.ads-twitter.com/uwt.js',\r

  \ta=t.getElementsByTagName(n)[0],a.parentNode.insertBefore(u,a))}(window,docu\
  ment,'script');\r

  \ttwq('config','pzofp');\r

  \t</script>\r

  \t<!-- End Twitter conversion tracking base code -->\r

  \t        </head>\r

  \t        <body>\r

  \t\r

  \r

  \t<!-- Pushdown ad should be placed right after the opening <body> tag. Note:
  if you have a sticky navigation bar, you may need to update CSS to accommodate
  this ad type. -->\r

  \t<!-- Tag ID: deepai.org_header -->\r

  \t<div class=\"sticky\">\r

  \t<div align=\"center\" data-freestar-ad=\"__320x50 __970x90\"
  id=\"deepai.org_header\">\r

  \t<script data-cfasync=\"false\" type=\"text/javascript\">\r

  \tif (typeof freestar !== 'undefined') {\r

  \tfreestar.config.enabled_slots.push({ placementName: \"deepai.org_header\",
  slotId: \"deepai.org_header\" });\r

  \t}\r

  \t</script>\r

  \t</div>\r

  \t</div>\r

  \t\r

  \r

  \t<script>\r

  \tfunction removeAdHeader() {\r

  \tvar pushdown = document.getElementById(\"deepai.org_header\");\r

  \tif(pushdown){\r

  \t// just remove the parent element\r

  \tconst parentMain = pushdown.parentNode;\r

  \tif (parentMain){\r

  \tparentMain.remove();\r

  \t}\r

  \t}\r

  \t}\r

  \t\r

  \r

  \tif(window.user_paid_for_no_ads){\r

  \tremoveAdHeader(); // remove element \"deepai.org_header\" if it exists\r

  \t}else{\r

  \ttry{\r

  \tvar headerAd = document.getElementById(\"deepai.org_header\");\r

  \theaderAd.setAttribute('style', 'height: 90px;');\r

  \t}catch(err){\r

  \tconsole.log(\"Error setting header ad height\", err);\r

  \t}\r

  \t}\r

  \t\r

  \r

  \t</script>\r

  \t\r

  \r

  \t<!-- end pushdown tag -->\r

  \t\r

  \r

  \t<header>\r

  \t\r

  \r

  \t<style>\r

  \t:root {\r

  \t--white: rgba(255, 255, 255, 1);\r

  \t--clear: rgba(255, 255, 255, 0.06);\r

  \t--cod-gray: rgba(8, 8, 8, 1);\r

  \t--cod-gray-2: rgba(9, 9, 9, 1);\r

  \t--pink: #c549fe;\r

  \t--purple: #7000ff;\r

  \t--font-size-xxs: 24px;\r

  \t--font-size-xs: 26px;\r

  \t--font-size-s: 32px;\r

  \t--font-size-m: 40px;\r

  \t--font-size-l: 48px;\r

  \t}\r

  \ta.button {\r

  \tdisplay: flex;\r

  \tflex-direction: row;\r

  \twidth: 35px;\r

  \tpadding: 5px 95px;\r

  \tjustify-content: center;\r

  \talign-items: center;\r

  \tgap: 10px;\r

  \tborder-radius: 12px;\r

  \tfont-size: 18px;\r

  \ttext-align: center;\r

  \tfont-style: normal;\r

  \t}\r

  \t\r

  \r

  \t.nav-items {\r

  \tdisplay: flex;\r

  \tjustify-content: space-between;\r

  \tmargin-left: 16px;\r

  \tmargin-right: 16px;\r

  \theight: 45px;\r

  \t}\r

  \t\r

  \r

  \t.nav-buttons {\r

  \tdisplay: flex;\r

  \tflex-direction: row;\r

  \t}\r

  \t\r

  \r

  \t.hidden-icon {\r

  \tdisplay: none;\r

  \t}\r

  \t\r

  \r

  \t.exit {\r

  \tdisplay: flex;\r

  \tflex-direction: row;\r

  \tposition: relative;\r

  \tjustify-content: right;\r

  \tright: 10px;\r

  \ttop: 10px;\r

  \tcursor: pointer;\r

  \tmargin: 10px;\r

  \t}\r

  \t\r

  \r

  \ta.button.login, a.button.headerbutton {\r

  \tz-index: 2;\r

  \twidth: fit-content;\r

  \tbackground: transparent;\r

  \tborder: 1px solid transparent;\r

  \tborder-radius: 12px;\r

  \tcolor: var(--white);\r

  \twhite-space: nowrap;\r

  \tletter-spacing: 2%;\r

  \tmargin-right: 12px;\r

  \tcursor: pointer;\r

  \ttransition: none;\r

  \tpadding: 5px 10px;\r

  \theight: 32px;\r

  \tmargin-left: auto;\r

  \tfont-weight: 500;\r

  \tfont-size: 16px;\r

  \t}\r

  \t\r

  \r

  \ta.button.chatbutton,\r

  \ta.button.imagebutton {\r

  \tbackground: var(--clear);\r

  \tborder: none;\r

  \tcolor: var(--white);\r

  \tfont-weight: bold;\r

  \tletter-spacing: 2%;\r

  \tmargin-right: 12px;\r

  \ttransition: background 0.4s ease;\r

  \tcursor: pointer;\r

  \tbackdrop-filter: blur(10px);\r

  \tz-index: 2;\r

  \t}\r

  \t\r

  \r

  \ta.button.chatbutton,\r

  \ta.button.imagebutton {\r

  \tdisplay: flex;\r

  \tflex-direction: row;\r

  \twidth: 240px;\r

  \tmargin-right: 0px;\r

  \tjustify-content: space-around;\r

  \tcursor: pointer;\r

  \tbackdrop-filter: blur(10px);\r

  \tz-index: 2;\r

  \t}\r

  \t\r

  \r

  \ta.button.chatbutton:hover {\r

  \tbackground: var(--purple);\r

  \t}\r

  \ta.button.imagebutton:hover {\r

  \tbackground: var(--pink);\r

  \t}\r

  \t\r

  \r

  \ta.button.menu {\r

  \tbackground: none;\r

  \tborder: none;\r

  \twidth: 24px;\r

  \tpadding: 0px;\r

  \tcursor: pointer;\r

  \t}\r

  \t\r

  \r

  \t.menu-icon {\r

  \tfont-size: 30px;\r

  \tfont-weight: bold;\r

  \tcursor: pointer;\r

  \tvertical-align: middle;\r

  \t}\r

  \t\r

  \r

  \t.dropbtn {\r

  \tcolor: white;\r

  \tborder-radius: 10px;\r

  \tcursor: pointer;\r

  \tbackground: transparent;\r

  \tborder: none;\r

  \tmargin: auto;\r

  \t}\r

  \t\r

  \r

  \t#userIconDrop {\r

  \tdisplay: none;\r

  \t}\r

  \t\r

  \r

  \t.usericon {\r

  \twidth: 75px;\r

  \theight: 75px;\r

  \tborder-radius: 12px;\r

  \tmargin: auto 24px 12px 0px;\r

  \tobject-fit: cover;\r

  \t}\r

  \t\r

  \r

  \t.nav-profile-section {\r

  \tdisplay: flex;\r

  \tflex-direction: row;\r

  \tcursor: pointer;\r

  \tjustify-content: center;\r

  \tpadding-right: 20px;\r

  \t}\r

  \t\r

  \r

  \t.nav-usernames {\r

  \tgap: 6px;\r

  \tmargin-bottom: 3px;\r

  \tmargin-bottom: 6px;\r

  \t}\r

  \t\r

  \r

  \t.nav-profilename {\r

  \tmargin: auto;\r

  \tmargin-bottom: 0px;\r

  \twhite-space: normal;\r

  \t}\r

  \t\r

  \r

  \t.nav-username {\r

  \tmargin: auto;\r

  \tmargin-top: 0px;\r

  \twhite-space: normal;\r

  \tmax-width: 170px;\r

  \toverflow-wrap: break-word;\r

  \tword-wrap: normal;\r

  \tword-break: break-word;\r

  \tfont-size: 13px;\r

  \t}\r

  \t\r

  \r

  \t.nav-profile-button {\r

  \tdisplay: flex;\r

  \tflex-direction: column;\r

  \tjustify-content: center;\r

  \talign-items: center;\r

  \tbackground: #8f37ff;\r

  \tborder: none;\r

  \twidth: 77%;\r

  \tfont-family: inherit;\r

  \tcolor: var(--white);\r

  \twhite-space: nowrap;\r

  \tletter-spacing: 2%;\r

  \tmargin: auto;\r

  \tpadding: 12px;\r

  \tmargin-top: 0px;\r

  \ttransition: background 0.2s ease;\r

  \tcursor: pointer;\r

  \tborder-radius: 12px;\r

  \tfont-size: 18px;\r

  \t}\r

  \t\r

  \r

  \t.profile-button:hover {\r

  \tbackground: var(--pink);\r

  \t}\r

  \t\r

  \r

  \t#navProfileSection{\r

  \tdisplay: none;\r

  \t}\r

  \t\r

  \r

  \t#navProfileButton{\r

  \tdisplay: none;\r

  \t}\r

  \t\r

  \r

  \t.pages {\r

  \tmargin-bottom: 12px;\r

  \t}\r

  \t\r

  \r

  \t.menu-options {\r

  \tfont-size: 18px;\r

  \tfont-style: normal;\r

  \tfont-weight: 400;\r

  \tline-height: 52px;\r

  \tpadding: 2px 0px;\r

  \t}\r

  \t\r

  \r

  \t.pages a {\r

  \tdisplay: flex;\r

  \tflex-direction: column;\r

  \tjustify-content: space-around;\r

  \tcolor: white;\r

  \ttext-decoration: none;\r

  \twidth: 77%;\r

  \tmargin: auto;\r

  \tmargin: 0px 10px;\r

  \tpadding: 0 0 0 46px;\r

  \t}\r

  \t\r

  \r

  \t.pages a:hover {\r

  \tbackground-color: var(--clear);\r

  \tborder-radius: 12px;\r

  \twidth: auto;\r

  \t}\r

  \t\r

  \r

  \t.settings,\r

  \t.logout {\r

  \tdisplay: flex;\r

  \tflex-direction: row;\r

  \tgap: 16px;\r

  \talign-items: center;\r

  \tmargin: 4px 4px 0 16px;\r

  \tbackground: none;\r

  \tborder: none;\r

  \theight: 52px;\r

  \tfont-size: 18px;\r

  \tfont-family: inherit;\r

  \tcolor: white;\r

  \tcursor: pointer;\r

  \twidth: 95%;\r

  \t}\r

  \t\r

  \r

  \t.logout {\r

  \twidth: auto;\r

  \tpadding: 0px 0px 0px 40px;\r

  \t}\r

  \t\r

  \r

  \t.menu-border {\r

  \tborder: 1px solid rgba(255, 255, 255, 0.13);\r

  \twidth: 100%;\r

  \theight: auto;\r

  \t}\r

  \t\r

  \r

  \t\r

  \r

  \t@media screen and (max-width: 1040px) {\r

  \ta.button.mathai { /* Math AI disappears first */\r

  \tdisplay: none;\r

  \t}\r

  \t}\r

  \t\r

  \r

  \t@media screen and (max-width: 980px) {\r

  \ta.button.audiogenerator { /* AI Music disappears second */\r

  \tdisplay: none;\r

  \t}\r

  \t}\r

  \t\r

  \r

  \t@media screen and (max-width: 890px) {\r

  \ta.button.voicechat { /* Voice chat disappears third */\r

  \tdisplay: none;\r

  \t}\r

  \t}\r

  \t\r

  \r

  \t@media screen and (max-width: 710px) {\r

  \ta.button.photoeditor { /* AI Photo Editor disappears fourth */\r

  \tdisplay: none;\r

  \t}\r

  \t}\r

  \t\r

  \r

  \t@media screen and (max-width: 620px) {\r

  \t.hero h1 {\r

  \tfont-size: 76px;\r

  \t}\r

  \t.titlesparkle {\r

  \ttop: -55px;\r

  \theight: 34%;\r

  \tmargin-left: -60px;\r

  \t}\r

  \t}\r

  \t\r

  \r

  \t@media screen and (max-width: 560px) {\r

  \ta.button.videogenerator {\r

  \tdisplay: none;\r

  \t}\r

  \t}\r

  \t\r

  \r

  \t@media screen and (max-width: 500px) {\r

  \t.nav-buttons {\r

  \tjustify-content: space-between;\r

  \twidth: 100%;\r

  \t}\r

  \ta.button.login, a.button.headerbutton {\r

  \tfont-size: 16px;\r

  \tmargin-right: 8px;\r

  \t}\r

  \ta.button.login {\r

  \tdisplay: none;\r

  \t}\r

  \t\r

  \r

  \t}\r

  \t\r

  \r

  \t@media screen and (max-width: 420px) {\r

  \t.hero h1 {\r

  \tfont-size: 56px;\r

  \t}\r

  \t.titlesparkle {\r

  \ttop: -40px;\r

  \tmargin-left: -55px;\r

  \t}\r

  \ta.button.headerbutton {\r

  \tfont-size: 13px;\r

  \tmargin-right: 6px;\r

  \t}\r

  \t}\r

  \t\r

  \r

  \t@media screen and (max-width: 345px) {\r

  \t.hero h1 {\r

  \tfont-size: 48px;\r

  \t}\r

  \t.titlesparkle {\r

  \ttop: -40px;\r

  \tmargin-left: -52px;\r

  \t}\r

  \ta.button.headerbutton {\r

  \tfont-size: 12px;\r

  \tmargin-right: 2px;\r

  \tpadding: 5px 5px;\r

  \t}\r

  \t}\r

  \t\r

  \r

  \t@media screen and (max-width: 300px) {\r

  \t.nav-buttons {\r

  \tjustify-content: flex-end;\r

  \twidth: 100%;\r

  \t}\r

  \ta.button.videogenerator, a.button.videogenerator { /* Note: Duplicate
  selector here, might want to clean up */\r

  \tdisplay: none;\r

  \t}\r

  \ta.button.aichat {\r

  \tfont-size: 14px;\r

  \t}\r

  \t}\r

  \t\r

  \r

  \t\r

  \r

  \t</style>\r

  \t\r

  \r

  \t<div class=\"nav-items\">\r

  \t<a class=\"logo-link\" href=\"/\">\r

  \t<svg width=\"45\" height=\"45\" viewBox=\"0 0 45 45\" fill=\"none\"
  xmlns=\"http://www.w3.org/2000/svg\">\r

  \t<path d=\"M13.4781 27.6456V24.5259H10.5015V27.5763H13.4781V27.6456Z\"
  fill=\"white\"/>\r

  \t<path d=\"M33.9079 25.8433C33.8402 26.1899 33.7049 26.6058 33.5696
  26.9525C33.5696 27.0218 33.502 27.0911 33.502 27.1605C33.2314 27.8537 32.8931
  28.4777 32.5549 29.1016C32.2166 29.5869 31.8784 30.0722 31.5401
  30.4881C31.3372 30.6961 31.2019 30.9041 30.9989 31.1121L31.0666 31.0428C30.796
  31.3201 30.5254 31.5974 30.1871 31.8747C30.0518 32.0133 29.8489 32.0827
  29.7136 32.2213C29.6459 32.2213 29.5783 32.2906 29.5783 32.2906C29.1724
  32.5679 28.7665 32.7759 28.2929 32.9839C27.7517 33.2612 27.1429 33.4692 26.534
  33.6078C25.9252 33.7465 25.2487 33.8851 24.6398 33.9545C23.8957 34.0238
  23.1515 34.0238 22.3397 33.8851C18.8895 33.3999 15.9806 31.3894 14.2217
  28.6163C14.6276 29.1016 15.0335 29.5176 15.507 29.8642C16.3188 30.4881 17.2659
  30.9734 18.3483 31.1814C18.8219 31.3201 19.3631 31.3201 19.8366
  31.3201C19.9719 31.3201 20.1072 31.3201 20.2425 31.3201C20.9867 31.3201
  21.7309 31.1814 22.4074 30.9041C22.5427 30.8348 22.6103 30.8348 22.7456
  30.7654C22.9486 30.6961 23.2192 30.5575 23.4221 30.4881C23.4898 30.4881
  23.4898 30.4188 23.5574 30.4188C25.6546 29.2403 27.2105 27.1605 27.4811
  24.526C27.5488 24.0408 27.5488 23.4861 27.5488 23.0009C29.443 23.0009 30.9989
  24.1794 31.8107 25.7739C31.8784 25.9819 31.946 26.1899 32.0137 26.3979C32.0137
  26.2592 32.0137 26.1899 32.0137 26.0512C32.0137 25.4966 31.946 25.0113 31.8784
  24.4567C31.2019 20.7824 28.0223 18.0787 24.2339 18.0787C23.7604 18.0787
  23.3545 18.148 22.8809 18.2173C22.8809 18.2173 22.8809 18.2173 22.8133
  18.2173C21.4603 18.4253 20.5132 18.8413 19.0248 19.9505C18.416 20.3665 17.1983
  21.4757 16.2512 22.3769C15.7776 22.8622 14.9658 22.3769 15.1011
  21.6837C15.2364 21.0597 15.4394 20.3665 15.8453 19.6039C13.9511 16.9001
  13.9511 13.9884 17.6718 11.4233C19.8366 9.89813 23.4221 9.48217 26.737
  10.7301C28.7665 9.62083 31.6754 9.5515 34.3138 12.4632C34.5844 12.7405 34.3814
  13.2258 33.9755 13.2258C33.2314 13.2258 32.2166 13.4338 31.4048
  14.0577C31.4725 14.1271 31.5401 14.2657 31.6754 14.4044C34.855 18.7026 34.7873
  22.7236 33.9079 25.8433Z\" fill=\"white\"/>\r

  \t</svg>\r

  \t<!-- Lawyers want our name in the header so we can get our trademark
  reapproved -->\r

  \t<P>DeepAI</P>\r

  \t</a>\r

  \t<div class=\"nav-buttons\">\r

  \t<a class=\"button headerbutton aichat\" href=\"/chat\">AI Chat</a>\r

  \t<a class=\"button headerbutton imagegenerator\"
  href=\"/machine-learning-model/text2img\">AI Image Generator</a>\r

  \t<a class=\"button headerbutton videogenerator\" href=\"/video\">AI
  Video</a>\r

  \t<a class=\"button headerbutton audiogenerator\" href=\"/music\">AI
  Music</a>\r

  \t<a class=\"button headerbutton voicechat\" href=\"/voice\">Voice Chat</a>\r

  \t<a class=\"button headerbutton photoeditor\"
  href=\"/machine-learning-model/image-editor\">AI Photo Editor</a>\r

  \t<a class=\"button headerbutton mathai\" href=\"/chat/mathematics\">Math
  AI</a>\r

  \t\r

  \r

  \t\r

  \r

  \t<a class=\"button login\" id=\"headerLoginButton\"
  onclick=\"openLogin()\">Login</a>\r

  \t<nav>\r

  \t<ul>\r

  \t<li class=\"dropdown\">\r

  \t<button class=\"drop-menu-button\" id=\"dropMenuButton\">\r

  \t<img src=\"/static/images/HiUser.svg\" class=\"menu-icon dropbtn\"
  id=\"userIconDrop\" loading=\"lazy\"/>\r

  \t<img src=\"/static/images/IoMenu.svg\" class=\"menu-icon dropbtn\"
  id=\"sandwichIconDrop\" loading=\"lazy\"/>\r

  \t</button>\r

  \t<ul id=\"mainNavDropdown\">\r

  \t<div class=\"exit\">\r

  \t<svg\r

  \txmlns=\"http://www.w3.org/2000/svg\"\r

  \twidth=\"24\"\r

  \theight=\"24\"\r

  \tviewBox=\"0 0 24 24\"\r

  \tfill=\"none\"\r

  \t>\r

  \t<path\r

  \td=\"M11.9997 10.586L16.9497 5.63599L18.3637 7.04999L13.4137 12L18.3637
  16.95L16.9497 18.364L11.9997 13.414L7.04974 18.364L5.63574 16.95L10.5857
  12L5.63574 7.04999L7.04974 5.63599L11.9997 10.586Z\"\r

  \tfill=\"white\"\r

  \t/>\r

  \t</svg>\r

  \t</div>\r

  \t<div id=\"navProfileSection\" class=\"nav-profile-section\">\r

  \t<img class=\"usericon\" id=\"navUserAvatar\" alt=\"avatar\" loading=\"lazy\"
  onclick=\"window.location.replace('/dashboard/profile')\"
  src=\"/static/images/dolphin-icon.jpeg\" />\r

  \t<div class=\"nav-usernames\">\r

  \t<p class=\"nav-profilename\" id=\"navUserName\"></p>\r

  \t<p class=\"nav-username\" id=\"navUserEmail\"></p>\r

  \t</div>\r

  \t</div>\r

  \t<button id=\"navProfileButton\" class=\"button nav-profile-button\"
  onclick=\"window.location.replace('/dashboard/profile')\">Account
  Settings</button>\r

  \t<div class=\"menu-options\">\r

  \t<div class=\"pages\">\r

  \t<a href=\"/machine-learning-model/text2img\" class=\"ai-generators\">AI
  Image Generator</a>\r

  \t<a href=\"/video\" class=\"ai-generators\">AI Video Generator</a>\r

  \t<a href=\"/music\" class=\"ai-generators\">AI Music Generator</a>\r

  \t<a href=\"/chat\" class=\"ai-generators\">AI Chat</a>\r

  \t<a href=\"/machine-learning-model/image-editor\" class=\"ai-generators\">AI
  Photo Editor</a>\r

  \t<a href=\"/pricing\" class=\"pricing\">Pricing</a>\r

  \t<a href=\"/definitions\" class=\"glossary\">Glossary</a>\r

  \t<a href=\"/docs\" class=\"apidocs\">Docs</a>\r

  \t</div>\r

  \t<div class=\"menu-settings\">\r

  \t<div class=\"menu-border\"></div>\r

  \t<button id=\"login-button-dropdown\" onclick=\"openSignup()\"
  class=\"logout\">\r

  \tLogin\r

  \t</button>\r

  \t</div>\r

  \t</div>\r

  \t</ul>\r

  \t</li>\r

  \t</ul>\r

  \t</nav>\r

  \t</div>\r

  \t</div>\r

  \t\r

  \r

  \t</header>\r

  \t<div id=\"announcement-banner\" class=\"announcement-banner\">\r

  \t<a href=\"javascript:void(0);\" onclick=\"openSubscription();\"
  class=\"pro-link-button\">\r

  \t<div class=\"banner-text\">\r

  \t<span class=\"main-text\">Upgrade to DeepAI Pro</span>\r

  \t<span class=\"sub-text\">More access to the best AI</span>\r

  \t</div>\r

  \t</a>\r

  \t<button id=\"dismiss-banner\" class=\"dismiss-button\" aria-label=\"Dismiss
  announcement\">×</button>\r

  \t</div>\r

  \t<script>\r

  \t// Immediately decide banner visibility to prevent CLS\r

  \t(function() {\r

  \tconst banner = document.getElementById('announcement-banner');\r

  \tconst bannerKey = 'proBannerDismissed';\r

  \tconst dismissedData = localStorage.getItem(bannerKey);\r

  \tconst pathname = window.location.pathname;\r

  \t\r

  \r

  \t// Check cached user object for Pro status\r

  \tlet userHasPro = false;\r

  \ttry {\r

  \tconst cachedUser = localStorage.getItem('user');\r

  \tif (cachedUser) {\r

  \tconst user = JSON.parse(cachedUser);\r

  \tuserHasPro = user?.userprofile2?.user_has_deepai_pro || false;\r

  \t}\r

  \t} catch (e) {}\r

  \t\r

  \r

  \t// Don't show if user has Pro or on specific pages\r

  \tif (userHasPro || pathname.includes('dashboard/') ||
  pathname.includes('chat') || pathname.includes('/video')) {\r

  \treturn;\r

  \t}\r

  \t\r

  \r

  \t// Check dismissal status\r

  \tif (dismissedData) {\r

  \ttry {\r

  \tconst dismissedDate = new Date(JSON.parse(dismissedData).date);\r

  \tconst daysSinceDismissal = Math.floor((Date.now() - dismissedDate) / (1000 *
  60 * 60 * 24));\r

  \tif (daysSinceDismissal < 5) {\r

  \treturn;\r

  \t}\r

  \t} catch (e) {}\r

  \t}\r

  \t\r

  \r

  \t// Show the banner\r

  \tbanner.style.display = 'inline-flex';\r

  \t})();\r

  \t</script>\r

  \t\r

  \r

  \t\r

  \r

  \t\r

  \r

  \t<!-- Below is the code required to invoke the on call video ads. -->\r

  \t<script>\r

  \twindow.freestar.queue.push(function(){\r

  \twindow.freestar.newVideo(\"FreeStarVideoAdContainer_Slider_Native\");\r

  \t});\r

  \t</script>\r

  \t\r

  \r

  \t\r

  \r

  \t<script async src=\"/static/js/marked.js\"></script>\r

  \t<script async src=\"/static/js/marked-highlight.js\"></script>\r

  \t<script async src=\"/static/js/highlight.js\"></script>\r

  \t<script async src=\"/static/js/maquette.js\"></script>\r

  \t<script async src=\"/static/js/katex.js\"></script>\r

  \t<script>\r

  \tfunction loadCSS(href) {\r

  \tconst link = document.createElement('link');\r

  \tlink.rel = 'stylesheet';\r

  \tlink.href = href;\r

  \tdocument.head.appendChild(link);\r

  \t}\r

  \t\r

  \r

  \tdocument.addEventListener('DOMContentLoaded', function() {\r

  \tloadCSS(\"/static/js/sunburst.css\");\r

  \tloadCSS(\"/static/js/katex.css\");\r

  \t});\r

  \t\r

  \r

  \t</script>\r

  \t\r

  \r

  \t<div class=\"chat-layout-container sidebar-closed\"
  id=\"layoutContainer\">\r

  \t\r

  \r

  \t<!-- Chat History Button (top left) -->\r

  \t<div class=\"sidebar-toggle-container\">\r

  \t<button class=\"sidebar-toggle\" id=\"sidebarToggle\">\r

  \t<img src=\"/static/images/history.svg\" alt=\"history\"
  class=\"history-icon\"/>\r

  \t<svg class=\"close-icon\" width=\"22\" height=\"22\" viewBox=\"0 0 22 22\"
  fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r

  \t<path d=\"M14 3.5L7 11L14 18.5\" stroke=\"white\" stroke-width=\"2.5\"
  stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\r

  \t</svg>\r

  \t<span class=\"toggle-text\">Chat History</span>\r

  \t</button>\r

  \t</div>\r

  \t\r

  \r

  \t<!-- New Chat Button (top-right) -->\r

  \t<div class=\"new-chat-button-container\">\r

  \t<a href=\"\" class=\"new-chat-button\">\r

  \t<svg class=\"plus-icon\" width=\"22\" height=\"22\" viewBox=\"0 0 22 22\"
  fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r

  \t<path d=\"M11 3.5L11 18.5\" stroke=\"white\" stroke-width=\"2.5\"
  stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\r

  \t<path d=\"M3.5 11L18.5 11\" stroke=\"white\" stroke-width=\"2.5\"
  stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\r

  \t</svg>\r

  \t<span class=\"toggle-text\">New Chat</span>\r

  \t</a>\r

  \t</div>\r

  \t\r

  \r

  \t<!-- Sidebar -->\r

  \t<aside class=\"chat-sidebar\" id=\"chatSidebar\">\r

  \t<!-- Sidebar header with label (only visible when open) -->\r

  \t<div class=\"sidebar-header\">\r

  \t<span class=\"sidebar-label\">Chat History</span>\r

  \t</div>\r

  \t\r

  \r

  \t<!-- Search input -->\r

  \t<div class=\"chat-history-search-container\">\r

  \t<div class=\"chat-history-search-wrapper\">\r

  \t<input type=\"text\"\r

  \tclass=\"chat-history-search-input\"\r

  \tid=\"chatHistorySearchInput\"\r

  \tplaceholder=\"Search chats...\"\r

  \tautocomplete=\"off\"\r

  \tspellcheck=\"false\">\r

  \t<div class=\"chat-history-search-icon\"\r

  \tid=\"chatHistorySearchIcon\">\r

  \t<svg width=\"16\" height=\"16\" viewBox=\"0 0 16 16\" fill=\"none\">\r

  \t<circle cx=\"6.5\" cy=\"6.5\" r=\"5.5\" stroke=\"currentColor\"
  stroke-width=\"2\"/>\r

  \t<path d=\"M10.5 10.5L14 14\" stroke=\"currentColor\" stroke-width=\"2\"
  stroke-linecap=\"round\"/>\r

  \t</svg>\r

  \t</div>\r

  \t<button class=\"chat-history-search-clear\"\r

  \tid=\"chatHistorySearchClear\"\r

  \tstyle=\"display: none;\"\r

  \taria-label=\"Clear search\">\r

  \t<svg width=\"16\" height=\"16\" viewBox=\"0 0 16 16\" fill=\"none\">\r

  \t<path d=\"M12 4L4 12M4 4L12 12\" stroke=\"currentColor\" stroke-width=\"2\"
  stroke-linecap=\"round\"/>\r

  \t</svg>\r

  \t</button>\r

  \t</div>\r

  \t<div class=\"chat-history-search-status\"
  id=\"chatHistorySearchStatus\"></div>\r

  \t</div>\r

  \t\r

  \r

  \t<!-- Scrollable wrapper that extends full height -->\r

  \t<div class=\"sidebar-scroll-wrapper\">\r

  \t<!-- Scrollable content -->\r

  \t<div class=\"sidebar-content\">\r

  \t<div class=\"chat-history-items\" id=\"chatHistoryList\">\r

  \t<!-- Chat items go here -->\r

  \t</div>\r

  \t</div>\r

  \t</div>\r

  \t\r

  \r

  \t<div class=\"sidebar-ad\">\r

  \t<div id=\"permanent-announcement-banner\"
  class=\"permanent-announcement-banner sidebar-perm-ad\">\r

  \t<a href=\"javascript:void(0);\" onclick=\"openSubscription();\"
  class=\"pro-link-button\">\r

  \t<div class=\"perm-banner-text\">\r

  \t<span class=\"main-text\">Upgrade to DeepAI Pro</span>\r

  \t<span class=\"sub-text sub-perm-text\">More access to the best AI</span>\r

  \t</div>\r

  \t</a>\r

  \t</div>\r

  \t</div>\r

  \t\r

  \r

  \t<!-- Footer (if needed) -->\r

  \t<div class=\"sidebar-footer\">\r

  \t<button class=\"delete-all-history-button\">Delete Chat History</button>\r

  \t</div>\r

  \t</aside>\r

  \t\r

  \r

  \t\r

  \r

  \t<!-- Overlay for mobile mode -->\r

  \t<div class=\"sidebar-overlay\" id=\"sidebarOverlay\"></div>\r

  \t\r

  \r

  \t<!-- MAIN CONTENT AREA -->\r

  \t<main class=\"chat-main\" id=\"chatMain\">\r

  \t\r

  \r

  \t\r

  \r

  \t\r

  \r

  \t<h1>Math AI</h1>\r

  \t\r

  \r

  \t<h3>The most powerful math solver AI on the market. Math AI solves
  everything from basic algebra to advanced calculus, delivering precise answers
  and step-by-step explanations. Effortlessly generate graphs, plots, and
  visualizations to deepen your understanding of any problem. Whether you’re a
  student, educator, or enthusiast, Math AI offers unmatched accuracy and
  clarity, making math easier to learn, teach, and explore.</h3>\r

  \t\r

  \r

  \t\r

  \r

  \t<div id=\"trustpilot-popup\" class=\"trustpilot-popup\">\r

  \t<div class=\"nudge-popup-header pro-popup-header\">\r

  \t<span class=\"close-icon\" id=\"close-trustpilot-popup\">&times;</span>\r

  \t</div>\r

  \t<div class=\"nudge-popup-body\" style=\"padding: 0px 20px 20px 20px;\">\r

  \t<div class=\"nudge-pro-body-title\">\r

  \t<img class=\"profile-pro-icon nudge-pro-icon\"
  src=\"/static/images/pro-badge.svg\" />\r

  \t<h2 style=\"margin-top: 10px; font-size: 20px;\">Enjoying the
  experience?</h2>\r

  \t</div>\r

  \t<button class=\"modal-get-started\" style=\"margin-top: 10px;\"
  onclick=\"window.open('https://www.trustpilot.com/review/deepai.org',
  '_blank')\">\r

  \tRate DeepAI!\r

  \t</button>\r

  \t</div>\r

  \t</div>\r

  \t<div id=\"copypopup\">\r

  \t<span class=\"message\">Copied!</span>\r

  \t</div>\r

  \t<div id=\"upload-successful\">\r

  \t<span class=\"message\">Upload Successful!</span>\r

  \t</div>\r

  \t<div id=\"upload-too-many\">\r

  \t<span class=\"message\">You can attach up to 10 images per message. Please
  remove any extra images and try again.</span>\r

  \t</div>\r

  \t<div id=\"bad-file-type\">\r

  \t<span class=\"message\">This file type is not supported. Please try
  again.</span>\r

  \t</div>\r

  \t<div id=\"big-file-type\">\r

  \t<span class=\"message\">This file exceeds the maximum file size of 20MB.
  Please select smaller files and try again.</span>\r

  \t</div>\r

  \t<div id=\"upload-unsuccessful\">\r

  \t<span class=\"message\">Upload Unsuccessful. Please try again.</span>\r

  \t</div>\r

  \t<div id=\"summarypopup\">\r

  \t<span class=\"message\">Summarizing!</span>\r

  \t</div>\r

  \t<div id=\"errorpopup\">\r

  \t<img class=\"errorIcon\" src=\"/static/images/error-icon.svg\" alt=\"Error
  Icon\" />\r

  \t<span class=\"message\">An error has occurred</span>\r

  \t</div>\r

  \t<!-- Persistent Compose Area -->\r

  \t<div class=\"persistent-compose-area\">\r

  \t<textarea class=\"chatbox\" id=\"persistentChatbox\" placeholder=\"Message
  Math AI...\" rows=\"1\"></textarea>\r

  \t<div class=\"response-length-options\">\r

  \t<div class=\"button-container\">\r

  \t<div style=\"display: block\">\r

  \t<div class=\"chat-mode-section\">\r

  \t<div class=\"chat-mode-dropdown-container\">\r

  \t<!-- Dropdown trigger -->\r

  \t<button\r

  \tid=\"chatModeDropdownButton\"\r

  \tclass=\"chat-mode-dropdown-trigger\"\r

  \ttype=\"button\"\r

  \t>\r

  \t<span id=\"currentChatModeLabel\">Standard</span>\r

  \t<!-- The arrow (caret) – we rotate it when .open is on the button -->\r

  \t<svg\r

  \twidth=\"24\"\r

  \theight=\"24\"\r

  \tviewBox=\"0 0 24 24\"\r

  \tfill=\"none\"\r

  \tclass=\"dropdown-caret\"\r

  \t>\r

  \t<path\r

  \td=\"M7 10L12 15L17 10\"\r

  \tstroke=\"white\"\r

  \tstroke-width=\"2.5\"\r

  \tstroke-linecap=\"round\"\r

  \tstroke-linejoin=\"round\"\r

  \tfill=\"none\"\r

  \t/>\r

  \t</svg>\r

  \t</button>\r

  \t\r

  \r

  \t<!-- The floating menu (hidden by default) -->\r

  \t<div id=\"chatModeMenu\" class=\"chat-mode-dropdown-menu\"
  style=\"display:none;\">\r

  \t<!-- We’ll build these items in JS -->\r

  \t</div>\r

  \t</div>\r

  \t</div>\r

  \t</div>\r

  \t<button id=\"recordButton\" title=\"Speech To Text\">\r

  \t<img src=\"/static/images/mic.svg\" alt=\"Mic Icon\" class=\"mic-icon\">\r

  \t</button>\r

  \t<button id=\"chatSubmitButton\" type=\"button\" onclick=\"chatSubmit('', '',
  true)\">\r

  \t<svg width=\"22\" height=\"22\" viewBox=\"0 0 22 22\" fill=\"none\"
  xmlns=\"http://www.w3.org/2000/svg\">\r

  \t<path d=\"M11 3.5L11 18.5\" stroke=\"white\" stroke-width=\"2.5\"
  stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\r

  \t<path d=\"M5 9.5L11 3.5L17 9.5\" stroke=\"white\" stroke-width=\"2.5\"
  stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\r

  \t</svg>\r

  \t</button>\r

  \t\r

  \r

  \t<button id=\"chatStopButton\" type=\"button\" onclick=\"chatStop()\">\r

  \t<svg width=\"22\" height=\"22\" viewBox=\"0 0 22 22\" fill=\"none\"
  xmlns=\"http://www.w3.org/2000/svg\">\r

  \t<rect x=\"5\" y=\"5\" width=\"12\" height=\"12\" rx=\"2\" fill=\"white\"/>\r

  \t</svg>\r

  \t</button>\r

  \t</div>\r

  \t</div>\r

  \t</div>\r

  \t<!-- <input type=\"radio\" style=\"position: absolute; appearance: none;
  -webkit-appearance: none; opacity: 0;\" id=\"short\" name=\"responseLength\"
  value=\"short\" checked>-->\r

  \t<!-- <label for=\"short\">Short</label>-->\r

  \t<!-- <input type=\"radio\" style=\"position: absolute; appearance: none;
  -webkit-appearance: none; opacity: 0;\" id=\"medium\" name=\"responseLength\"
  value=\"medium\">-->\r

  \t<!-- <label for=\"medium\">Medium</label>-->\r

  \t<!-- <input type=\"radio\" style=\"position: absolute; appearance: none;
  -webkit-appearance: none; opacity: 0;\" id=\"long\" name=\"responseLength\"
  value=\"long\">-->\r

  \t<!-- <label for=\"long\">Long</label>-->\r

  \t<!-- <input type=\"radio\" style=\"position: absolute; appearance: none;
  -webkit-appearance: none; opacity: 0;\" id=\"auto\" name=\"responseLength\"
  value=\"auto\">-->\r

  \t<!-- <label for=\"auto\">Auto</label>-->\r

  \t\r

  \r

  \t<!-- Checkbox to enable genius mode -->\r

  \t\r

  \r

  \t\r

  \r

  \t<div class=\"explore-aichat-modes\">\r

  \t<div class=\"chat-chips-container\">\r

  \t<a href=\"/characters\" class=\"chat-chip\">Chat with AI Characters!</a>\r

  \t<a href=\"/chat/text-generator\" class=\"chat-chip\">AI Text Generator</a>\r

  \t<a href=\"/chat/mathematics\" class=\"chat-chip\">Math AI</a>\r

  \t<a href=\"/chat/poet\" class=\"chat-chip\">AI Poem Generator</a>\r

  \t<a href=\"/chat/storyteller\" class=\"chat-chip\">AI Storyteller</a>\r

  \t<a href=\"/chat/chatgpt-alternative\" class=\"chat-chip\">ChatGPT
  Alternative</a>\r

  \t<a href=\"/chat/gpt-chat\" class=\"chat-chip\">GPT Chat</a>\r

  \t<a href=\"/chat/ai-code\" class=\"chat-chip\">AI Code</a>\r

  \t\r

  \r

  \t<!-- Initially hidden chips -->\r

  \t<a href=\"/chat/relationships\" class=\"chat-chip hidden-chip\">AI
  Relationship Coach</a>\r

  \t<a href=\"/chat/debate\" class=\"chat-chip hidden-chip\">AI Debate</a>\r

  \t<a href=\"/chat/drunk\" class=\"chat-chip hidden-chip\">AI Drunk
  Friend</a>\r

  \t<a href=\"/chat/translate\" class=\"chat-chip hidden-chip\">Translate</a>\r

  \t<a href=\"/chat/comedian\" class=\"chat-chip hidden-chip\">AI Comedian</a>\r

  \t<a href=\"/chat/proofreader\" class=\"chat-chip hidden-chip\">AI
  Proofreader</a>\r

  \t<a href=\"/chat/movie\" class=\"chat-chip hidden-chip\">AI Movie
  Critic</a>\r

  \t<a href=\"/chat/philosophy\" class=\"chat-chip hidden-chip\">AI Philosophy
  Teacher</a>\r

  \t<a href=\"/chat/writer\" class=\"chat-chip hidden-chip\">AI Writer</a>\r

  \t<a href=\"/chat/novelist\" class=\"chat-chip hidden-chip\">AI Novelist</a>\r

  \t\r

  \r

  \t<!-- More button as a chip -->\r

  \t<a href=\"javascript:void(0)\" class=\"chat-chip\" id=\"more-chip\"
  onclick=\"toggleChips()\">More</a>\r

  \t</div>\r

  \t</div>\r

  \t\r

  \r

  \t\r

  \r

  \t<!-- Messages get inserted here -->\r

  \t<form id=\"convo\" onsubmit=\"return false;\">\r

  \t</form>\r

  \t</main><!-- .chat-main -->\r

  \t</div><!-- .chat-layout-container -->\r

  \t\r

  \r

  \t<!-- Confirm Modal Root -->\r

  \t<div id=\"confirm-modal-root\" class=\"modal-root\">\r

  \t<div id=\"confirm-modal\" class=\"modal\">\r

  \t<div id=\"confirm-title\" class=\"title\">Deleting a Character</div>\r

  \t<div id=\"confirm-desc\" class=\"confirm-desc\">\r

  \tAre you sure you want to delete this character?<br/>\r

  \tThis action cannot be undone.\r

  \t</div>\r

  \t\r

  \r

  \t<!-- Only shown if user must type in text -->\r

  \t<input\r

  \ttype=\"text\"\r

  \tid=\"confirm-input\"\r

  \tclass=\"confirm-input\"\r

  \tplaceholder=\"Type here to confirm...\"\r

  \tstyle=\"display: none;\"\r

  \t/>\r

  \t\r

  \r

  \t<div class=\"modal-button-container\">\r

  \t<button id=\"confirm-yes-btn\" class=\"confirm-button\">\r

  \tDelete\r

  \t</button>\r

  \t<button id=\"confirm-cancel-btn\" class=\"confirm-button\">\r

  \tCancel\r

  \t</button>\r

  \t</div>\r

  \t</div>\r

  \t</div>\r

  \t\r

  \r

  \t\r

  \r

  \t<dialog id=\"signup-modal\">\r

  \t<div class=\"modal-body\">\r

  \t\r

  \r

  \t</div>\r

  \t<button id=\"close\" class=\"close\" type=\"button\">&times;</button>\r

  \t</dialog>\r

  \t<dialog id=\"login-modal\" class=\"login-container\">\r

  \t<div id=\"close-login\" type=\"button\" class=\"login-exit\">\r

  \t<svg\r

  \txmlns=\"http://www.w3.org/2000/svg\"\r

  \twidth=\"24\"\r

  \theight=\"24\"\r

  \tviewBox=\"0 0 24 24\"\r

  \tfill=\"none\"\r

  \t>\r

  \t<path\r

  \td=\"M11.9997 10.586L16.9497 5.63599L18.3637 7.04999L13.4137 12L18.3637
  16.95L16.9497 18.364L11.9997 13.414L7.04974 18.364L5.63574 16.95L10.5857
  12L5.63574 7.04999L7.04974 5.63599L11.9997 10.586Z\"\r

  \tfill=\"white\"\r

  \t/>\r

  \t</svg>\r

  \t</div>\r

  \t<div style=\"width: 95%;\">\r

  \t<h2 class=\"login-header\" id=\"login-header-title\">Login</h2>\r

  \t<p class=\"please-subheader\">\r

  \tPlease sign up or login with your details\r

  \t</p>\r

  \t<div class=\"options-container\">\r

  \t<div class=\"option login-active active\" id='loginToggle'
  onclick=\"toggleAuthOption('login')\">\r

  \tLogin\r

  \t</div>\r

  \t<div class=\"option signup\" id='signupToggle'
  onclick=\"toggleAuthOption('signup')\">\r

  \tSign up\r

  \t</div>\r

  \t</div>\r

  \t<button class=\"signin-with-google\" id=\"social-auth-google\"
  onclick=\"social_login(event, 'google')\">\r

  \t<svg\r

  \twidth=\"32\"\r

  \theight=\"32\"\r

  \tviewBox=\"0 0 32 32\"\r

  \tfill=\"none\"\r

  \txmlns=\"http://www.w3.org/2000/svg\"\r

  \t>\r

  \t<path\r

  \td=\"M32 16C32 7.16344 24.8366 0 16 0C7.16344 0 0 7.16344 0 16C0 24.8366
  7.16344 32 16 32C24.8366 32 32 24.8366 32 16Z\"\r

  \tfill=\"white\"\r

  \t/>\r

  \t<path\r

  \tfill-rule=\"evenodd\"\r

  \tclip-rule=\"evenodd\"\r

  \td=\"M23.8299 16.1823C23.8299 15.615 23.779 15.0695 23.6845
  14.5459H16.1499V17.6405H20.4554C20.2699 18.6405 19.7063 19.4877 18.859
  20.055V22.0623H21.4445C22.9572 20.6695 23.8299 18.6186 23.8299 16.1823Z\"\r

  \tfill=\"#4285F4\"\r

  \t/>\r

  \t<path\r

  \tfill-rule=\"evenodd\"\r

  \tclip-rule=\"evenodd\"\r

  \td=\"M16.1496 23.9995C18.3096 23.9995 20.1205 23.2832 21.4442 22.0614L18.8587
  20.0541C18.1423 20.5341 17.226 20.8177 16.1496 20.8177C14.066 20.8177 12.3023
  19.4104 11.6732 17.5195H9.00049V19.5923C10.3169 22.2068 13.0223 23.9995
  16.1496 23.9995Z\"\r

  \tfill=\"#34A853\"\r

  \t/>\r

  \t<path\r

  \tfill-rule=\"evenodd\"\r

  \tclip-rule=\"evenodd\"\r

  \td=\"M11.6735 17.52C11.5135 17.04 11.4226 16.5272 11.4226 16C11.4226 15.4727
  11.5135 14.96 11.6735 14.48V12.4072H9.00081C8.45899 13.4872 8.1499 14.709
  8.1499 16C8.1499 17.2909 8.45899 18.5127 9.00081 19.5927L11.6735 17.52Z\"\r

  \tfill=\"#FBBC05\"\r

  \t/>\r

  \t<path\r

  \tfill-rule=\"evenodd\"\r

  \tclip-rule=\"evenodd\"\r

  \td=\"M16.1496 11.1818C17.3241 11.1818 18.3787 11.5855 19.2078 12.3782L21.5023
  10.0836C20.1169 8.79273 18.306 8 16.1496 8C13.0223 8 10.3169 9.79273 9.00049
  12.4073L11.6732 14.48C12.3023 12.5891 14.066 11.1818 16.1496 11.1818Z\"\r

  \tfill=\"#EA4335\"\r

  \t/>\r

  \t</svg>\r

  \tContinue with Google\r

  \t</button>\r

  \t\r

  \r

  \t<div class=\"email-container\" id=\"email-container-id\">\r

  \t<svg\r

  \tclass=\"email-icon\"\r

  \txmlns=\"http://www.w3.org/2000/svg\"\r

  \twidth=\"24\"\r

  \theight=\"24\"\r

  \tviewBox=\"0 0 24 24\"\r

  \tfill=\"none\"\r

  \t>\r

  \t<path\r

  \td=\"M22 6C22 4.9 21.1 4 20 4H4C2.9 4 2 4.9 2 6V18C2 19.1 2.9 20 4 20H20C21.1
  20 22 19.1 22 18V6ZM20 6L12 11L4 6H20ZM20 18H4V8L12 13L20 8V18Z\"\r

  \tfill=\"#7D7D7D\"\r

  \t/>\r

  \t</svg>\r

  \t\r

  \r

  \t<input\r

  \tclass=\"input-email\"\r

  \tid=\"user-email\"\r

  \ttype=\"text\"\r

  \tplaceholder=\"Enter valid email address\"\r

  \tname=\"email\"\r

  \tonkeypress=\"authKeyPressHandler(event)\"\r

  \t/>\r

  \t</div>\r

  \t<div class=\"password-container\" id=\"password-container-id\">\r

  \t<svg\r

  \tclass=\"lock-icon\"\r

  \txmlns=\"http://www.w3.org/2000/svg\"\r

  \twidth=\"27\"\r

  \theight=\"24\"\r

  \tviewBox=\"0 0 24 24\"\r

  \tfill=\"none\"\r

  \t>\r

  \t<path\r

  \td=\"M12 17C13.1 17 14 16.1 14 15C14 13.9 13.1 13 12 13C10.9 13 10 13.9 10
  15C10 16.1 10.9 17 12 17ZM18 8H17V6C17 3.24 14.76 1 12 1C9.24 1 7 3.24 7
  6V8H6C4.9 8 4 8.9 4 10V20C4 21.1 4.9 22 6 22H18C19.1 22 20 21.1 20 20V10C20
  8.9 19.1 8 18 8ZM8.9 6C8.9 4.29 10.29 2.9 12 2.9C13.71 2.9 15.1 4.29 15.1
  6V8H8.9V6ZM18 20H6V10H18V20Z\"\r

  \tfill=\"#7D7D7D\"\r

  \t/>\r

  \t</svg>\r

  \t\r

  \r

  \t<input\r

  \tclass=\"input-password\"\r

  \tid=\"user-password\"\r

  \ttype=\"password\"\r

  \tplaceholder=\"Enter your password\"\r

  \tname=\"password\"\r

  \tonkeypress=\"authKeyPressHandler(event)\"\r

  \t/>\r

  \t</div>\r

  \t<div class=\"reenter-password-container\"
  id=\"reenter-password-container-id\">\r

  \t<svg\r

  \tclass=\"lock-icon\"\r

  \txmlns=\"http://www.w3.org/2000/svg\"\r

  \twidth=\"27\"\r

  \theight=\"24\"\r

  \tviewBox=\"0 0 24 24\"\r

  \tfill=\"none\"\r

  \t>\r

  \t<path\r

  \td=\"M12 17C13.1 17 14 16.1 14 15C14 13.9 13.1 13 12 13C10.9 13 10 13.9 10
  15C10 16.1 10.9 17 12 17ZM18 8H17V6C17 3.24 14.76 1 12 1C9.24 1 7 3.24 7
  6V8H6C4.9 8 4 8.9 4 10V20C4 21.1 4.9 22 6 22H18C19.1 22 20 21.1 20 20V10C20
  8.9 19.1 8 18 8ZM8.9 6C8.9 4.29 10.29 2.9 12 2.9C13.71 2.9 15.1 4.29 15.1
  6V8H8.9V6ZM18 20H6V10H18V20Z\"\r

  \tfill=\"#7D7D7D\"\r

  \t/>\r

  \t</svg>\r

  \t\r

  \r

  \t<input\r

  \tclass=\"input-password\"\r

  \tid=\"confirm-user-password\"\r

  \ttype=\"password\"\r

  \tplaceholder=\"Re-enter your password\"\r

  \tname=\"password\"\r

  \t/>\r

  \t<path\r

  \td=\"M10.125 10.5C10.0757 10.5001 10.0269 10.4905 9.98145 10.4716C9.93595
  10.4527 9.89464 10.425 9.8599 10.3901L1.6099 2.14013C1.54254 2.06923 1.50555
  1.97482 1.5068 1.87704C1.50805 1.77925 1.54745 1.68582 1.6166 1.61667C1.68575
  1.54752 1.77918 1.50812 1.87697 1.50687C1.97475 1.50561 2.06916 1.54261
  2.14006 1.60997L10.3901 9.85997C10.4425 9.91241 10.4782 9.97922 10.4926
  10.0519C10.5071 10.1247 10.4996 10.2 10.4713 10.2685C10.4429 10.337 10.3949
  10.3956 10.3332 10.4368C10.2716 10.478 10.1991 10.5 10.125 10.5V10.5ZM5.99201
  9.00005C5.01959 9.00005 4.08185 8.71223 3.20482 8.14458C2.40631 7.62895
  1.68748 6.89044 1.12592 6.01177V6.00989C1.59326 5.34028 2.10514 4.77403
  2.65498 4.31747C2.65995 4.31331 2.66401 4.30817 2.66689 4.30236C2.66978
  4.29655 2.67143 4.29021 2.67174 4.28374C2.67204 4.27726 2.67101 4.27079
  2.66869 4.26474C2.66637 4.25868 2.66282 4.25317 2.65826 4.24856L2.19139
  3.78239C2.18309 3.77403 2.17195 3.76909 2.16018 3.76857C2.14841 3.76805
  2.13687 3.77198 2.12787 3.77958C1.54381 4.27177 1.0017 4.87552 0.508807
  5.58239C0.424007 5.7041 0.377304 5.84828 0.374633 5.99659C0.371962 6.14491
  0.413444 6.29067 0.493807 6.41536C1.11279 7.38403 1.90943 8.19989 2.79724
  8.77434C3.79685 9.42192 4.87264 9.75005 5.99201 9.75005C6.59622 9.74817
  7.19615 9.64861 7.76857 9.4552C7.77612 9.45264 7.7829 9.4482 7.78825
  9.44229C7.79361 9.43638 7.79737 9.4292 7.79917 9.42143C7.80098 9.41367 7.80077
  9.40557 7.79858 9.3979C7.79638 9.39024 7.79227 9.38326 7.78662 9.37763L7.28084
  8.87184C7.2692 8.86049 7.2548 8.85235 7.23906 8.84824C7.22332 8.84413 7.20678
  8.84419 7.19107 8.84841C6.79937 8.94927 6.39649 9.00022 5.99201
  9.00005V9.00005ZM11.504 5.59223C10.8839 4.63317 10.0793 3.81848 9.1774
  3.23606C8.17967 2.59106 7.0781 2.25005 5.99201 2.25005C5.39421 2.25111 4.80084
  2.35276 4.23678 2.55075C4.22926 2.55337 4.22253 2.55785 4.21723
  2.56378C4.21193 2.56972 4.20822 2.5769 4.20647 2.58466C4.20471 2.59242 4.20495
  2.6005 4.20718 2.60814C4.20941 2.61578 4.21354 2.62273 4.2192 2.62833L4.72428
  3.13341C4.73603 3.14496 4.75063 3.15322 4.7666 3.15733C4.78256 3.16145 4.79933
  3.16128 4.81521 3.15684C5.19888 3.05306 5.59456 3.00034 5.99201
  3.00005C6.94568 3.00005 7.8806 3.29138 8.77053 3.86723C9.58404 4.39223 10.3113
  5.13005 10.8743 6.00005C10.8747 6.00058 10.8749 6.00124 10.8749
  6.00192C10.8749 6.0026 10.8747 6.00326 10.8743 6.0038C10.4656 6.64714 9.95851
  7.22234 9.37146 7.70841C9.36644 7.71255 9.36233 7.71769 9.3594 7.72351C9.35647
  7.72933 9.35479 7.7357 9.35446 7.7422C9.35413 7.74871 9.35516 7.75521 9.35748
  7.7613C9.3598 7.76738 9.36337 7.77292 9.36795 7.77755L9.83435 8.24372C9.84261
  8.25205 9.85369 8.25699 9.8654 8.25755C9.87712 8.25812 9.88862 8.25427 9.89764
  8.24677C10.5244 7.71907 11.0669 7.0988 11.5064 6.40739C11.5841 6.28555 11.6252
  6.14397 11.6247 5.99947C11.6243 5.85497 11.5824 5.71363 11.504
  5.59223V5.59223Z\"\r

  \tfill=\"#7D7D7D\"\r

  \t/>\r

  \t<path\r

  \td=\"M5.99999 3.75C5.83145 3.74991 5.66344 3.76878 5.49913 3.80625C5.49083
  3.80797 5.48315 3.81192 5.47691 3.81766C5.47068 3.8234 5.46611 3.83072 5.46371
  3.83885C5.4613 3.84698 5.46115 3.8556 5.46326 3.86381C5.46537 3.87202 5.46966
  3.87951 5.47569 3.88547L8.11452 6.52359C8.12048 6.52962 8.12796 6.53392
  8.13617 6.53603C8.14438 6.53814 8.15301 6.53798 8.16114 6.53558C8.16927
  6.53317 8.17659 6.52861 8.18233 6.52237C8.18807 6.51613 8.19201 6.50846
  8.19374 6.50016C8.26887 6.17063 8.26879 5.82842 8.19353 5.49893C8.11826
  5.16944 7.96973 4.86114 7.75897 4.59692C7.54821 4.33271 7.28064 4.11937
  6.97612 3.97275C6.6716 3.82613 6.33796 3.74999 5.99999 3.75V3.75ZM3.88545
  5.47641C3.87949 5.47038 3.87201 5.46608 3.8638 5.46397C3.85559 5.46186 3.84696
  5.46202 3.83883 5.46443C3.83071 5.46683 3.82338 5.47139 3.81764 5.47763C3.8119
  5.48387 3.80796 5.49154 3.80624 5.49984C3.72124 5.87118 3.73191 6.25801
  3.83725 6.62409C3.9426 6.99017 4.13916 7.32351 4.40852 7.59287C4.67788 7.86223
  5.01122 8.0588 5.3773 8.16414C5.74338 8.26948 6.13022 8.28015 6.50155
  8.19516C6.50985 8.19343 6.51753 8.18949 6.52376 8.18375C6.53 8.17801 6.53456
  8.17069 6.53697 8.16256C6.53937 8.15443 6.53953 8.1458 6.53742 8.13759C6.53531
  8.12938 6.53101 8.1219 6.52499 8.11594L3.88545 5.47641Z\"\r

  \tfill=\"#7D7D7D\"\r

  \t/>\r

  \t</svg>\r

  \t</div>\r

  \t<p id=\"user-email-error\" class=\"bad-auth-error\"></p>\r

  \t<button class=\"button login-with-email\" id=\"switch-to-email\"
  onclick=\"authOptions('moreOptions')\">Or login with email</button>\r

  \t<button class=\"button login-email\" id=\"login-via-email-id\"
  onclick=\"login(event)\">Login</button>\r

  \t<a class=\"forgot-password\" id=\"forgot-password\">\r

  \tForgot password?\r

  \t<span href=\"javascript:void();\" onclick=\"resetPassword(event)\"
  class=\"click-here\">Click here to reset</span>\r

  \t</a>\r

  \t<button class=\"button goback\" id=\"go-back-login\"
  onclick=\"authOptions('lessOptions')\">Go back</button>\r

  \t</div>\r

  \t</dialog>\r

  \t<dialog id=\"subscription-modal\">\r

  \t<div id=\"subscription-pro-id\"
  class=\"modal-small-subscription-container\">\r

  \t<div class=\"modal-subscriptions-container\">\r

  \t<div class=\"modal-subscription-title-container\">\r

  \t<div class=\"modal-subscription-title pro-promo-title\"
  id=\"subscription-title-pro-promo-id\">Unlock AI power with&nbsp;</div>\r

  \t<div class=\"modal-model-title\">\r

  \t<div class=\"modal-subscription-title\"
  id=\"subscription-title-id\">DeepAI</div>\r

  \t<div class=\"modal-subscription-title pro-title\"
  id=\"subscription-title-pro-id\">PRO</div>\r

  \t</div>\r

  \t</div>\r

  \t<div class=\"modal-subscription-price\">\r

  \t<div class=\"modal-price\" id=\"subscription-price-id\"> $4.99 </div>\r

  \t<div class=\"modal-subscription-length\"
  id=\"subscription-length-id\">/month</div>\r

  \t</div>\r

  \t<button id=\"stripe-pro-button-container\" class=\"modal-get-started\"
  onclick=\"window.open(window.deepaiProLinkUrl,
  '_blank')\">Subscribe</button>\r

  \t</div>\r

  \t<a class=\"modal-see-full\" href=\"/pricing\" target=\"_blank\">\r

  \tSee Full Pricing\r

  \t<svg\r

  \txmlns=\"http://www.w3.org/2000/svg\"\r

  \twidth=\"18\"\r

  \theight=\"19\"\r

  \tviewBox=\"0 0 18 19\"\r

  \tfill=\"none\"\r

  \t>\r

  \t<path\r

  \tfill-rule=\"evenodd\"\r

  \tclip-rule=\"evenodd\"\r

  \td=\"M3.8248 5.44998C3.64578 5.44998 3.47409 5.52109 3.34751 5.64768C3.22092
  5.77427 3.1498 5.94595 3.1498 6.12498V13.775C3.1498 14.1476 3.4522 14.45
  3.8248 14.45H11.4748C11.6538 14.45 11.8255 14.3789 11.9521 14.2523C12.0787
  14.1257 12.1498 13.954 12.1498 13.775V10.175C12.1498 9.99595 12.2209 9.82427
  12.3475 9.69768C12.4741 9.57109 12.6458 9.49998 12.8248 9.49998C13.0038
  9.49998 13.1755 9.57109 13.3021 9.69768C13.4287 9.82427 13.4998 9.99595
  13.4998 10.175V13.775C13.4998 14.312 13.2865 14.8271 12.9067 15.2069C12.5269
  15.5866 12.0119 15.8 11.4748 15.8H3.8248C3.28774 15.8 2.77267 15.5866 2.39291
  15.2069C2.01315 14.8271 1.7998 14.312 1.7998 13.775V6.12498C1.7998 5.58791
  2.01315 5.07285 2.39291 4.69308C2.77267 4.31332 3.28774 4.09998 3.8248
  4.09998H8.3248C8.50383 4.09998 8.67551 4.17109 8.8021 4.29768C8.92869 4.42427
  8.9998 4.59595 8.9998 4.77498C8.9998 4.954 8.92869 5.12569 8.8021
  5.25227C8.67551 5.37886 8.50383 5.44998 8.3248 5.44998H3.8248Z\"\r

  \tfill=\"#C3CAD9\"\r

  \t/>\r

  \t<path\r

  \tfill-rule=\"evenodd\"\r

  \tclip-rule=\"evenodd\"\r

  \td=\"M5.57465 11.9777C5.63413 12.0436 5.706 12.097 5.78615 12.135C5.8663
  12.1731 5.95316 12.1949 6.04176 12.1994C6.13036 12.2038 6.21897 12.1907
  6.30252 12.1609C6.38606 12.131 6.4629 12.085 6.52865 12.0254L14.85
  4.49605V7.02505C14.85 7.20407 14.9212 7.37576 15.0478 7.50235C15.1743 7.62893
  15.346 7.70005 15.525 7.70005C15.7041 7.70005 15.8758 7.62893 16.0023
  7.50235C16.1289 7.37576 16.2 7.20407 16.2 7.02505V2.97505C16.2 2.79603 16.1289
  2.62434 16.0023 2.49775C15.8758 2.37116 15.7041 2.30005 15.525
  2.30005H11.475C11.296 2.30005 11.1243 2.37116 10.9978 2.49775C10.8712 2.62434
  10.8 2.79603 10.8 2.97505C10.8 3.15407 10.8712 3.32576 10.9978 3.45235C11.1243
  3.57893 11.296 3.65005 11.475 3.65005H13.7727L5.62235 11.0246C5.55653 11.0841
  5.50308 11.156 5.46505 11.2361C5.42703 11.3163 5.40517 11.4032 5.40074
  11.4918C5.39631 11.5804 5.40939 11.669 5.43923 11.7525C5.46907 11.8361 5.51509
  11.912 5.57465 11.9777Z\"\r

  \tfill=\"#C3CAD9\"\r

  \t/>\r

  \t</svg>\r

  \t</a>\r

  \t</div>\r

  \t<button id=\"close-sub\" class=\"close\" type=\"button\">&times;</button>\r

  \t</div>\r

  \t</div>\r

  \t</dialog>\r

  \t<dialog id=\"out-of-credits-modal\">\r

  \t<div class=\"modal-body out-of-credits-modal-body\">\r

  \t<div id=\"close-out-of-credits\" type=\"button\"
  class=\"out-credits-exit\">\r

  \t<svg\r

  \txmlns=\"http://www.w3.org/2000/svg\"\r

  \twidth=\"24\"\r

  \theight=\"24\"\r

  \tviewBox=\"0 0 24 24\"\r

  \tfill=\"none\"\r

  \t>\r

  \t<path\r

  \td=\"M11.9997 10.586L16.9497 5.63599L18.3637 7.04999L13.4137 12L18.3637
  16.95L16.9497 18.364L11.9997 13.414L7.04974 18.364L5.63574 16.95L10.5857
  12L5.63574 7.04999L7.04974 5.63599L11.9997 10.586Z\"\r

  \tfill=\"white\"\r

  \t/>\r

  \t</svg>\r

  \t</div>\r

  \t<div>\r

  \t<h2 class=\"out-credits-header\">Out of credits</h2>\r

  \t<p class=\"please-subheader\">\r

  \tRefill your membership to continue using DeepAI\r

  \t</p>\r

  \t\r

  \r

  \t<div class=\"dropdown-payment-amount go-dropdown\">\r

  \t<div class=\"dataset\">\r

  \t<select\r

  \tid=\"outOfCreditsAmountSelect\"\r

  \tclass=\"dropdown-select dropdown-input-amount\"\r

  \tname=\"chooseAmount\"\r

  \t>\r

  \t<option disabled selected>$5.00 USD</option>\r

  \t<option value=\"5\">$5.00 USD</option>\r

  \t<option value=\"10\">$10.00 USD</option>\r

  \t<option value=\"20\">$20.00 USD</option>\r

  \t<option value=\"50\">$50.00 USD</option>\r

  \t<option value=\"100\">$100.00 USD</option>\r

  \t<option value=\"200\">$200.00 USD</option>\r

  \t<option value=\"500\">$500.00 USD</option>\r

  \t<option value=\"1000\">$1000.00 USD</option>\r

  \t</select>\r

  \t\r

  \r

  \t<svg\r

  \tclass=\"money-icon\"\r

  \txmlns=\"http://www.w3.org/2000/svg\"\r

  \twidth=\"24\"\r

  \theight=\"24\"\r

  \tviewBox=\"0 0 24 24\"\r

  \tfill=\"none\"\r

  \t>\r

  \t<path\r

  \td=\"M11.8003 10.9C9.53031 10.31 8.80031 9.7 8.80031 8.75C8.80031 7.66
  9.81031 6.9 11.5003 6.9C13.2803 6.9 13.9403 7.75 14.0003 9H16.2103C16.1403
  7.28 15.0903 5.7 13.0003 5.19V3H10.0003V5.16C8.06031 5.58 6.50031 6.84 6.50031
  8.77C6.50031 11.08 8.41031 12.23 11.2003 12.9C13.7003 13.5 14.2003 14.38
  14.2003 15.31C14.2003 16 13.7103 17.1 11.5003 17.1C9.44031 17.1 8.63031 16.18
  8.52031 15H6.32031C6.44031 17.19 8.08031 18.42 10.0003
  18.83V21H13.0003V18.85C14.9503 18.48 16.5003 17.35 16.5003 15.3C16.5003 12.46
  14.0703 11.49 11.8003 10.9Z\"\r

  \tfill=\"#7D7D7D\"\r

  \t/>\r

  \t</svg>\r

  \t\r

  \r

  \t<svg\r

  \tclass=\"dropdown-icon\"\r

  \txmlns=\"http://www.w3.org/2000/svg\"\r

  \twidth=\"24\"\r

  \theight=\"24\"\r

  \tviewBox=\"0 0 24 24\"\r

  \t>\r

  \t<path\r

  \td=\"M16.59 8.58997L12 13.17L7.41 8.58997L6 9.99997L12 16L18 9.99997L16.59
  8.58997Z\"\r

  \tfill=\"white\"\r

  \t/>\r

  \t</svg>\r

  \t</div>\r

  \t</div>\r

  \t\r

  \r

  \t<button id=\"out-stripe-go-button-container\"
  onclick=\"creditsCheckoutUrl('outOfCreditsAmountSelect')\" class=\"button
  modal-get-started\">Add Credits</button>\r

  \t</div>\r

  \t</div>\r

  \t</dialog>\r

  \t\r

  \r

  \t<dialog id=\"social-modal\">\r

  \t<div class=\"social-modal-body\">\r

  \t<p class=\"share-header\">Share</p>\r

  \t<p class=\"share-subheader\">Share your generations with friends</p>\r

  \t<div class=\"social-container\">\r

  \t<div class=\"social-icon\">\r

  \t<div class=\"icon-container x\">\r

  \t<a id=\"x-link\" target=\"_blank\">\r

  \t<img src=\"/static/images/social-x-icon.svg\">\r

  \t\r

  \r

  \t</a>\r

  \t<p class=\"social-name\">X</p>\r

  \t</div>\r

  \t<div class=\"icon-container facebook\">\r

  \t<a id=\"facebook-link\" target=\"_blank\">\r

  \t<img src=\"/static/images/social-facebook-icon.svg\">\r

  \t</a>\r

  \t<p class=\"social-name\">Facebook</p>\r

  \t</div>\r

  \t<div class=\"icon-container linkedin\">\r

  \t<a id=\"linkedin-link\" target=\"_blank\">\r

  \t<img src=\"/static/images/social-linkedin-icon.svg\">\r

  \t</a>\r

  \t<p class=\"social-name\">Linkedin</p>\r

  \t</div>\r

  \t<div class=\"icon-container reddit\">\r

  \t<a id=\"reddit-link\" target=\"_blank\">\r

  \t<img src=\"/static/images/social-reddit-icon.svg\">\r

  \t</a>\r

  \t<p class=\"social-name\">Reddit</p>\r

  \t</div>\r

  \t</div>\r

  \t<div class=\"social-link-copy\">\r

  \t<input type=\"text\" id=\"social-link-input\" readonly>\r

  \t<button class=\"copy-button\"
  onclick=\"navigator.clipboard.writeText(document.getElementById('social-link-\
  input').value)\">\r

  \t<img src=\"/static/images/social-copy-icon.svg\" alt=\"Copy\">\r

  \t</button>\r

  \t</div>\r

  \t</div>\r

  \t</div>\r

  \t<button id=\"close-social\" class=\"close\"
  type=\"button\">&times;</button>\r

  \t</dialog>\r

  \t\r

  \r

  \t<!-- Nudge Popup HTML (hidden by default) -->\r

  \t<div id=\"nudge-popup\" class=\"nudge-popup\">\r

  \t<div class=\"nudge-popup-header\">\r

  \t<div class=\"nudge-popup-header-text\">\r

  \t<svg\r

  \twidth=\"32\"\r

  \theight=\"32\"\r

  \tviewBox=\"0 0 32 32\"\r

  \tfill=\"none\"\r

  \txmlns=\"http://www.w3.org/2000/svg\"\r

  \t>\r

  \t<path\r

  \td=\"M32 16C32 7.16344 24.8366 0 16 0C7.16344 0 0 7.16344 0 16C0 24.8366
  7.16344 32 16 32C24.8366 32 32 24.8366 32 16Z\"\r

  \tfill=\"white\"\r

  \t/>\r

  \t<path\r

  \tfill-rule=\"evenodd\"\r

  \tclip-rule=\"evenodd\"\r

  \td=\"M23.8299 16.1823C23.8299 15.615 23.779 15.0695 23.6845
  14.5459H16.1499V17.6405H20.4554C20.2699 18.6405 19.7063 19.4877 18.859
  20.055V22.0623H21.4445C22.9572 20.6695 23.8299 18.6186 23.8299 16.1823Z\"\r

  \tfill=\"#4285F4\"\r

  \t/>\r

  \t<path\r

  \tfill-rule=\"evenodd\"\r

  \tclip-rule=\"evenodd\"\r

  \td=\"M16.1496 23.9995C18.3096 23.9995 20.1205 23.2832 21.4442 22.0614L18.8587
  20.0541C18.1423 20.5341 17.226 20.8177 16.1496 20.8177C14.066 20.8177 12.3023
  19.4104 11.6732 17.5195H9.00049V19.5923C10.3169 22.2068 13.0223 23.9995
  16.1496 23.9995Z\"\r

  \tfill=\"#34A853\"\r

  \t/>\r

  \t<path\r

  \tfill-rule=\"evenodd\"\r

  \tclip-rule=\"evenodd\"\r

  \td=\"M11.6735 17.52C11.5135 17.04 11.4226 16.5272 11.4226 16C11.4226 15.4727
  11.5135 14.96 11.6735 14.48V12.4072H9.00081C8.45899 13.4872 8.1499 14.709
  8.1499 16C8.1499 17.2909 8.45899 18.5127 9.00081 19.5927L11.6735 17.52Z\"\r

  \tfill=\"#FBBC05\"\r

  \t/>\r

  \t<path\r

  \tfill-rule=\"evenodd\"\r

  \tclip-rule=\"evenodd\"\r

  \td=\"M16.1496 11.1818C17.3241 11.1818 18.3787 11.5855 19.2078 12.3782L21.5023
  10.0836C20.1169 8.79273 18.306 8 16.1496 8C13.0223 8 10.3169 9.79273 9.00049
  12.4073L11.6732 14.48C12.3023 12.5891 14.066 11.1818 16.1496 11.1818Z\"\r

  \tfill=\"#EA4335\"\r

  \t/>\r

  \t</svg>\r

  \t<h2 style=\"font-size: 17px;\">Sign in with Google</h2>\r

  \t</div>\r

  \t<span class=\"close-icon\" id=\"close-nudge-popup\">&times;</span>\r

  \t</div>\r

  \t<div class=\"nudge-popup-body\">\r

  \t<p style=\"margin: auto; width: 90%;\">Use your Google Account to sign in to
  DeepAI</p>\r

  \t<button class=\"signin-with-google nudge-signin-button\"
  id=\"social-auth-google\" onclick=\"social_login(event, 'google')\">\r

  \tContinue\r

  \t</button>\r

  \t</div>\r

  \t</div>\r

  \t\r

  \r

  \t<div id=\"nudge-pro-popup\" class=\"nudge-pro-popup\">\r

  \t<div class=\"nudge-popup-header pro-popup-header\">\r

  \t<span class=\"close-icon\" id=\"close-nudge-pro-popup\">&times;</span>\r

  \t</div>\r

  \t<div class=\"nudge-popup-body\" style=\"padding: 0px 25px 20px 25px;\">\r

  \t<div class=\"nudge-pro-body-title\">\r

  \t<img class=\"profile-pro-icon nudge-pro-icon\"
  src=\"/static/images/pro-badge.svg\" />\r

  \t<h2>Consider DeepAI Pro</h2>\r

  \t</div>\r

  \t<ul class=\"pro-features-list\" style=\"list-style: none; padding: 0;
  margin: 0 0 20px 0;\">\r

  \t<li style=\"display: flex; align-items: center; margin-bottom: 10px;\">\r

  \t<svg\r

  \twidth=\"24\"\r

  \theight=\"24\"\r

  \tviewBox=\"0 0 24 24\"\r

  \tfill=\"none\"\r

  \txmlns=\"http://www.w3.org/2000/svg\"\r

  \tstyle=\"margin-right: 10px;\"\r

  \t>\r

  \t<circle cx=\"12\" cy=\"12\" r=\"12\" fill=\"#8f37ff\" />\r

  \t<path\r

  \td=\"M10.8333 13.8503L16.1953 8.48776L17.0207 9.3126L10.8333 15.5L7.12097
  11.7877L7.94581 10.9628L10.8333 13.8503Z\"\r

  \tfill=\"white\"\r

  \t/>\r

  \t</svg>\r

  \t<span>World's best value AI at $5 per month</span>\r

  \t</li>\r

  \t<li style=\"display: flex; align-items: center; margin-bottom: 10px;\">\r

  \t<svg\r

  \twidth=\"24\"\r

  \theight=\"24\"\r

  \tviewBox=\"0 0 24 24\"\r

  \tfill=\"none\"\r

  \txmlns=\"http://www.w3.org/2000/svg\"\r

  \tstyle=\"margin-right: 10px;\"\r

  \t>\r

  \t<circle cx=\"12\" cy=\"12\" r=\"12\" fill=\"#8f37ff\" />\r

  \t<path\r

  \td=\"M10.8333 13.8503L16.1953 8.48776L17.0207 9.3126L10.8333 15.5L7.12097
  11.7877L7.94581 10.9628L10.8333 13.8503Z\"\r

  \tfill=\"white\"\r

  \t/>\r

  \t</svg>\r

  \t<span>Smarter AI Chat</span>\r

  \t</li>\r

  \t<li style=\"display: flex; align-items: center; margin-bottom: 10px;\">\r

  \t<svg\r

  \twidth=\"24\"\r

  \theight=\"24\"\r

  \tviewBox=\"0 0 24 24\"\r

  \tfill=\"none\"\r

  \txmlns=\"http://www.w3.org/2000/svg\"\r

  \tstyle=\"margin-right: 10px;\"\r

  \t>\r

  \t<circle cx=\"12\" cy=\"12\" r=\"12\" fill=\"#8f37ff\" />\r

  \t<path\r

  \td=\"M10.8333 13.8503L16.1953 8.48776L17.0207 9.3126L10.8333 15.5L7.12097
  11.7877L7.94581 10.9628L10.8333 13.8503Z\"\r

  \tfill=\"white\"\r

  \t/>\r

  \t</svg>\r

  \t<span>Highest quality AI Images, Videos, and Music</span>\r

  \t</li>\r

  \t<li style=\"display: flex; align-items: center;\">\r

  \t<svg\r

  \twidth=\"24\"\r

  \theight=\"24\"\r

  \tviewBox=\"0 0 24 24\"\r

  \tfill=\"none\"\r

  \txmlns=\"http://www.w3.org/2000/svg\"\r

  \tstyle=\"margin-right: 10px;\"\r

  \t>\r

  \t<circle cx=\"12\" cy=\"12\" r=\"12\" fill=\"#8f37ff\" />\r

  \t<path\r

  \td=\"M10.8333 13.8503L16.1953 8.48776L17.0207 9.3126L10.8333 15.5L7.12097
  11.7877L7.94581 10.9628L10.8333 13.8503Z\"\r

  \tfill=\"white\"\r

  \t/>\r

  \t</svg>\r

  \t<span>100% Ad-free</span>\r

  \t</li>\r

  \t</ul>\r

  \t<button id=\"stripe-pro-button-container\" class=\"modal-get-started\"
  onclick=\"window.open(deepaiProLinkUrl, '_blank')\">\r

  \tSubscribe\r

  \t</button>\r

  \t</div>\r

  \t</div>\r

  \t\r

  \r

  \t\r

  \r

  \t                <footer>\r

  \t                        \r

  \t                        \r

  \t                        \r

  \t                        \r

  \t                </footer>\r

  \t\r

  \r

  \t<script>const app_base_url='https://api.deepai.org';const
  network_to_url={linkedin:'/accounts/linkedin_oauth2/login/?process=login',goo\
  gle:'/accounts/google/login/?process=login',};;</script>\r

  \t\r

  \r

  \t<script>\"use strict\";;;function
  setElementsStyleById(ids,style){ids.forEach(id=>{const
  element=document.getElementById(id);if(element){element.setAttribute('style',\
  style);}});}\r

  \tfunction showElementsById(ids){setElementsStyleById(ids,\"display:
  flex;\");}\r

  \tfunction hideElementsById(ids){setElementsStyleById(ids,\"display:
  none;\");}\r

  \tfunction toggleAuthOption(toggle){const
  loginOption=document.getElementById(\"loginToggle\");const
  signupOption=document.getElementById(\"signupToggle\");const
  authGoogle=document.getElementById('social-auth-google');const
  emailSwitch=document.getElementById(\"switch-to-email\");const
  loginEmail=document.getElementById('login-via-email-id');const
  userEmailError=document.getElementById('user-email-error');const
  reenterPwd=document.getElementById(\"reenter-password-container-id\");if(user\
  EmailError)\r

  \tuserEmailError.setAttribute('style',\"display: none;\");const
  userEmailInput=document.getElementById('user-email');if(userEmailInput)\r

  \tuserEmailInput.focus();if(toggle==\"login\"){if(loginOption&&!loginOption.c\
  lassList.contains(\"active\")){loginOption.classList.add(\"active\");if(signu\
  pOption)\r

  \tsignupOption.classList.remove(\"active\");}\r

  \tconst
  loginHeaderTitle=document.getElementById('login-header-title');if(loginHeader\
  Title)\r

  \tloginHeaderTitle.innerHTML=\"Login\";if(authGoogle)\r

  \tauthGoogle.setAttribute('onclick',\"social_login(event,
  'google')\");if(emailSwitch){emailSwitch.innerHTML=\"Or login with
  email\";emailSwitch.setAttribute('onclick',\"authOptions('moreOptions')\");}\r

  \thideElementsById([\"reenter-password-container-id\",\"user-email-error\"]);\
  if(loginEmail){loginEmail.innerHTML=\"Login\";loginEmail.setAttribute('onclic\
  k',\"login(event)\");}}\r

  \telse{if(signupOption&&!signupOption.classList.contains(\"active\")){signupO\
  ption.classList.add(\"active\");if(loginOption)\r

  \tloginOption.classList.remove(\"active\");}\r

  \tconst
  loginHeaderTitle=document.getElementById('login-header-title');if(loginHeader\
  Title)\r

  \tloginHeaderTitle.innerHTML=\"Signup\";if(authGoogle)\r

  \tauthGoogle.setAttribute('onclick',\"social_signup(event,
  'google')\");if(emailSwitch){emailSwitch.innerHTML=\"Or signup with
  email\";emailSwitch.setAttribute('onclick',\"authOptions('moreOptions')\");}\r

  \tif(loginEmail){loginEmail.innerHTML=\"Signup\";loginEmail.setAttribute('onc\
  lick',\"signup(event)\");}\r

  \thideElementsById([\"forgot-password\",\"user-email-error\"]);const
  reenterPwdDisplay=(authGoogle&&authGoogle.style.display==\"none\")?\"flex\":\
  \"none\";if(reenterPwd)\r

  \treenterPwd.setAttribute('style',`display: ${reenterPwdDisplay};`);}}\r

  \tfunction authOptions(toggle){hideElementsById(['user-email-error']);const
  moreOptions={true:{visible:[\"email-container-id\",\"password-container-id\",\
  \"reenter-password-container-id\",\"login-via-email-id\",\"forgot-password\",\
  \"go-back-login\"],hidden:[\"switch-to-email\",\"social-auth-google\"]},false\
  :{visible:[\"switch-to-email\",\"social-auth-google\"],hidden:[\"email-contai\
  ner-id\",\"password-container-id\",\"reenter-password-container-id\",\"login-\
  via-email-id\",\"forgot-password\",\"go-back-login\"]}};const
  isMoreOptions=toggle==\"moreOptions\";showElementsById(moreOptions[String(isM\
  oreOptions)].visible);hideElementsById(moreOptions[String(isMoreOptions)].hid\
  den);const
  userEmailInput=document.getElementById('user-email');if(userEmailInput)\r

  \tuserEmailInput.focus();const
  loginButton=document.getElementById('login-via-email-id');if(toggle==\"moreOp\
  tions\"&&loginButton&&loginButton.innerHTML==\"Login\"){hideElementsById([\"r\
  eenter-password-container-id\"]);}}\r

  \tfunction togglePaymentOption(toggle){const
  stripeProOption=document.getElementById(\"stripeProToggle\");const
  stripeProButton=document.getElementById(\"stripe-pro-button-container\");if(t\
  oggle===\"stripePro\"){if(stripeProOption&&!stripeProOption.classList.contain\
  s(\"active\")){stripeProOption.classList.add(\"active\");}\r

  \tif(stripeProButton)\r

  \tstripeProButton.style.display=\"flex\";}\r

  \telse if(stripeProButton){stripeProButton.style.display=\"none\";}}\r

  \tfunction toggleMembershipOption(toggle){const
  options={pro:{active:\"proToggle\",inactive:\"payGoToggle\",titleDisplay:\"fl\
  ex\",subheaderText:\"DeepAI PRO
  member\",priceText:\"$4.99\",lengthText:\"/month\",periodText:\"Per
  month\",genCallsValue:\"500\",videoCallsValue:\"30\",musicCallsValue:\"100\",\
  chatCallsValue:\"1750\",geniusMessagesValue:\"250\",geniusMessagesFontSize:\"\
  14px\",geniusImagesValue:\"60\",geniusImagesFontSize:\"14px\",geniusVideosVal\
  ue:\"5\",geniusVideosFontSize:\"14px\",},};const activeOption=\"pro\";const
  currentOption=options[activeOption];const
  proToggleElement=document.getElementById(currentOption.active);if(proToggleEl\
  ement)\r

  \tproToggleElement.classList.add(\"active\");const
  subTitlePro=document.getElementById('subscription-title-pro-id');if(subTitleP\
  ro)\r

  \tsubTitlePro.style.display=currentOption.titleDisplay;const
  subHeader=document.getElementById('subscriptions-subheader-id');if(subHeader)\
  \r

  \tsubHeader.innerHTML=currentOption.subheaderText;const
  subPrice=document.getElementById('subscription-price-id');if(subPrice)\r

  \tsubPrice.innerHTML=currentOption.priceText;const
  subLength=document.getElementById('subscription-length-id');if(subLength)\r

  \tsubLength.innerHTML=currentOption.lengthText;const
  genCallsPer=document.getElementById('gen-calls-per');if(genCallsPer)\r

  \tgenCallsPer.innerHTML=currentOption.periodText;const
  genCallsVal=document.getElementById('gen-calls-value');if(genCallsVal)\r

  \tgenCallsVal.innerHTML=currentOption.genCallsValue;const
  chatCallsVal=document.getElementById('chat-calls-value');if(chatCallsVal)\r

  \tchatCallsVal.innerHTML=currentOption.chatCallsValue;const
  videoCallsVal=document.getElementById('video-calls-value');if(videoCallsVal)\r

  \tvideoCallsVal.innerHTML=currentOption.videoCallsValue;const
  musicCallsVal=document.getElementById('music-calls-value');if(musicCallsVal)\r

  \tmusicCallsVal.innerHTML=currentOption.musicCallsValue;const
  geniusMsgVal=document.getElementById('genius-messages-value');if(geniusMsgVal\
  ){geniusMsgVal.innerHTML=currentOption.geniusMessagesValue;geniusMsgVal.style\
  .fontSize=currentOption.geniusMessagesFontSize;}\r

  \tconst
  geniusImgVal=document.getElementById('genius-images-value');if(geniusImgVal){\
  geniusImgVal.innerHTML=currentOption.geniusImagesValue;geniusImgVal.style.fon\
  tSize=currentOption.geniusImagesFontSize;}\r

  \tconst
  geniusVidVal=document.getElementById('genius-videos-value');if(geniusVidVal){\
  geniusVidVal.innerHTML=currentOption.geniusVideosValue;geniusVidVal.style.fon\
  tSize=currentOption.geniusVideosFontSize;}\r

  \tconst proActive=toggle===\"pro\";try{updateUserPlanButton(proActive);}\r

  \tcatch(e){console.error(\"Error updating user plan button:\",e);}}\r

  \tfunction
  setDisplayStyle(elementIds,displayStyle){elementIds.forEach(id=>{const
  element=document.getElementById(id);if(element){element.style.display=display\
  Style;}});}\r

  \tfunction changePaymentModalState(toggle){const alwaysHideElements=[];const
  startHideElements=['membership-toggle-id','modal-subscription-section-id','su\
  bscription-start-id','modal-dropdown-payment-amount'];const
  paymentElementsPro=['sub-terms-pro','payment-container-pro'];const
  getStartedContainer=document.getElementById('get-started-container-id');if(to\
  ggle===\"start\"){setDisplayStyle(alwaysHideElements,\"none\");setDisplayStyl\
  e(startHideElements,\"none\");if(getStartedContainer)\r

  \tgetStartedContainer.style.display=\"flex\";togglePaymentOption('stripePro')\
  ;setDisplayStyle(paymentElementsPro,\"flex\");}\r

  \telse{setDisplayStyle(alwaysHideElements,\"none\");setDisplayStyle(startHide\
  Elements,\"flex\");if(getStartedContainer)\r

  \tgetStartedContainer.style.display=\"none\";}}\r

  \tfunction togglePricingPageOptions(toggle){const
  freeMembOption=document.getElementById(\"freeMembToggle\");const
  proMembOption=document.getElementById(\"proMembToggle\");const
  middleFreeCol=document.getElementById(\"middle-free-plan-column\");const
  middleProCol=document.getElementById(\"middle-pro-plan-column\");if(toggle===\
  \"free-memb\"){if(freeMembOption&&!freeMembOption.classList.contains(\"active\
  \")){freeMembOption.classList.add(\"active\");if(proMembOption)\r

  \tproMembOption.classList.remove(\"active\");}\r

  \tif(middleFreeCol)\r

  \tmiddleFreeCol.style.display=\"block\";if(middleProCol)\r

  \tmiddleProCol.style.display=\"none\";}\r

  \telse
  if(toggle===\"pro-memb\"){if(proMembOption&&!proMembOption.classList.contains(\
  \"active\")){proMembOption.classList.add(\"active\");if(freeMembOption)\r

  \tfreeMembOption.classList.remove(\"active\");}\r

  \tif(middleFreeCol)\r

  \tmiddleFreeCol.style.display=\"none\";if(middleProCol)\r

  \tmiddleProCol.style.display=\"block\";}\r

  \telse{if(middleFreeCol)\r

  \tmiddleFreeCol.style.display=\"none\";if(middleProCol)\r

  \tmiddleProCol.style.display=\"none\";}}\r

  \tfunction
  getMobileProPlanDetails(){return{price:\"$4.99\",length:\"/month\",period:\"P\
  er
  month\",genCalls:\"500\",chatCalls:\"1750\",videoCalls:\"30\",musicCalls:\"100\
  \",geniusMessages:\"250\",messageSize:\"14px\",geniusImages:\"60\",imageSize:\
  \"14px\",geniusVideos:\"5\",videoSize:\"14px\"};}\r

  \tfunction updateMobilePricingClasses(proElement,proActive){if(proElement)\r

  \tproElement.classList.toggle(\"active\",proActive);}\r

  \tfunction updateMobilePricingContent(proActive){const
  plan=getMobileProPlanDetails();const
  mobileSubTitlePro=document.getElementById('mobile-subscription-title-pro-id')\
  ;if(mobileSubTitlePro)\r

  \tmobileSubTitlePro.style.display=proActive?\"flex\":\"none\";const
  mobileSubPrice=document.getElementById('mobile-subscription-price-id');if(mob\
  ileSubPrice)\r

  \tmobileSubPrice.innerHTML=plan.price;const
  mobileSubLength=document.getElementById('mobile-subscription-length-id');if(m\
  obileSubLength)\r

  \tmobileSubLength.innerHTML=plan.length;const
  mobileProOverages=document.getElementById('mobile-pro-overages');if(mobilePro\
  Overages)\r

  \tmobileProOverages.style.display=proActive?\"flex\":\"none\";const
  mobileGenCallsPer=document.getElementById('mobile-gen-calls-per');if(mobileGe\
  nCallsPer)\r

  \tmobileGenCallsPer.innerHTML=plan.period;const
  mobileGenCallsVal=document.getElementById('mobile-gen-calls-value');if(mobile\
  GenCallsVal)\r

  \tmobileGenCallsVal.innerHTML=plan.genCalls;const
  mobileChatCallsVal=document.getElementById('mobile-chat-calls-value');if(mobi\
  leChatCallsVal)\r

  \tmobileChatCallsVal.innerHTML=plan.chatCalls;const
  mobileVideoCallsVal=document.getElementById('mobile-video-calls-value');if(mo\
  bileVideoCallsVal)\r

  \tmobileVideoCallsVal.innerHTML=plan.videoCalls;const
  mobileMusicCallsVal=document.getElementById('mobile-music-calls-value');if(mo\
  bileMusicCallsVal)\r

  \tmobileMusicCallsVal.innerHTML=plan.musicCalls;const
  mobileGeniusMsgVal=document.getElementById('mobile-genius-messages-value');if\
  (mobileGeniusMsgVal){mobileGeniusMsgVal.innerHTML=plan.geniusMessages;mobileG\
  eniusMsgVal.style.fontSize=plan.messageSize;}\r

  \tconst
  mobileGeniusImgVal=document.getElementById('mobile-genius-images-value');if(m\
  obileGeniusImgVal){mobileGeniusImgVal.innerHTML=plan.geniusImages;mobileGeniu\
  sImgVal.style.fontSize=plan.imageSize;}\r

  \tconst
  mobileGeniusVidVal=document.getElementById('mobile-genius-videos-value');if(m\
  obileGeniusVidVal){mobileGeniusVidVal.innerHTML=plan.geniusVideos;mobileGeniu\
  sVidVal.style.fontSize=plan.videoSize;}}\r

  \tfunction toggleMembershipOptionPricing(toggle){const
  mobileProMembOption=document.getElementById(\"mobileProToggle\");const
  proActive=toggle===\"pro\";try{updateMobilePricingClasses(mobileProMembOption\
  ,proActive);updateMobilePricingContent(proActive);}\r

  \tcatch(e){console.log('error updating mobile pricing display',e);}\r

  \ttry{updateUserPlanButton(proActive);}\r

  \tcatch(e){console.log('error updating user plan button state',e);}}\r

  \tfunction toggleProPromoTitle(){const
  titleEl=document.getElementById('subscription-title-pro-promo-id');if(!titleE\
  l)\r

  \treturn;const
  segments=window.location.pathname.replace(/^\\/+|\\/+$/g,'').split('/');let
  page=segments[0];if(segments[0]==='machine-learning-model'){page='image';}\r

  \tconst titles={chat:'Upgrade AI Chat with',image:'Make Better Images
  with',video:'Make Better Videos with',music:'Make Beats
  with'};titleEl.innerHTML=titles[page]||'Unlock AI Power with';}\r

  \tfunction updateUserPlanButton(proActive){let user_object=null;try{const
  userStr=localStorage.getItem('user');if(userStr){user_object=JSON.parse(userS\
  tr);}}\r

  \tcatch(e){console.error(\"Error accessing or parsing user data from
  localStorage\",e);return;}\r

  \tif(user_object&&user_object.userprofile2){const
  userIsPro=user_object.userprofile2.user_has_deepai_pro;const
  userIsGo=user_object.userprofile2.user_is_pay_as_you_go;const
  isCurrentPlan=proActive?userIsPro:userIsGo;setElementStyles('subscription-sta\
  rt-id',isCurrentPlan?\"Current Plan\":\"Get
  Started\",isCurrentPlan);setElementStyles('mobile-subscription-start-id',isCu\
  rrentPlan?\"Current Plan\":\"Get Started\",isCurrentPlan);}\r

  \telse{setElementStyles('subscription-start-id',\"Get
  Started\",false);setElementStyles('mobile-subscription-start-id',\"Get
  Started\",false);}}\r

  \tfunction getProPlan(){return getMobileProPlanDetails();}\r

  \tfunction changePaymentModalStatePricing(toggle){const
  hideElementsOnStart=['mobile-membership-toggle-id','mobile-subscription-secti\
  on-id','mobile-subscription-start-id',];const
  paymentElementsPro=['mobile-sub-terms-pro','mobile-stripe-pro-button-containe\
  r'];const
  mobileSubscriptionTitle=document.getElementById('mobile-subscription-title-id\
  ');const
  mobileGetStartedContainer=document.getElementById('mobile-get-started-contain\
  er-id');if(toggle===\"start\"){setDisplayStyle(hideElementsOnStart,\"none\");\
  if(mobileGetStartedContainer)\r

  \tsetDisplayStyle(['mobile-get-started-container-id'],\"flex\");togglePayment\
  OptionMobile('stripePro');setDisplayStyle(paymentElementsPro,\"flex\");if(mob\
  ileSubscriptionTitle)\r

  \tmobileSubscriptionTitle.innerHTML=\"DeepAI\";}\r

  \telse{setDisplayStyle(hideElementsOnStart,\"flex\");if(mobileGetStartedConta\
  iner)\r

  \tsetDisplayStyle(['mobile-get-started-container-id'],\"none\");setDisplaySty\
  le(['mobile-dropdown-payment-amount'],\"none\");}}\r

  \tfunction togglePaymentOptionMobile(toggle){const
  mobilestripeProOption=document.getElementById(\"mobilestripeProToggle\");const
  mobileStripeProBtn=document.getElementById(\"mobile-stripe-pro-button-contain\
  er\");if(toggle==\"stripePro\"){if(mobilestripeProOption&&!mobilestripeProOpt\
  ion.classList.contains(\"active\")){mobilestripeProOption.classList.add(\"act\
  ive\");}\r

  \tif(mobileStripeProBtn)\r

  \tmobileStripeProBtn.style.display=\"flex\";}\r

  \telse{if(mobilestripeProOption)\r

  \tmobilestripeProOption.classList.remove(\"active\");if(mobileStripeProBtn)\r

  \tmobileStripeProBtn.style.display=\"none\";}}\r

  \tfunction checkCurrentUserPricingPlan(context='default'){const
  ids={proPlanButton:(context==='default')?'pro-plan-button':'middle-pro-plan-b\
  utton',freePlanColumn:(context==='default')?'free-plan-column':'middle-free-p\
  lan-column',infoSubContainer:'info-subscriptions-container',subscriptionStart\
  Id:'subscription-start-id',subscriptionStartButton:'stripe-pro-button-contain\
  er',mobileSubscriptionStartId:'mobile-subscription-start-id',freePlanButton:(\
  context==='default')?'free-plan-button':'middle-free-plan-button'};let
  user_object=null;try{const
  userStr=localStorage.getItem('user');if(userStr){user_object=JSON.parse(userS\
  tr);}}\r

  \tcatch(e){console.error(\"Error accessing or parsing user data from
  localStorage\",e);updateNonLoggedInUserPlan();return;}\r

  \tif(user_object&&user_object.userprofile2){const
  userIsPro=user_object.userprofile2.user_has_deepai_pro;const
  userIsGo=user_object.userprofile2.user_is_pay_as_you_go;const
  infoSubContainerEl=document.getElementById(ids.infoSubContainer);if(userIsPro\
  ){setElementStyles(ids.proPlanButton,\"Current
  Plan\",true);if(infoSubContainerEl&&context==='default')\r

  \tinfoSubContainerEl.style.width=\"22vw\";setElementStyles(ids.subscriptionSt\
  artId,\"Current
  Plan\",true);setElementStyles(ids.mobileSubscriptionStartId,\"Current
  Plan\",true);toggleMembershipOptionPricing('pro');setElementOnClick(ids.subsc\
  riptionStartId,\"changePaymentModalState('start');\");setElementOnClick(ids.m\
  obileSubscriptionStartId,\"changePaymentModalStatePricing('start');\");}\r

  \telse if(userIsGo){if(infoSubContainerEl&&context==='default')\r

  \tinfoSubContainerEl.style.width=\"24vw\";setElementStyles(ids.subscriptionSt\
  artId,\"Current
  Plan\",true);setElementStyles(ids.mobileSubscriptionStartId,\"Current
  Plan\",true);setElementOnClick(ids.subscriptionStartId,\"changePaymentModalSt\
  ate('start');\");setElementOnClick(ids.mobileSubscriptionStartId,\"changePaym\
  entModalStatePricing('start');\");setElementOnClick(ids.proPlanButton,\"openS\
  ubscription();\");setElementStyles(ids.subscriptionStartButton,\"Subscribe\",\
  false);setElementOnClick(ids.subscriptionStartButton,\"window.open(window.dee\
  paiProLinkUrl, '_blank');\");}\r

  \telse{setElementStyles(ids.freePlanButton,\"Current
  Plan\",true);setElementOnClick(ids.proPlanButton,\"openSubscription();\");set\
  ElementOnClick(ids.subscriptionStartId,\"changePaymentModalState('start');\")\
  ;setElementOnClick(ids.mobileSubscriptionStartId,\"changePaymentModalStatePri\
  cing('start');\");toggleMembershipOptionPricing('pro');setElementStyles(ids.s\
  ubscriptionStartId,\"Get
  Started\",false);setElementStyles(ids.mobileSubscriptionStartId,\"Get
  Started\",false);setElementStyles(ids.subscriptionStartButton,\"Subscribe\",f\
  alse);setElementOnClick(ids.subscriptionStartButton,\"window.open(window.deep\
  aiProLinkUrl, '_blank');\");}}\r

  \telse{updateNonLoggedInUserPlan();toggleMembershipOptionPricing('pro');}}\r

  \tfunction setElementStyles(elementId,innerHTMLText,disable=false){const
  element=document.getElementById(elementId);if(element){element.style.cssText=\
  disable?\"background-color: transparent !important; border: 2px solid #8f37ff
  !important; cursor: default !important; pointer-events: none
  !important;\":\"background-color: #8f37ff !important; border: none !important;
  cursor: pointer !important; pointer-events: all
  !important;\";element.innerHTML=innerHTMLText;}}\r

  \tfunction setElementOnClick(elementId,action){const
  element=document.getElementById(elementId);if(element){element.setAttribute(\
  \"onclick\",action);}}\r

  \tfunction
  updateNonLoggedInUserPlan(){setElementOnClick('subscription-start-id',\"openS\
  ignup();\");setElementStyles('subscription-start-id',\"Signup\",false);setEle\
  mentOnClick('stripe-pro-button-container',\"openSignup();\");setElementStyles\
  ('stripe-pro-button-container',\"Signup\",false);setElementOnClick('mobile-su\
  bscription-start-id',\"openSignup();\");setElementStyles('mobile-subscription\
  -start-id',\"Signup\",false);setElementOnClick('pro-plan-button',\"openSubscr\
  iption();\");setElementStyles('pro-plan-button',\"Get
  Started\",false);setElementOnClick('middle-pro-plan-button',\"openSubscriptio\
  n();\");setElementStyles('middle-pro-plan-button',\"Get
  Started\",false);setElementStyles('free-plan-button',\"Get
  Started\",false);setElementStyles('middle-free-plan-button',\"Get
  Started\",false);}\r

  \tfunction subscriptionPopupAfterAuth(){let user_object=null;try{const
  userStr=localStorage.getItem('user');if(userStr){user_object=JSON.parse(userS\
  tr);}}\r

  \tcatch(e){console.error(\"Error accessing user data after
  auth.\",e);return;}\r

  \tconst
  announcementBanner=document.getElementById('announcement-banner');if(user_obj\
  ect&&user_object.userprofile2){if(!(user_object.userprofile2.user_has_deepai_\
  pro||user_object.userprofile2.user_is_pay_as_you_go)){if(subscription_shown){\
  const
  win=window.open(window.deepaiProLinkUrl||'','_blank');if(win&&!win.closed){su\
  bscription_shown=false;return;}}\r

  \topenSubscription();}\r

  \telse{if(announcementBanner)\r

  \tannouncementBanner.style.display=\"none\";}}}\r

  \tfunction openSubscribeFromGenius(tag){const
  modalId=tag===\"image\"?\"genius-images-modal\":\"genius-chat-modal\";const
  geniusModal=document.getElementById(modalId);if(geniusModal&&typeof
  geniusModal.close==='function'){geniusModal.close();openSubscription();}\r

  \telse{console.warn(`Modal with ID '${modalId}' not found or is not a
  closeable
  element.`);openSubscription();}};try{if(!(window.location.hostname===\"deepai\
  .org\"||window.location.hostname===\"127.0.0.1\")){window.location.href=\"htt\
  ps://deepai.org\"+window.location.pathname+window.location.search;}}\r

  \tcatch(e){console.log(\"error redirecting to deepai.org: \"+e);}\r

  \ttry{(function(window){if(window.location!==window.top?.location){if(window.\
  top){window.top.location.href=window.location.href;}}})(window);}\r

  \tcatch(e){console.log('error breaking out of iframe',e);alert('DeepAI cannot
  be used in an
  iframe');window.open('https://deepai.org','_blank');window.location.href='htt\
  ps://openai.com/';}\r

  \tfetch(app_base_url+\"/favicon.ico\",{method:'POST',credentials:'include',})\
  ;try{document.addEventListener(\"visibilitychange\",(e)=>{fetch(app_base_url+\
  \"/favicon.ico\",{method:'POST',credentials:'include',});});}\r

  \tcatch(e){console.log(\"error adding visibilitychange event listener:
  \"+e);}\r

  \tfunction removeHeaderBackground(){const
  navbar=document.querySelector('header');if(navbar){navbar.style.background=\"\
  \";}}\r

  \tfunction changeHeaderBackground(){const
  navbar=document.querySelector('header');const
  ad=document.getElementById('deepai.org_header');if(!navbar||!ad)\r

  \treturn;const navbarRect=navbar.getBoundingClientRect();const
  adRect=ad.getBoundingClientRect();const navbarHeight=navbarRect.height;const
  bodyElement=document.querySelector('body');if(!bodyElement)\r

  \treturn;const bodyHeight=bodyElement.getBoundingClientRect().height;const
  navBodyRatio=bodyHeight/navbarHeight;const
  shift=-100*adRect.height/navbarHeight;navbar.style.background=`linear-gradien\
  t(180deg,#7729aa ${shift + -13.13 * navBodyRatio}%,#170a2d ${shift + 0.17 *
  navBodyRatio}%,#0a061d ${shift + navBodyRatio * 6.9}%,rgba(10,6,30,0.99)
  ${shift + navBodyRatio * 36.38}%,#010311 ${shift + navBodyRatio *
  98.59}%)`;}\r

  \ttry{if(!window.user_paid_for_no_ads){changeHeaderBackground();}}\r

  \tcatch(e){console.log(\"error changing header background: \"+e);}\r

  \ttry{localStorage.setItem(\"name\",\"Hello World!\");}\r

  \tcatch(e){console.log(\"Error - local storage is full. clearing local
  storage\");try{localStorage.clear();}\r

  \tcatch(e2){console.log(\"error clearing local storage: \"+e2);}}\r

  \tlet onCategoryPage=false;try{const reeferrerMadness=document.referrer;let
  cookieUserReeferrer=localStorage.getItem('userReeferrer');if(cookieUserReefer\
  rer==undefined){localStorage.setItem('userReeferrer',reeferrerMadness);cookie\
  UserReeferrer=localStorage.getItem('userReeferrer');}\r

  \tconst thisLocation=window.location.pathname;let
  pagePathCookie=localStorage.getItem('pagePath');if(pagePathCookie==undefined)\
  {localStorage.setItem('pagePath',[thisLocation].toString());}\r

  \telse if(pagePathCookie.length>100000){}\r

  \telse{const
  newPagePathCookie=[pagePathCookie,thisLocation];localStorage.setItem('pagePat\
  h',newPagePathCookie.toString());}\r

  \tconst
  latestPagePathCookie=localStorage.getItem('pagePath');window.cookieUserReefer\
  rer=cookieUserReeferrer;window.latestPagePathCookie=latestPagePathCookie;}\r

  \tcatch(e){console.log(\"error in reeferrer madness: \"+e);}\r

  \tif(window.HTMLDialogElement&&'showModal'in
  HTMLDialogElement.prototype){console.log('loading dialog polyfill...');const
  script=document.createElement(\"script\");script.src=\"/static/js/libs/dialog\
  -polyfill.js\";script.type=\"text/javascript\";script.async=true;script.onloa\
  d=function(){for(const dialog of
  Array.from(document.getElementsByTagName('dialog'))){dialogPolyfill.registerD\
  ialog(dialog);}};document.getElementsByTagName(\"head\")[0].appendChild(scrip\
  t);}\r

  \telse{console.log('not loading dialog polyfill');}\r

  \ttry{if(!window.localStorage||!window.sessionStorage)\r

  \t(function(){const Storage=function(type){function
  createCookie(name,value,days){let date,expires;if(days){date=new
  Date();date.setTime(date.getTime()+(days*24*60*60*1000));expires=\";
  expires=\"+date.toUTCString();}\r

  \telse{expires=\"\";}\r

  \tdocument.cookie=name+\"=\"+value+expires+\"; path=/\";}\r

  \tfunction readCookie(name){const nameEQ=name+\"=\";const
  ca=document.cookie.split(';');let
  i,c;for(i=0;i<ca.length;i++){c=ca[i];while(c.charAt(0)=='
  '){c=c.substring(1,c.length);}\r

  \tif(c.indexOf(nameEQ)==0){return c.substring(nameEQ.length,c.length);}}\r

  \treturn null;}\r

  \tfunction setData(data){const
  dataStr=JSON.stringify(data);if(type=='session'){window.name=dataStr;}\r

  \telse{createCookie('localStorage',dataStr,365);}}\r

  \tfunction clearData(){if(type=='session'){window.name='';}\r

  \telse{createCookie('localStorage','',365);}}\r

  \tfunction getData(){const
  data=type=='session'?window.name:readCookie('localStorage');return
  data?JSON.parse(data):{};}\r

  \tlet data=getData();function numKeys(){let n=0;for(const k in
  data){if(data.hasOwnProperty(k)){n+=1;}}\r

  \treturn n;}\r

  \treturn{clear:function(){data={};clearData();this.length=numKeys();},getItem\
  :function(key){key=encodeURIComponent(key);return
  data[key]===undefined?null:data[key];},key:function(i){let ctr=0;for(const k
  in data){if(ctr==i)\r

  \treturn decodeURIComponent(k);else\r

  \tctr++;}\r

  \treturn null;},removeItem:function(key){key=encodeURIComponent(key);delete
  data[key];setData(data);this.length=numKeys();},setItem:function(key,value){k\
  ey=encodeURIComponent(key);data[key]=String(value);setData(data);this.length=\
  numKeys();},length:0};};if(!window.localStorage)\r

  \twindow.localStorage=Storage('local');if(!window.sessionStorage)\r

  \twindow.sessionStorage=Storage('session');})();}\r

  \tcatch(e){console.log(\"error installing localstorage polyfill: \"+e);}\r

  \tfunction userIsLoggedIn(){if(window.user_object?.pk){return true;}\r

  \telse{return false;}}\r

  \tfunction getUserId(){if(window.user_object?.pk){return
  window.user_object.pk;}\r

  \telse{return null;}}\r

  \tasync function saveDeepaiProLinkUrl(){const resp=await
  fetch(app_base_url+'/get_my_stripe_subscription_checkout_link',{method:'GET',\
  credentials:'include',});const data=await
  resp.json();window.deepaiProLinkUrl=data.link;console.log(\"got
  deepaiProLinkUrl\",window.deepaiProLinkUrl);}\r

  \tasync function creditsCheckoutUrl(creditsAmountSelect){const
  selectElement=document.getElementById(creditsAmountSelect);if(!selectElement)\
  \r

  \treturn;const amount_of_credits=selectElement.value;const
  checkoutWindow=window.open('','_blank');const formData=new
  FormData();formData.append('amount_of_credits',amount_of_credits);try{const
  resp=await
  fetch(app_base_url+'/get_my_stripe_credits_checkout_link',{method:'POST',cred\
  entials:'include',body:formData});const data=await
  resp.json();window.deepaiAddCreditsLinkUrl=data.add_credits_link;console.log(\
  \"got
  deepaiAddCreditsLinkUrl\",window.deepaiAddCreditsLinkUrl);if(checkoutWindow){\
  checkoutWindow.location.href=window.deepaiAddCreditsLinkUrl;}\r

  \telse{window.location.href=window.deepaiAddCreditsLinkUrl;}}\r

  \tcatch(error){console.error(\"Error getting checkout
  URL:\",error);if(checkoutWindow){checkoutWindow.close();}}}\r

  \tasync function saveStripeCardUpdateLink(){const resp=await
  fetch(app_base_url+'/get_my_stripe_card_update_link',{method:'GET',credential\
  s:'include',});const data=await
  resp.json();window.deepaiUpdateStripeCardUrl=data.link;console.log(\"got
  deepaiUpdateStripeCardUrl\",window.deepaiUpdateStripeCardUrl);}\r

  \tfunction
  authKeyPressHandler(e){if(e.keyCode==13&&!e.shiftKey){e.preventDefault();const
  loginButton=document.getElementById('login-via-email-id');if(loginButton&&log\
  inButton.innerHTML==\"Login\"){window.login(e);}\r

  \telse{signup(e);}}}\r

  \tasync function checkAuthStatus(){const
  userStr=localStorage.getItem('user');if(userStr){window.user_object=JSON.pars\
  e(userStr);}\r

  \tif(typeof
  displayMyChatSessions===\"function\"){try{displayMyChatSessions();}\r

  \tcatch(e){console.log(e);}}\r

  \tif(typeof checkVideoPageAuth===\"function\"){try{checkVideoPageAuth();}\r

  \tcatch(e){}}\r

  \tconsole.log(window.user_object);const
  dropdownSandwich=document.getElementById('sandwichIconDrop');const
  dropdownUser=document.getElementById('userIconDrop');const
  profileSecNav=document.getElementById('navProfileSection');const
  profileButtonNav=document.getElementById('navProfileButton');const
  navProfileAvatar=document.getElementById('navUserAvatar');const
  headerLogin=document.getElementById('headerLoginButton');const
  navUsername=document.getElementById('navUserName');const
  navUseremail=document.getElementById('navUserEmail');if(userIsLoggedIn()&&win\
  dow.user_object){if(window.user_object.userprofile2.user_can_use_genius_mode)\
  {unlockGeniusMode();unlockGeniusImageGenerator();}\r

  \tif(window.user_object.userprofile2.user_has_deepai_pro){const
  banner=document.getElementById('announcement-banner');if(banner){banner.style\
  .display='none';}}\r

  \tshowHidePermanentProAds();if(window.user_object.userprofile2.user_has_deepa\
  i_pro){unlockHdImageGenerator();if(typeof
  window.user_paid_for_no_ads!=='undefined'){window.user_paid_for_no_ads=true;}\
  \r

  \tremoveFreestarAds();}\r

  \telse
  if(window.user_object.userprofile2.locked_out_due_to_no_payment_info===false)\
  {unlockHdImageGenerator();if(typeof
  window.user_paid_for_no_ads!=='undefined'){window.user_paid_for_no_ads=true;}\
  \r

  \tremoveFreestarAds();}\r

  \tif(navProfileAvatar){navProfileAvatar.src=app_base_url+'/get_author_obj_img\
  _url';}\r

  \tsaveDeepaiProLinkUrl();saveStripeCardUpdateLink();if(dropdownSandwich)\r

  \tdropdownSandwich.style.display=\"none\";if(headerLogin)\r

  \theaderLogin.style.display=\"none\";if(dropdownUser)\r

  \tdropdownUser.style.display=\"flex\";if(profileSecNav)\r

  \tprofileSecNav.style.display=\"flex\";if(profileButtonNav)\r

  \tprofileButtonNav.style.display=\"flex\";const
  myCharacters=document.getElementById(\"My
  Characters\");if(myCharacters){myCharacters.style.display=\"inline-block\";}\r

  \tif(navUsername)\r

  \tnavUsername.innerHTML=window.user_object.username;if(navUseremail)\r

  \tnavUseremail.innerHTML=window.user_object.email;for(const signupButton of
  Array.from(document.getElementsByClassName('button login'))){const
  button=signupButton;button.setAttribute('onclick',\"window.location.replace('\
  /dashboard/profile')\");button.innerHTML=\"My Profile\";}\r

  \tconst
  signupDropdownLi=document.getElementById('signup-button-dropdown-li');if(sign\
  upDropdownLi){signupDropdownLi.setAttribute('onclick',\"window.location.repla\
  ce('/dashboard/profile')\");signupDropdownLi.innerHTML=\"My Profile\";}\r

  \tfor(const loginButton of
  Array.from(document.getElementsByClassName('login-button'))){const
  button=loginButton;button.setAttribute('onclick',\"logout()\");button.innerHT\
  ML=\"Log Out\";}\r

  \tconst
  loginDropdown=document.getElementById('login-button-dropdown');if(loginDropdo\
  wn){loginDropdown.setAttribute('onclick',\"logout()\");loginDropdown.innerHTM\
  L=\"Logout\";}\r

  \tif(window.user_object.userprofile&&window.user_object.userprofile.api_key){\
  applyApiKeyToCodeExamples(window.user_object.userprofile.api_key);}\r

  \telse{console.log('Error - user is logged in but has no API key.');}\r

  \ttry{if(typeof
  window.freestar=='object'){window.freestar.queue.push(function(){window.frees\
  tar.identity.setIdentity({email:window.user_object.email});});}}\r

  \tcatch(e){console.log('error setting freestar identity',e);}\r

  \tapplyCachedHeartsToHeartsOnPage();await refreshHeartsFromServer();}}\r

  \tfunction unlockGeniusMode(){const
  genius=document.getElementById('genius');if(genius){genius.removeAttribute('l\
  ocked');genius.classList.remove('chat-mode-locked');}\r

  \tconst
  supergenius=document.getElementById('supergenius');if(supergenius){supergeniu\
  s.removeAttribute('locked');supergenius.classList.remove('chat-mode-locked');}\
  \r

  \tif(document.getElementById('onlinegenius')){document.getElementById('online\
  genius').removeAttribute('locked');document.getElementById('onlinegenius').cl\
  assList.remove('chat-mode-locked');}}\r

  \tfunction setupIMEHandlers(element){let isComposing=false;let
  compositionJustEnded=false;element.addEventListener('compositionstart',()=>{i\
  sComposing=true;compositionJustEnded=false;});element.addEventListener('compo\
  sitionend',()=>{isComposing=false;compositionJustEnded=true;setTimeout(()=>{c\
  ompositionJustEnded=false;},50);});return{isComposing:()=>isComposing,composi\
  tionJustEnded:()=>compositionJustEnded};}\r

  \tfunction removeFreestarAds(){try{const
  pushdown=document.getElementById(\"deepai.org_header\");if(pushdown){const
  parentMain=pushdown.parentNode;if(parentMain&&parentMain.parentNode){parentMa\
  in.parentNode.removeChild(parentMain);}}}\r

  \tcatch(e){console.error('Error removing deepai.org_header parent:',e);}\r

  \ttry{window.freestar.deleteAdSlots();}\r

  \tcatch(e){console.error('Error in freestar.deleteAdSlots:',e);}\r

  \ttry{window.freestar.deleteVideo();}\r

  \tcatch(e){console.error('Error in freestar.deleteVideo:',e);}\r

  \ttry{window.freestar.deleteStickyFooter();}\r

  \tcatch(e){console.error('Error in freestar.deleteStickyFooter:',e);}}\r

  \tfunction unlockHdImageGenerator(){const
  hdIcon=document.getElementById('imageHdLockedIcon');if(hdIcon){hdIcon.remove(\
  );}}\r

  \tfunction unlockGeniusImageGenerator(){const
  geniusButton=document.getElementById('modelGeniusModeButton');if(geniusButton\
  ){geniusButton.removeAttribute('locked');}\r

  \tconst
  geniusIcon=document.getElementById('imageGeniusLockedIcon');if(geniusIcon){ge\
  niusIcon.remove();}}\r

  \tasync function auth(){try{const response=await
  fetch(app_base_url+\"/daily-time-sync/user/\",{credentials:'include'});const
  user=await response.json();const
  user_string=JSON.stringify(user);if(response.status==200){localStorage.setIte\
  m('user',user_string);window.user_object=JSON.parse(localStorage.getItem('use\
  r'));await checkAuthStatus();}\r

  \telse{localStorage.removeItem('user');localStorage.removeItem('hearts-cache'\
  );window.user_object={};}}\r

  \tcatch(e){console.log(\"Error validating
  auth\",e);localStorage.removeItem('user');localStorage.removeItem('hearts-cac\
  he');window.user_object={};}}\r

  \tfunction mainNavDrop(){const
  dropdown=document.getElementById(\"mainNavDropdown\");if(dropdown){dropdown.c\
  lassList.toggle(\"show-dropdown\");}}\r

  \tconst
  dropMenuButton=document.getElementById(\"dropMenuButton\");if(dropMenuButton)\
  {dropMenuButton.addEventListener(\"click\",function(event){event.stopPropagat\
  ion();mainNavDrop();},false);}\r

  \twindow.onclick=function(event){const
  target=event.target;if(target.closest('.dropdown-link')||target.closest('.con\
  tent-dropdown-link')){}\r

  \telse if(!target.matches('.dropbtn')){const
  contentDropdown=document.getElementById(\"contentNavDropdown\");if(contentDro\
  pdown&&contentDropdown.classList.contains('show-dropdown')){contentDropdown.c\
  lassList.remove('show-dropdown');}\r

  \tconst
  mainDropdown=document.getElementById(\"mainNavDropdown\");if(mainDropdown&&ma\
  inDropdown.classList.contains('show-dropdown')){mainDropdown.classList.remove\
  ('show-dropdown');}}};let lastApiKeyUsed;function
  applyApiKeyToCodeExamples(newApiKey){for(const subArea of
  Array.from(document.getElementsByClassName('api-key-auto-substitute-area'))){\
  const
  treeWalker=document.createTreeWalker(subArea);while(treeWalker.nextNode()){co\
  nst node=treeWalker.currentNode;if(node.nodeValue){let
  newValue=node.nodeValue.replace('YOUR_API_KEY',newApiKey);if(lastApiKeyUsed){\
  newValue=newValue.replace(lastApiKeyUsed,newApiKey);}\r

  \tnode.nodeValue=newValue;}}}\r

  \tlastApiKeyUsed=newApiKey;}\r

  \tcheckAuthStatus();auth();async function refreshHeartsFromServer(){const
  response=await
  fetch(app_base_url+\"/get_my_hearted_object_ids\",{credentials:'include'});co\
  nst hearts=await
  response.json();localStorage.setItem('hearts-cache',JSON.stringify(hearts));a\
  pplyCachedHeartsToHeartsOnPage();}\r

  \tfunction applyCachedHeartsToHeartsOnPage(){const
  heartsCacheStr=localStorage.getItem('hearts-cache');if(!heartsCacheStr){conso\
  le.log('no heart cache');return;}\r

  \tconst hearts_hash=JSON.parse(heartsCacheStr).hearts;for(const heartLink of
  Array.from(document.getElementsByClassName('heart-link'))){const
  link=heartLink;link.removeAttribute('hearted');const
  heartId=link.getAttribute('heartid');if(heartId&&hearts_hash[heartId]){link.s\
  etAttribute('hearted','hearted');}}}\r

  \tasync function
  heart(heartLink){if(!userIsLoggedIn()){openSignup(function(){heart(heartLink)\
  ;});return;}\r

  \tlet hearts_cache;const
  cachedData=localStorage.getItem('hearts-cache');if(cachedData){hearts_cache=J\
  SON.parse(cachedData);}\r

  \telse{console.log('warning, hearts cache is empty. creating new hearts
  cache...');hearts_cache={'hearts':{}};}\r

  \tlet addremove;const
  heartCountElement=heartLink.getElementsByClassName('heart-count')[0];const
  oldcount=parseInt(heartCountElement.innerText)||0;const
  heartId=heartLink.getAttribute('heartid');if(!heartId)\r

  \treturn;if(heartLink.hasAttribute('hearted')){heartLink.removeAttribute('hea\
  rted');addremove='false';delete hearts_cache.hearts[heartId];let
  count=oldcount-1;if(count<0){count=0;}\r

  \theartCountElement.innerText=count.toString();}\r

  \telse{heartLink.setAttribute('hearted','hearted');addremove='true';hearts_ca\
  che.hearts[heartId]=true;heartCountElement.innerText=(oldcount+1).toString();}\
  \r

  \tlocalStorage.setItem('hearts-cache',JSON.stringify(hearts_cache));const
  formData=new FormData();const split=heartId.split('-');const
  heartclass=split[0];const
  objid=split[1];formData.append('type',heartclass);formData.append('id',objid)\
  ;formData.append('switch',addremove);const response=await
  fetch(app_base_url+\"/add_remove_heart\",{method:'POST',credentials:'include'\
  ,body:formData});console.log('hearty response ',response);}\r

  \tconst modal=document.getElementById('login-modal');const
  nudgeLoginModal=document.getElementById(\"nudge-popup\");const
  nudgeProModal=document.getElementById(\"nudge-pro-popup\");let
  afterSignupFunction=null;const
  subscription_modal=document.getElementById('subscription-modal');const
  openSignup=function(afterSignupFunctionArg,popupHeaderText){afterSignupFuncti\
  on=afterSignupFunctionArg||null;if(userIsLoggedIn()){if(afterSignupFunction){\
  afterSignupFunction();}}\r

  \telse{if(subscription_modal)\r

  \tsubscription_modal.close();if(modal){modal.showModal();toggleAuthOption(\"s\
  ignup\");if(popupHeaderText){const
  header=modal.getElementsByClassName('login-header')[0];if(header)\r

  \theader.innerHTML=popupHeaderText;}}}};const
  closeElem=document.getElementById('close');if(closeElem){closeElem.addEventLi\
  stener('click',()=>{if(modal)\r

  \tmodal.close();authOptions('lessOptions');});}\r

  \tif(modal){modal.addEventListener('cancel',()=>{modal.close();authOptions('l\
  essOptions');});modal.addEventListener('click',(event)=>{if(event.target===mo\
  dal){modal.close();authOptions('lessOptions');}});}\r

  \tfunction
  getSignupCustomData(desired_username){return{'referrer':'['+(window.cookieUse\
  rReeferrer||'')+']'+'['+(window.latestPagePathCookie||'')+']','signup_page':w\
  indow.location.pathname,'desired_username':desired_username};}\r

  \tasync function save_custom_signup_data(desired_username){const
  custom_signup_data=getSignupCustomData(desired_username);const response=await
  fetch(app_base_url+\"/save_custom_signup_data\",{credentials:'include',method\
  :'POST',body:JSON.stringify(custom_signup_data),headers:{'Content-Type':'appl\
  ication/json'}});if(!response.ok){throw new Error(\"saving custom signup data
  HTTP status \"+response.status);}\r

  \treturn null;}\r

  \tasync function signup(e){e.preventDefault();const
  p=document.getElementById('user-email-error');if(p){p.innerHTML='';p.setAttri\
  bute('style','display: none;');}\r

  \tconst user_email=document.getElementById('user-email');const
  user_password=document.getElementById('user-password');const
  confirm_user_password=document.getElementById('confirm-user-password');if(!us\
  er_email||!user_password||!confirm_user_password)\r

  \treturn;const user_email_value=user_email.value;const
  user_password_value=user_password.value;const
  confirm_user_password_value=confirm_user_password.value;const formData=new
  FormData();formData.append('email',user_email_value);formData.append('usernam\
  e',user_email_value);formData.append('password1',user_password_value);formDat\
  a.append('password2',confirm_user_password_value);user_email.classList.add('l\
  oading');let
  validation_error=null;if(!user_email_value){validation_error='Email is
  required';}\r

  \telse if(!user_password_value){validation_error='Password is required';}\r

  \telse if(!confirm_user_password_value){validation_error='Password
  confirmation is required';}\r

  \tif(validation_error&&p){p.innerHTML=validation_error;p.setAttribute('style'\
  ,'display: block;');user_email.classList.remove('loading');return;}\r

  \telse{const user_login_type=await
  get_user_login_type(user_email_value);if(user_login_type.user_exists){user_em\
  ail.classList.remove('loading');let message=\"This account already
  exists\";if(!user_login_type.login_with_password){const
  name=user_login_type.login_with_social_accounts[0];message=\"This account
  exists and needs to be logged in using \"+name;}\r

  \tif(p){p.innerHTML=message;p.className='bad-auth-error';p.setAttribute('styl\
  e','display: flex;');}}\r

  \telse{await save_custom_signup_data(null);const response=await
  fetch(app_base_url+\"/daily-time-sync/registration/\",{credentials:'include',\
  method:'POST',body:formData});console.log(response);if(response.ok===true){us\
  er_email.classList.remove('loading');if(modal)\r

  \tmodal.close();if(nudgeLoginModal)\r

  \tnudgeLoginModal.classList.remove(\"active\");if(afterSignupFunction){await
  auth();afterSignupFunction();try{subscriptionPopupAfterAuth();checkCurrentUse\
  rPricingPlan();checkCurrentUserPricingPlan('middle');}\r

  \tcatch(e){console.log(\"error getting current user pricing plan: \"+e);}}\r

  \telse{await
  auth();try{subscriptionPopupAfterAuth();checkCurrentUserPricingPlan();checkCu\
  rrentUserPricingPlan('middle');}\r

  \tcatch(e){console.log(\"error getting current user pricing plan: \"+e);}}}\r

  \telse
  if(response.ok===false&&p){user_email.classList.remove('loading');if(response\
  .status===500){const signup_fail=\"Hmm, something went wrong. Perhaps try
  another email address, or try again
  later.\";p.innerHTML=signup_fail;p.className='bad-auth-error';p.setAttribute(\
  'style','display: flex;');}\r

  \telse if(response.status>=400){const data=await response.json();let
  signup_fail=\"Hmm, something went wrong. Perhaps try another email address, or
  try again later.\";for(const[key,value]of
  Object.entries(data)){if(value[0]){signup_fail=value[0];break;}}\r

  \tp.innerHTML=signup_fail;p.className='bad-auth-error';p.setAttribute('style'\
  ,'display: flex;');}}}}}\r

  \tfunction
  recordNewProSubscriberConversion(callback){try{twq('event','tw-pzofp-pzoig',{\
  value:5.00,currency:'USD',email_address:window.user_object?.email,phone_numbe\
  r:null});}\r

  \tcatch(e){console.log('error recording new pro subscriber conversion to
  twitter',e);}\r

  \ttry{if(!callback){callback=function(){console.log('conversion event
  callback');};}\r

  \tgtag('event','conversion_event_subscribe_paid',{'event_callback':callback,'\
  event_timeout':2000,});}\r

  \tcatch(e){console.log('error recording new pro subscriber
  conversion',e);if(callback)\r

  \tcallback();}}\r

  \tconst login_modal=document.getElementById('login-modal');let
  afterLoginFunction=null;const
  openLogin=function(afterLoginFunctionArg){afterLoginFunction=afterLoginFuncti\
  onArg||null;if(userIsLoggedIn()){if(afterLoginFunction){afterLoginFunction();\
  }}\r

  \telse{if(login_modal){login_modal.showModal();toggleAuthOption(\"login\");}}\
  };const
  closeLogin=document.getElementById('close-login');if(closeLogin){closeLogin.a\
  ddEventListener('click',()=>{if(login_modal)\r

  \tlogin_modal.close();authOptions('lessOptions');});}\r

  \tif(login_modal){login_modal.addEventListener('cancel',()=>{login_modal.clos\
  e();authOptions('lessOptions');});login_modal.addEventListener('click',(event\
  )=>{if(event.target===login_modal){login_modal.close();authOptions('lessOptio\
  ns');}});}\r

  \tlet subscription_shown=false;const
  subscriptionMessageHandler=async(event)=>{console.log('received message:
  ',event.data);if(event.data=='stripe subscription
  success'){if(subscription_modal)\r

  \tsubscription_modal.close();if(nudgeProModal)\r

  \tnudgeProModal.classList.remove('active');recordNewProSubscriberConversion()\
  ;try{await auth();const
  up=window.user_object?.userprofile2;if(up?.user_can_use_genius_mode){unlockGe\
  niusMode();unlockGeniusImageGenerator();}\r

  \tif(up?.user_has_deepai_pro){unlockHdImageGenerator();if(typeof
  window.user_paid_for_no_ads!=='undefined'){window.user_paid_for_no_ads=true;}\
  \r

  \tremoveFreestarAds();const
  banner=document.getElementById('announcement-banner');if(banner)\r

  \tbanner.style.display='none';}\r

  \tshowHidePermanentProAds();}\r

  \tcatch(e){console.log('Error handling subscription success:',e);}}};let
  subscriptionListenerAdded=false;const
  openSubscription=function(){if(!subscriptionListenerAdded){window.addEventLis\
  tener(\"message\",subscriptionMessageHandler,false);subscriptionListenerAdded\
  =true;}\r

  \tconst
  showSubscriptionModal=()=>{if(subscription_modal){subscription_modal.showModa\
  l();toggleProPromoTitle();changePaymentModalStatePricing('back');toggleMember\
  shipOption('pro');subscription_shown=true;}};if(userIsLoggedIn()&&window.user\
  _object?.userprofile2?.user_has_deepai_pro){if(subscription_modal)\r

  \tsubscription_modal.close();if(nudgeProModal)\r

  \tnudgeProModal.classList.remove('active');return;}\r

  \tif(!userIsLoggedIn()){openSignup(async
  function(){if(window.user_object?.userprofile2?.user_has_deepai_pro){return;}\
  \r

  \tif(!window.deepaiProLinkUrl){await saveDeepaiProLinkUrl();}\r

  \tif(window.deepaiProLinkUrl){const
  stripeWindow=window.open(window.deepaiProLinkUrl,'_blank');if(!stripeWindow||\
  stripeWindow.closed||typeof
  stripeWindow.closed==='undefined'){showSubscriptionModal();}}});return;}\r

  \tif(userIsLoggedIn()&&window.deepaiProLinkUrl){const
  stripeWindow=window.open(window.deepaiProLinkUrl,'_blank');if(!stripeWindow||\
  stripeWindow.closed||typeof
  stripeWindow.closed==='undefined'){showSubscriptionModal();}\r

  \treturn;}\r

  \tconst
  userStr=localStorage.getItem('user');if(userStr){window.user_object=JSON.pars\
  e(userStr);}\r

  \tshowSubscriptionModal();if(!userIsLoggedIn()){toggleProPromoTitle();updateN\
  onLoggedInUserPlan();}};const
  closeSubscription=document.getElementById('close-sub');if(closeSubscription){\
  closeSubscription.addEventListener('click',()=>{if(subscription_modal)\r

  \tsubscription_modal.close();});}\r

  \tif(subscription_modal){subscription_modal.addEventListener('cancel',()=>{su\
  bscription_modal.close();});subscription_modal.addEventListener('click',(even\
  t)=>{if(event.target===subscription_modal){subscription_modal.close();}});}\r

  \tconst
  out_of_credits_modal=document.getElementById('out-of-credits-modal');const
  openOutOfCredits=function(current_balance){if(userIsLoggedIn()){if(out_of_cre\
  dits_modal){out_of_credits_modal.showModal();if(current_balance!==null&&curre\
  nt_balance!==undefined){current_balance=parseFloat(current_balance.toFixed(2)\
  );const
  balanceElement=document.getElementById('currentAccountBalance');if(balanceEle\
  ment)\r

  \tbalanceElement.innerText=current_balance.toString();}}}\r

  \telse{openLogin();}};const
  closeOutOfCredits=document.getElementById('close-out-of-credits');if(closeOut\
  OfCredits){closeOutOfCredits.addEventListener('click',()=>{if(out_of_credits_\
  modal)\r

  \tout_of_credits_modal.close();});}\r

  \tif(out_of_credits_modal){out_of_credits_modal.addEventListener('cancel',()=\
  >{out_of_credits_modal.close();});out_of_credits_modal.addEventListener('clic\
  k',(event)=>{if(event.target===out_of_credits_modal){out_of_credits_modal.clo\
  se();}});}\r

  \tasync function get_user_login_type(email){const formData=new
  FormData();formData.append('email',email);const response=await
  fetch(app_base_url+\"/get_user_login_type\",{credentials:'include',method:'PO\
  ST',body:formData});if(response.ok==true){const user_login_type=await
  response.json();return user_login_type;}\r

  \tthrow new Error(\"Failed to get user login type\");}\r

  \tasync function login(e){e.preventDefault();const
  p=document.getElementById('user-email-error');if(p){p.innerHTML='';p.setAttri\
  bute('style','display: none;');}\r

  \tconst login_user_email=document.getElementById('user-email');const
  login_user_password=document.getElementById('user-password');if(!login_user_e\
  mail||!login_user_password)\r

  \treturn;const login_user_email_value=login_user_email.value;const
  login_user_password_value=login_user_password.value;const formData=new
  FormData();formData.append('username',login_user_email_value);formData.append\
  ('password',login_user_password_value);if(login_user_email_value==''||login_u\
  ser_password_value==''){return;}\r

  \telse{login_user_email.classList.add('loading');const user_login_type=await
  get_user_login_type(login_user_email_value);if(!user_login_type.user_exists){\
  login_user_email.classList.remove('loading');const login_fail=\"No user with
  this email or username was
  found\";if(p){p.innerHTML=login_fail;p.className='bad-auth-error';p.setAttrib\
  ute('style','display: flex;');}\r

  \treturn;}\r

  \tif(!user_login_type.login_with_password){login_user_email.classList.remove(\
  'loading');const name=user_login_type.login_with_social_accounts[0];const
  login_fail=\"This account needs to be logged in using
  \"+name;if(p){p.innerHTML=login_fail;p.className='bad-auth-error';p.setAttrib\
  ute('style','display: flex;');}\r

  \treturn;}\r

  \tconst response=await
  fetch(app_base_url+\"/daily-time-sync/login/\",{credentials:'include',method:\
  'POST',body:formData});console.log(response);if(response.ok==true){login_user\
  _email.classList.remove('loading');if(login_modal)\r

  \tlogin_modal.close();if(nudgeLoginModal)\r

  \tnudgeLoginModal.classList.remove(\"active\");if(afterLoginFunction){await
  auth();afterLoginFunction();try{subscriptionPopupAfterAuth();checkCurrentUser\
  PricingPlan();checkCurrentUserPricingPlan('middle');}\r

  \tcatch(e){console.log(\"error getting current user pricing plan: \"+e);}}\r

  \telse{await
  auth();try{subscriptionPopupAfterAuth();checkCurrentUserPricingPlan();checkCu\
  rrentUserPricingPlan('middle');}\r

  \tcatch(e){console.log(\"error getting current user pricing plan: \"+e);}}}\r

  \telse
  if(response.ok==false&&p){login_user_email.classList.remove('loading');if(res\
  ponse.status==500){const login_fail=\"Hmm, something went wrong. Let's try
  that
  again.\";p.innerHTML=login_fail;p.className='bad-auth-error';p.setAttribute('\
  style','display: flex;');}\r

  \telse if(response.status==400){const login_fail=\"Email/password combination
  incorrect. Let's try that
  again.\";p.innerHTML=login_fail;p.className='bad-auth-error';p.setAttribute('\
  style','display: flex;');}\r

  \telse{}}}}\r

  \tfunction sleep_async(ms){return new
  Promise(resolve=>setTimeout(resolve,ms));}\r

  \tasync function social_auth(social_network,desired_username){const
  url=app_base_url+network_to_url[social_network];const
  openedWindow=window.open('about:blank','deepaiLogin','height=600,width=600,le\
  ft=10,top=10,resizable=yes,scrollbars=yes,toolbar=no,menubar=no,location=no,d\
  irectories=no,status=no');if(!openedWindow)\r

  \treturn;await
  save_custom_signup_data(desired_username);openedWindow.location.href=url;whil\
  e(true){await sleep_async(200);if(openedWindow.closed){return;}}}\r

  \tasync function social_signup(e,social_network){e.preventDefault();const
  user_email=document.getElementById('user-email');if(!user_email)\r

  \treturn;user_email.classList.add('loading');const
  p=document.getElementById('user-email-error');if(p){p.innerHTML='';p.setAttri\
  bute('style','display: none;');}\r

  \tlet
  validation_error=null;if(validation_error&&p){p.innerHTML=validation_error;p.\
  setAttribute('style','display:
  block;');user_email.classList.remove('loading');return;}\r

  \tawait social_auth(social_network,null);const response=await
  fetch(app_base_url+\"/daily-time-sync/user/\",{credentials:'include'});if(res\
  ponse.ok==true){user_email.classList.remove('loading');if(modal)\r

  \tmodal.close();if(nudgeLoginModal)\r

  \tnudgeLoginModal.classList.remove(\"active\");if(afterSignupFunction){await
  auth();afterSignupFunction();try{subscriptionPopupAfterAuth();checkCurrentUse\
  rPricingPlan();checkCurrentUserPricingPlan('middle');}\r

  \tcatch(e){console.log(\"error getting current user pricing plan: \"+e);}}\r

  \telse{await
  auth();try{subscriptionPopupAfterAuth();checkCurrentUserPricingPlan();checkCu\
  rrentUserPricingPlan('middle');}\r

  \tcatch(e){console.log(\"error getting current user pricing plan: \"+e);}}}\r

  \telse{user_email.classList.remove('loading');const signup_fail=\"Hmm,
  something went wrong. You might already have an account with that email, or
  your passwords do not
  match.\";if(p){p.innerHTML=signup_fail;p.className='bad-auth-error';p.setAttr\
  ibute('style','display: flex;');}}}\r

  \tasync function social_login(e,social_network){e.preventDefault();await
  social_auth(social_network,null);const
  login_user_email=document.getElementById('user-email');if(!login_user_email)\r

  \treturn;login_user_email.classList.add('loading');const response=await
  fetch(app_base_url+\"/daily-time-sync/user/\",{credentials:'include'});if(res\
  ponse.ok==true){login_user_email.classList.remove('loading');if(login_modal)\r

  \tlogin_modal.close();if(nudgeLoginModal)\r

  \tnudgeLoginModal.classList.remove(\"active\");await
  auth();try{subscriptionPopupAfterAuth();checkCurrentUserPricingPlan();checkCu\
  rrentUserPricingPlan('middle');}\r

  \tcatch(e){console.log(\"error getting current user pricing plan: \"+e);}}\r

  \telse{login_user_email.classList.remove('loading');const login_fail=\"Hmm,
  something went wrong. Let's try that again.\";const
  p=document.getElementById('user-email-error');if(p){p.innerHTML=login_fail;p.\
  className='bad-auth-error';p.setAttribute('style','display: flex;');}}}\r

  \tasync function logout(){const response=await
  fetch(app_base_url+\"/daily-time-sync/logout/\",{method:'POST',credentials:'i\
  nclude'});localStorage.removeItem('user');localStorage.removeItem('hearts-cac\
  he');localStorage.removeItem('geniusChecked');localStorage.removeItem('online\
  Checked');localStorage.removeItem('geniusVideoChecked');window.user_object={}\
  ;showHidePermanentProAds();[\"genius\",\"supergenius\",\"onlinegenius\"].forE\
  ach((id)=>{const
  el=document.getElementById(id);if(el){el.setAttribute(\"locked\",\"true\");el\
  .classList.add(\"chat-mode-locked\");}});const
  selected=document.querySelector(\".chat-mode-menu-item.selected[locked]\");if\
  (selected){selected.classList.remove(\"selected\");const
  standardEl=document.getElementById(\"standard\");if(standardEl){standardEl.cl\
  assList.add(\"selected\");}\r

  \tsessionStorage.setItem(\"selectedChatMode\",\"standard\");const
  currentLabel=document.getElementById(\"currentChatModeLabel\");if(currentLabe\
  l){currentLabel.textContent=\"Standard\";}}\r

  \twindow.location.href='/';}\r

  \tasync function resetPassword(e){const
  p=document.getElementById('user-email-error');if(p){p.innerHTML='';p.setAttri\
  bute('style','display: none;');}\r

  \tconst
  login_user_email=document.getElementById('user-email');if(!login_user_email)\r

  \treturn;const login_user_email_value=login_user_email.value;const
  formData=new FormData();formData.append('email',login_user_email_value);const
  response=await
  fetch(app_base_url+\"/password_reset_trigger\",{method:'POST',credentials:'in\
  clude',body:formData,});console.log(response);if(response.ok==true&&p){const
  submission_success=\"Check your email inbox to reset
  password.\";console.log(p);p.innerHTML=submission_success;p.className='good-a\
  uth-error';p.setAttribute('style','display: flex;');}\r

  \telse if(response.ok==false&&p){const
  userEmailInput=document.getElementById(\"user-email\");const
  submission_success=userEmailInput?.value?\"Hmm something isn't right. Please
  try again or contact us.\":\"Please enter your email address
  above.\";p.innerHTML=submission_success;p.className='bad-auth-error';p.setAtt\
  ribute('style','display: flex;');}}\r

  \tconst thisPagePath=window.location.pathname;const
  social_modal=document.getElementById('social-modal');const
  openSocial=function(target_url){if(!social_modal)\r

  \treturn;social_modal.showModal();const
  x_link=document.getElementById('x-link');if(x_link){const
  x_link_value=\"https://twitter.com/intent/tweet?url=\"+target_url;x_link.href\
  =x_link_value;}\r

  \tconst
  facebook_link=document.getElementById('facebook-link');if(facebook_link){const
  facebook_link_value=\"https://www.facebook.com/sharer.php?u=\"+target_url;fac\
  ebook_link.href=facebook_link_value;}\r

  \tconst
  linkedin_link=document.getElementById('linkedin-link');if(linkedin_link){const
  linkedin_link_value=\"https://www.linkedin.com/shareArticle?mini=true&url=\"+\
  target_url;linkedin_link.href=linkedin_link_value;}\r

  \tconst
  reddit_link=document.getElementById('reddit-link');if(reddit_link){const
  reddit_link_value=\"https://www.reddit.com/submit?url=\"+target_url;reddit_li\
  nk.href=reddit_link_value;}\r

  \tconst
  social_link_input=document.getElementById('social-link-input');if(social_link\
  _input){social_link_input.value=target_url;}};const
  closeSocial=document.getElementById('close-social');async function
  shareMedia(target_url,isMusic=false){const
  share_url=target_url.replace('job-view','gallery-item').replace('art-image','\
  gallery-item').replace('audio-gallery-item','gallery-item').replace('https://\
  images.deepai.org',window.location.origin)+\".html\";const
  native_share_url=target_url.replace('gallery-item','get-media').replace('art-\
  image','get-media').replace('https://images.deepai.org',window.location.origi\
  n)+'.html';const urlParts=target_url.split('.');const
  extension=urlParts[urlParts.length-1].split('?')[0].toLowerCase();const
  videoExtensions=['mp4','webm','mov','avi'];const
  audioExtensions=['mp3','wav','m4a','aac','ogg','flac'];const
  imageExtensions=['jpg','jpeg','png','gif','webp','svg','bmp'];let
  mediaType;if(isMusic||audioExtensions.includes(extension)){mediaType='music';}\
  \r

  \telse if(videoExtensions.includes(extension)){mediaType='video';}\r

  \telse{mediaType='image';}\r

  \tconst shareMessage=mediaType==='music'?\"Check out this music I generated
  with DeepAI!\":mediaType==='video'?\"Check out this video I generated with
  DeepAI!\":\"Check out this image I generated with DeepAI!\";async function
  fetchAssetAsBlob(url){const response=await fetch(url);if(!response.ok){throw
  new Error('Network response was not ok');}\r

  \treturn response.blob();}\r

  \ttry{if('share'in navigator){const blob=await
  fetchAssetAsBlob(native_share_url);let
  mimeType;if(mediaType==='music'){mimeType=`audio/${extension === 'mp3' ?
  'mpeg' : extension}`;}\r

  \telse if(mediaType==='video'){mimeType=`video/${extension}`;}\r

  \telse{mimeType=`image/${extension === 'jpg' ? 'jpeg' : extension}`;}\r

  \tconst filename=`deepai-${mediaType}.${extension}`;const file=new
  File([blob],filename,{type:mimeType});const text=mediaType==='music'?'Check
  out this cool music I made on DeepAI!':mediaType==='video'?'Check out this
  cool video I made on DeepAI!':'Check out this cool image I made on
  DeepAI!';await
  navigator.share({files:[file],title:'DeepAI',text});console.log(`${mediaType.\
  charAt(0).toUpperCase() + mediaType.slice(1)} shared
  successfully`);return;}}\r

  \tcatch(error){console.error(`Error sharing the ${mediaType}:`,error);}\r

  \tif(social_modal){social_modal.showModal();const message=shareMessage;const
  x_link=document.getElementById('x-link');if(x_link){const
  x_link_value=\"https://twitter.com/intent/tweet?url=\"+encodeURIComponent(sha\
  re_url)+\"&text=\"+encodeURIComponent(message);x_link.href=x_link_value;}\r

  \tconst
  facebook_link=document.getElementById('facebook-link');if(facebook_link){const
  facebook_link_value=\"https://www.facebook.com/sharer.php?u=\"+encodeURICompo\
  nent(share_url);facebook_link.href=facebook_link_value;}\r

  \tconst
  linkedin_link=document.getElementById('linkedin-link');if(linkedin_link){const
  linkedin_link_value=\"https://www.linkedin.com/shareArticle?mini=true&url=\"+\
  encodeURIComponent(share_url)+\"&summary=\"+encodeURIComponent(message);linke\
  din_link.href=linkedin_link_value;}\r

  \tconst
  reddit_link=document.getElementById('reddit-link');if(reddit_link){const
  reddit_link_value=\"https://www.reddit.com/submit?url=\"+encodeURIComponent(s\
  hare_url)+\"&title=\"+encodeURIComponent(message);reddit_link.href=reddit_lin\
  k_value;}\r

  \tconst
  social_link_input=document.getElementById('social-link-input');if(social_link\
  _input){social_link_input.value=share_url;}}};if(closeSocial){closeSocial.add\
  EventListener('click',()=>{if(social_modal)\r

  \tsocial_modal.close();});}\r

  \tif(social_modal){social_modal.addEventListener('cancel',()=>{social_modal.c\
  lose();});social_modal.addEventListener('click',(event)=>{if(event.target===s\
  ocial_modal){social_modal.close();}});}\r

  \tfunction fragmentFromString(strHTML){return
  document.createRange().createContextualFragment(strHTML);}\r

  \tasync function checkIfUserIsBlocked(){try{const response=await
  fetch('https://api.deepai.org/ping',{credentials:'include',method:'GET'});if(\
  response.status===401){const textData=await
  response.text();return{success:true,message:textData};}\r

  \telse{return{success:false,message:''};}}\r

  \tcatch(error){console.error('Error making the
  request:',error);return{success:false,message:'Network error or server not
  reachable'};}}\r

  \tasync function showAlertIfUserIsBlocked(){const result=await
  checkIfUserIsBlocked();if(result.success){alert(result.message);}}\r

  \tfunction openNudgePopup(){const
  nudgePopup=document.getElementById(\"nudge-popup\");if(nudgePopup)\r

  \tnudgePopup.classList.add(\"active\");}\r

  \tfunction closeNudgePopup(){const
  nudgePopup=document.getElementById(\"nudge-popup\");if(nudgePopup)\r

  \tnudgePopup.classList.remove(\"active\");}\r

  \tconst
  closeNudgePopupButton=document.getElementById(\"close-nudge-popup\");if(close\
  NudgePopupButton){closeNudgePopupButton.addEventListener(\"click\",function(e\
  vent){closeNudgePopup();});}\r

  \tfunction openNudgeProPopup(){const
  nudgeProPopup=document.getElementById(\"nudge-pro-popup\");if(nudgeProPopup)\r

  \tnudgeProPopup.classList.add(\"active\");}\r

  \tfunction closeNudgeProPopup(){const
  nudgeProPopup=document.getElementById(\"nudge-pro-popup\");if(nudgeProPopup)\r

  \tnudgeProPopup.classList.remove(\"active\");}\r

  \tconst
  closeNudgeProPopupButton=document.getElementById(\"close-nudge-pro-popup\");i\
  f(closeNudgeProPopupButton){closeNudgeProPopupButton.addEventListener(\"click\
  \",function(){closeNudgeProPopup();});}\r

  \tfunction nudgeUserLogin(){if(userIsLoggedIn())\r

  \treturn;if(window.innerWidth<1000){return;}\r

  \tconst now=Date.now();const firstNudgeKey='firstLoginNudge';const
  lastNudgeKey='lastLoginNudge';const callCountKey='loginNudgeCallCount';const
  firstNudge=parseInt(localStorage.getItem(firstNudgeKey)||'',10);const
  lastNudge=parseInt(localStorage.getItem(lastNudgeKey)||'',10);let
  callCount=parseInt(localStorage.getItem(callCountKey)||'',10);if(isNaN(callCo\
  unt)){callCount=0;}\r

  \tcallCount++;localStorage.setItem(callCountKey,callCount.toString());if(!fir\
  stNudge){localStorage.setItem(firstNudgeKey,now.toString());return;}\r

  \tconst FIVE_MINUTES=5*60*1000;const
  FOUR_HOURS=4*60*60*1000;if(now-firstNudge>=FIVE_MINUTES){if(!lastNudge){local\
  Storage.setItem(lastNudgeKey,now.toString());openNudgePopup();return;}\r

  \tif((now-lastNudge>=FOUR_HOURS)&&(callCount%4===0)){localStorage.setItem(las\
  tNudgeKey,now.toString());openNudgePopup();}}}\r

  \tfunction nudgeUserPro(){if(!window.user_object){return;}\r

  \tif(window.user_object.userprofile2?.user_has_deepai_pro)\r

  \treturn;if(window.innerWidth<1000){return;}\r

  \tconst now=Date.now();const firstNudgeKey='firstProNudge';const
  lastNudgeKey='lastProNudge';const callCountKey='proNudgeCallCount';const
  firstNudge=parseInt(localStorage.getItem(firstNudgeKey)||'',10);const
  lastNudge=parseInt(localStorage.getItem(lastNudgeKey)||'',10);let
  callCount=parseInt(localStorage.getItem(callCountKey)||'',10);if(isNaN(callCo\
  unt)){callCount=0;}\r

  \tcallCount++;localStorage.setItem(callCountKey,callCount.toString());if(!fir\
  stNudge){localStorage.setItem(firstNudgeKey,now.toString());return;}\r

  \tconst FIVE_MINUTES=5*60*1000;const
  FOUR_HOURS=4*60*60*1000;if(now-firstNudge>=FIVE_MINUTES){if(!lastNudge){local\
  Storage.setItem(lastNudgeKey,now.toString());openNudgeProPopup();return;}\r

  \tif((now-lastNudge>=FOUR_HOURS)&&(callCount%4===0)){localStorage.setItem(las\
  tNudgeKey,now.toString());openNudgeProPopup();}}}\r

  \ttry{const bannerKey='proBannerDismissed';const
  banner=document.getElementById('announcement-banner');const
  dismissButton=document.getElementById('dismiss-banner');if(banner&&window.use\
  r_object){if(window.user_object?.userprofile2?.user_has_deepai_pro){banner.st\
  yle.display='none';}}\r

  \tif(dismissButton){dismissButton.addEventListener('click',function(){if(bann\
  er){banner.style.display='none';localStorage.setItem(bannerKey,JSON.stringify\
  ({date:new Date().toISOString()}));}});}}\r

  \tcatch(error){console.error('Error in pro banner functionality:',error);}\r

  \tfunction showHidePermanentProAds(){try{const
  shouldShowProAds=!window.user_object?.userprofile2?.user_has_deepai_pro;docum\
  ent.querySelectorAll('.permanent-announcement-banner').forEach((el)=>el.style\
  .setProperty('display',shouldShowProAds?'block':'none','important'));const
  sidebarContent=document.querySelector('.sidebar-content');if(sidebarContent){\
  sidebarContent.style.setProperty('height',shouldShowProAds?'calc(100% -
  177px)':'calc(100% - 120px)');}}\r

  \tcatch(error){console.error('Error in showHidePermanentProAds:',error);}}\r

  \tshowHidePermanentProAds();;</script>\r

  \t\r

  \r

  \t<script>const chat_style=\"mathematics\";const
  characterEnabled=\"False\"===\"True\";;</script>\r

  \t\r

  \r

  \t<script>window.createFreestarAdForMonetano=function(element){const
  newAd=document.createElement('div');newAd.setAttribute('data-freestar-ad','__\
  320x50
  __970x90');newAd.setAttribute('align','center');newAd.setAttribute('style','o\
  verflow: hidden;');const adBoxId=`ad-${Math.random().toString(36).substr(2,
  9)}`;newAd.setAttribute('id',adBoxId);newAd.classList.add('chat-ad-container'\
  );const comment=document.createComment('Tag ID:
  adBoxId');element.appendChild(comment);element.appendChild(newAd);window.free\
  star.queue.push(()=>{console.log('Pushing new ad slot to freestar
  queue');window.freestar.newAdSlots?.({placementName:'deepai.org_chat_dynamic'\
  ,slotId:adBoxId,});});};function toggleChips(){const
  hiddenChips=document.querySelectorAll('.hidden-chip');const
  moreChip=document.getElementById('more-chip');for(let
  i=0;i<hiddenChips.length;i++){hiddenChips[i].style.display='inline-flex';}\r

  \tif(moreChip){moreChip.style.display='none';}}\r

  \tconst createButton=(innerText,attributes,onClick)=>{const
  button=document.createElement(\"button\");button.textContent=innerText;for(co\
  nst[attr,value]of
  Object.entries(attributes)){button.setAttribute(attr,value);}\r

  \tbutton.addEventListener(\"click\",onClick);return button;};const
  createUploadButton=(attributes,onClick)=>{const
  button=document.createElement(\"button\");for(const[attr,value]of
  Object.entries(attributes)){button.setAttribute(attr,value);}\r

  \tconst
  svgIcon=document.createElementNS(\"http://www.w3.org/2000/svg\",\"svg\");svgI\
  con.setAttribute(\"viewBox\",\"0 0 24
  24\");svgIcon.setAttribute(\"width\",\"20\");svgIcon.setAttribute(\"height\",\
  \"20\");svgIcon.setAttribute(\"fill\",\"none\");svgIcon.setAttribute(\"stroke\
  \",\"currentColor\");svgIcon.setAttribute(\"stroke-width\",\"2\");svgIcon.set\
  Attribute(\"stroke-linecap\",\"round\");svgIcon.setAttribute(\"stroke-linejoin\
  \",\"round\");svgIcon.innerHTML=`\r

  \t<rect x=\"3\" y=\"3\" width=\"18\" height=\"18\" rx=\"2\" ry=\"2\" />\r

  \t<circle cx=\"8.5\" cy=\"8.5\" r=\"1.5\" />\r

  \t<path d=\"M21 15l-5-5L5 21\" />\r

  \t`;button.appendChild(svgIcon);button.style.boxSizing=\"content-box\";button\
  .style.padding=\"0\";button.addEventListener(\"click\",onClick);return
  button;};const
  newDeleteButton=()=>createButton(\"Delete\",{class:'deleteBoxButton',type:'bu\
  tton'},function(event){event.stopPropagation();let
  deletable=this.closest(\".chatbox-wrapper, .outputBox\");if(!deletable)\r

  \treturn console.error('delete button is outside of a chatbox or
  outputbox');deletable.remove();const
  persistentChatbox=document.getElementById('persistentChatbox');if(persistentC\
  hatbox){persistentChatbox.focus();}\r

  \ttry{saveChatHistory();}\r

  \tcatch(e){console.log(\"Error saving chat history after deleting
  message\",e);}\r

  \tchatModifiedSinceLoad=true;});const
  newSummarizeButton=()=>createButton(\"Summarize\",{class:'summarizetextButton\
  ',id:'sumButtonId'},(event)=>{let
  outputElement=event.target.closest(\".outputBox\");if(!outputElement)\r

  \treturn console.error('summarize button is outside of an outputbox');let
  outputText=getTextFromDiv(outputElement).replace(/[\\*#]+/g,'');var
  summarizePrompt=\"Summarize the following text: \";var
  combinedText=summarizePrompt+outputText;summarizeSubmit(combinedText);toast('\
  summarypopup');});const
  newCopyTextButton=()=>createButton(\"Copy\",{class:'copytextButton',type:'but\
  ton'},(event)=>{let
  outputElement=event.target.closest(\".outputBox\");if(!outputElement)\r

  \treturn console.error('copy text button is outside of an outputbox');let
  outputText=getTextFromDiv(outputElement);navigator.clipboard.writeText(output\
  Text);toast('copypopup');});function handleFileUpload(inputFiles){const
  files=Array.from(inputFiles);if(!files.length)\r

  \treturn;const maxSizeInBytes=20*1024*1024;const
  maxFiles=10;if(fileData.length+files.length>maxFiles){toast('upload-too-many'\
  );return;}\r

  \tfor(const file of
  files){if(file.size>maxSizeInBytes){toast('big-file-type');return;}}\r

  \tfiles.forEach(file=>{fileData.push(file);if(file.type.startsWith('image/'))\
  {const r=new
  FileReader();r.onload=e=>displayThumbnail(e.target.result,file);r.readAsDataU\
  RL(file);}\r

  \telse{displayThumbnail(null,file);}});const
  persistentChatbox=document.getElementById('persistentChatbox');if(persistentC\
  hatbox){persistentChatbox.focus();}\r

  \ttoast('upload-successful');}\r

  \tconst
  newUploadButton=()=>createUploadButton({class:'uploadButton',id:'upload',type\
  :'button'},(event)=>{const
  input=document.createElement('input');input.type='file';input.accept='.png,.j\
  pg,.jpeg,.webp,.gif,.avif,.txt';input.multiple=true;input.click();input.addEv\
  entListener('change',async(e)=>{const
  files=Array.from(e.target.files||[]);if(!files.length)\r

  \treturn;const maxSizeInBytes=20*1024*1024;const
  maxFiles=10;if(fileData.length+files.length>maxFiles){toast('upload-too-many'\
  );return;}\r

  \tfor(const file of
  files){if(file.size>maxSizeInBytes){toast(\"big-file-type\");return;}}\r

  \tif(chatRunning)\r

  \tclearImageUponChatCompletion=false;files.forEach(file=>{fileData.push(file)\
  ;if(file.type.startsWith('image/')){const reader=new
  FileReader();reader.onload=function(event){displayThumbnail(event.target.resu\
  lt,file);};reader.readAsDataURL(file);}\r

  \telse{displayThumbnail(null,file);}});const
  persistentChatbox=document.getElementById('persistentChatbox');if(persistentC\
  hatbox){persistentChatbox.focus();}\r

  \ttoast('upload-successful');});});const ALLOWED_MIME_TYPES=new
  Set(['image/png','image/jpeg','image/webp','image/gif','image/avif','text/pla\
  in']);const
  isAllowedFile=(file)=>ALLOWED_MIME_TYPES.has(file.type);window.addEventListen\
  er('paste',(event)=>{if(characterEnabled)\r

  \treturn;const files=[];let rejected=false;for(const item of
  Array.from(event.clipboardData.items)){if(item.kind!=='file')\r

  \tcontinue;const
  file=item.getAsFile();if(file&&isAllowedFile(file)){files.push(file);}\r

  \telse{rejected=true;}}\r

  \tif(rejected)\r

  \ttoast('bad-file-type');if(files.length){event.preventDefault();handleFileUp\
  load(files);}});const
  dragOverlay=document.createElement('div');dragOverlay.id='drag-overlay';dragO\
  verlay.style.display='none';document.body.appendChild(dragOverlay);window.add\
  EventListener('dragover',(event)=>{if(characterEnabled)\r

  \treturn;event.preventDefault();dragOverlay.style.display='block';});window.a\
  ddEventListener('dragleave',(event)=>{if(characterEnabled)\r

  \treturn;if(event.relatedTarget===null||!document.body.contains(event.related\
  Target)){dragOverlay.style.display='none';}});window.addEventListener('drop',\
  (event)=>{dragOverlay.style.display='none';if(characterEnabled)\r

  \treturn;event.preventDefault();const
  dtFiles=Array.from(event.dataTransfer.files);const accepted=[];let
  rejected=false;dtFiles.forEach(file=>{if(isAllowedFile(file)){accepted.push(f\
  ile);}\r

  \telse{rejected=true;}});if(rejected)\r

  \ttoast('bad-file-type');if(accepted.length)\r

  \thandleFileUpload(accepted);});try{appendUploadIfNeeded();}\r

  \tcatch(e){console.log('error appending upload',e);}\r

  \tfunction
  removeThumbnail(fileToRemove,previewElement){if(!previewElement&&event?.curre\
  ntTarget)\r

  \tpreviewElement=event.currentTarget.parentElement;const
  idx=fileData.indexOf(fileToRemove);if(idx>-1)\r

  \tfileData.splice(idx,1);if(previewElement)\r

  \tpreviewElement.remove();if(fileData.length===0){const
  wrapper=document.querySelector('.upload-preview-wrapper');if(wrapper)\r

  \twrapper.remove();const
  chatbox=document.getElementById('persistentChatbox');if(chatbox){chatbox.clas\
  sList.remove('has-thumbnail');chatbox.style.height='auto';chatbox.style.heigh\
  t=chatbox.scrollHeight+'px';if(chatbox.parentElement){chatbox.parentElement.s\
  tyle.paddingTop='';}}}}\r

  \tfunction resetThumbnail(previewContainer){const
  persistentChatbox=document.getElementById('persistentChatbox');persistentChat\
  box.classList.remove('has-thumbnail');previewContainer.remove();persistentCha\
  tbox.style.height='auto';persistentChatbox.style.height=persistentChatbox.scr\
  ollHeight+'px';}\r

  \tfunction displayThumbnail(imageSrc,file){const
  persistentChatbox=document.getElementById('persistentChatbox');const
  container=persistentChatbox.parentElement;let
  previewWrapper=container.querySelector('.upload-preview-wrapper');if(!preview\
  Wrapper){previewWrapper=document.createElement('div');previewWrapper.classLis\
  t.add('upload-preview-wrapper');container.appendChild(previewWrapper);persist\
  entChatbox.classList.add('has-thumbnail');}\r

  \tconst
  previewContainer=document.createElement('div');previewContainer.classList.add\
  ('upload-preview-container');previewContainer.dataset.fileName=file.name;cont\
  ainer.style.paddingTop=\"5px\";if(imageSrc){const
  img=document.createElement('img');img.src=imageSrc;img.classList.add('preview\
  -image');previewContainer.appendChild(img);}\r

  \telse{const
  textIndicator=document.createElement('div');textIndicator.classList.add('text\
  -file-indicator');textIndicator.textContent=file.name;previewContainer.append\
  Child(textIndicator);}\r

  \tconst
  closeButton=document.createElement('button');closeButton.innerHTML='×';closeB\
  utton.classList.add('close-button');closeButton.addEventListener('click',(e)=\
  >removeThumbnail(file,e.currentTarget.parentElement));previewContainer.append\
  Child(closeButton);previewWrapper.appendChild(previewContainer);persistentCha\
  tbox.style.height='auto';persistentChatbox.style.height=Math.max(persistentCh\
  atbox.scrollHeight,117)+'px';}\r

  \tconst newSaveNGoButton=()=>createButton(\"Save &
  Go\",{class:\"chatEditSubmitButton\",disabled:\"true\"},(event)=>{let
  chatboxWrapper=event.target.closest('.chatbox-wrapper');const
  imgElement=chatboxWrapper?.querySelector('.chat-image');handleImageAndSubmit(\
  chatboxWrapper,imgElement);});const
  newCancelEditButton=()=>createButton(\"Cancel\",{class:\"chatEditCancelButton\
  \"},(event)=>{let chatboxWrapper=event.target.closest('.chatbox-wrapper');let
  chatbox=chatboxWrapper.firstElementChild;chatbox.value=chatBoxUneditedText[ch\
  atboxWrapper.id];delete chatboxWrapper.dataset.edited;const
  textarea=chatboxWrapper.querySelector('textarea');if(textarea){adjustTextarea\
  Height(textarea);}});function
  handleImageAndSubmit(chatboxWrapper,imgElements){const imgArray=imgElements
  instanceof
  NodeList?Array.from(imgElements):(imgElements?[imgElements]:[]);if(imgArray.l\
  ength>0){fileData.length=0;let
  processedCount=0;imgArray.forEach((imgElement,index)=>{const
  canvas=document.createElement('canvas');canvas.width=imgElement.naturalWidth;\
  canvas.height=imgElement.naturalHeight;const
  ctx=canvas.getContext('2d');ctx.drawImage(imgElement,0,0);const
  mimeType='image/png';canvas.toBlob((blob)=>{if(blob){const tempFile=new
  File([blob],`regenerate_image_${index}.png`,{type:mimeType,lastModified:Date.\
  now()});fileData.push(tempFile);processedCount++;if(processedCount===imgArray\
  .length){chatReSubmit(chatboxWrapper);}}},mimeType);});}\r

  \telse{chatReSubmit(chatboxWrapper);}}\r

  \tconst
  newRegenerateButton=()=>createButton(\"Regenerate\",{class:'deleteBoxButton',\
  type:'button'},function(event){event.stopPropagation();let
  chatboxWrapper=this.closest(\".chatbox-wrapper\");if(!chatboxWrapper)\r

  \treturn console.error('Regenerate button is outside of a chatbox');const
  imgElements=chatboxWrapper.querySelectorAll('.chat-image');handleImageAndSubm\
  it(chatboxWrapper,imgElements);});async function
  addUploadedImage(chatboxWrapper,file){const imageSrc=await
  fileToImageSrc(file);const
  img=document.createElement('img');img.src=imageSrc;img.classList.add('chat-im\
  age');chatboxWrapper.querySelector('.chatImageBox').append(img);}\r

  \tfunction newChatBox(content=\"\"){let
  temp=document.createElement(\"template\");temp.innerHTML+=`\r

  \t<div class=\"chatbox-wrapper\" id=\"${uuidv4().slice(-10)}\">\r

  \t<textarea class=\"chatbox\" placeholder=\"Edit Message...\" rows=\"10\"
  cols=\"50\"></textarea>\r

  \t<div class=\"chatImageBox\"><!-- images go here --></div>\r

  \t<div class=\"chatoptionsBox\"><!-- buttons go here --></div>\r

  \t<div class=\"uploadoptionsBox\"><!-- upload buttons go here --></div>\r

  \t<div class=\"editsBox\"><!--save & go, cancel buttons--></div>\r

  \t</div>`;let chatboxWrapper=temp.content.firstElementChild;let
  chatbox=chatboxWrapper.querySelector('textarea');chatbox.textContent=content;\
  try{if(fileData.length>0){let imagesToLoad=0;let
  imagesLoaded=0;fileData.forEach(file=>{if(file.type.startsWith('image/'))\r

  \timagesToLoad++;});fileData.forEach(file=>{if(file.type.startsWith('image/')\
  ){const reader=new FileReader();reader.onload=function(e){const
  img=document.createElement('img');img.src=e.target.result;img.classList.add('\
  chat-image');img.style.display='block';chatboxWrapper.querySelector('.chatIma\
  geBox').append(img);imagesLoaded++;if(imagesLoaded===imagesToLoad){arrangeCha\
  tImageGrid();}};reader.readAsDataURL(file);}});chatbox.style.paddingBottom='1\
  0px';}}\r

  \tcatch(e){console.log('error adding uploaded images',e);}\r

  \tchatboxWrapper.querySelector('.chatoptionsBox').append(newRegenerateButton(\
  ),newDeleteButton());if(content){chatboxWrapper.querySelector('.editsBox').ap\
  pend(newSaveNGoButton(),newCancelEditButton());chatbox.addEventListener(\"foc\
  us\",textAreaFocusHandler);chatbox.addEventListener(\"blur\",textAreaBlurHand\
  ler);chatboxWrapper.addEventListener(\"keypress\",editedtextAreaKeyPressHandl\
  er);}\r

  \telse{chatboxWrapper.addEventListener(\"keypress\",textAreaKeyPressHandler);\
  optimizeChatPromptBox(chatboxWrapper);}\r

  \treturn chatboxWrapper;}\r

  \tfunction
  textAreaKeyPressHandler(e){if(e.keyCode==13&&!e.shiftKey){e.preventDefault();\
  chatSubmit('','',true);}}\r

  \tfunction
  editedtextAreaKeyPressHandler(e){if(e.keyCode==13&&!e.shiftKey){e.preventDefa\
  ult();let
  chatboxWrapper=e.target.closest('.chatbox-wrapper');chatReSubmit(chatboxWrapp\
  er);}}\r

  \tconst newOutputBox=(content=\"\")=>{let
  temp=document.createElement(\"template\");let[messageText,messageJSON]=conten\
  t.includes('\\u001C')?content.split('\\u001C'):[content,undefined];console.lo\
  g(\"new outputbox\",{messageText,messageJSON});temp.innerHTML+=`\r

  \t<div class=\"outputBox\" id=\"${uuidv4().slice(-10)}\">\r

  \t<div class=\"markdownContainer\"></div>\r

  \t<span data-new-content=\"true\"
  class=\"hiddenTextContainer\">${messageText}</span>\r

  \t<div class=\"optionsBox\">\r

  \t<div class=\"group1\"></div>\r

  \t<div class=\"group2\"></div>\r

  \t</div>\r

  \t</div>`;const
  group1=temp.content.querySelector('.group1');group1.append(newCopyTextButton(\
  ));const
  group2=temp.content.querySelector('.group2');group2.append(newSummarizeButton\
  (),newDeleteButton());if(messageJSON){try{const
  results=drawResults(JSON.parse(messageJSON));if(results){temp.content.querySe\
  lector('.outputBox').append(results);}\r

  \tconst
  outputBox=temp.content.querySelector('.outputBox');outputBox.dataset.hasResul\
  ts='true';}\r

  \tcatch(e){console.error(\"failed to attach websearchresults\",e);}}\r

  \tif(characterEnabled){const
  figureImg=document.querySelector('.figure');if(figureImg){const
  outputBox=temp.content.querySelector('.outputBox');outputBox.classList.add('h\
  as-character-avatar');const
  markdownContainer=temp.content.querySelector('.markdownContainer');const
  avatarContainer=document.createElement('div');avatarContainer.className='char\
  acter-avatar-container';const
  img=document.createElement('img');img.src=figureImg.src;img.alt=figureImg.alt\
  ||'Character';img.className='character-avatar';avatarContainer.appendChild(im\
  g);markdownContainer.insertBefore(avatarContainer,markdownContainer.firstChil\
  d);}}\r

  \treturn temp.content.firstElementChild;};let chatBoxUneditedText={};const
  maxChips=3;function concatUint8Array(arrayOne,arrayTwo){var mergedArray=new
  Uint8Array(arrayOne.length+arrayTwo.length);mergedArray.set(arrayOne);mergedA\
  rray.set(arrayTwo,arrayOne.length);return mergedArray;}\r

  \tfunction Utf8ArrayToStr(array){let out=\"\";const len=array.length;for(let
  i=0;i<len;){const c=array[i++];if((c>>7)===0){out+=String.fromCharCode(c);}\r

  \telse if((c>>5)===0x6){const
  char2=array[i++];out+=String.fromCharCode(((c&0x1F)<<6)|(char2&0x3F));}\r

  \telse if((c>>4)===0xE){const char2=array[i++];const
  char3=array[i++];out+=String.fromCharCode(((c&0x0F)<<12)|((char2&0x3F)<<6)|(c\
  har3&0x3F));}\r

  \telse if((c>>3)===0x1E){const char2=array[i++];const char3=array[i++];const
  char4=array[i++];const
  codePoint=(((c&0x07)<<18)|((char2&0x3F)<<12)|((char3&0x3F)<<6)|(char4&0x3F))-\
  0x10000;out+=String.fromCharCode((codePoint>>10)+0xD800,(codePoint&0x3FF)+0xD\
  C00);}}\r

  \treturn out;}\r

  \tfunction getFullChatHistoryObject(){const chatHistory=[];const
  allElements=document.querySelectorAll(\".chatbox-wrapper,
  .outputBox\");Array.from(allElements).forEach(element=>{if(element.classList.\
  contains('chatbox-wrapper')){const
  textarea=element.querySelector('textarea');if(textarea){const
  chatBoxText=textarea.value.trim();if(chatBoxText){chatHistory.push({\"role\":\
  \"user\",\"content\":chatBoxText});}}}\r

  \telse if(element.classList.contains('outputBox')){let
  outputBoxText=getTextFromDiv(element);let
  outputBoxJSON=getJSONFromDiv(element);chatHistory.push({\"role\":\"assistant\
  \",\"content\":outputBoxJSON?outputBoxText+'\\u001C'+outputBoxJSON:outputBoxT\
  ext});}});return chatHistory;}\r

  \tfunction getChatHistoryObject(){const
  chatHistory=getFullChatHistoryObject();chatHistory.splice(0,chatHistory.lengt\
  h-30);return chatHistory;}\r

  \tfunction textAreaFocusHandler(event){let
  chatboxWrapper=event.target.closest('.chatbox-wrapper');if(!chatboxWrapper){c\
  onsole.error(\"textAreaFocusHandler: Could not find '.chatbox-wrapper' for
  target:\",event.target);return;}\r

  \tif(!chatboxWrapper.id){console.error(\"textAreaFocusHandler: chatboxWrapper
  is missing an ID:\",chatboxWrapper);return;}\r

  \tif(!chatboxWrapper.dataset.edited){chatboxWrapper.dataset.edited='true';con\
  st firstChild=chatboxWrapper.firstElementChild;const
  valueToStore=firstChild&&typeof
  firstChild.value==='string'?firstChild.value:'';chatBoxUneditedText[chatboxWr\
  apper.id]=valueToStore;const
  saveButton=chatboxWrapper.querySelector('.chatEditSubmitButton');if(saveButto\
  n){const textarea=chatboxWrapper.querySelector('.chatbox');if(textarea){const
  currentText=typeof textarea.value==='string'?textarea.value.trim():'';const
  originalStoredValue=chatBoxUneditedText[chatboxWrapper.id];const
  originalText=typeof
  originalStoredValue==='string'?originalStoredValue.trim():'';saveButton.disab\
  led=!currentText||currentText===originalText;}\r

  \telse{console.error(\"textAreaFocusHandler: Could not find '.chatbox'
  textarea inside wrapper:\",chatboxWrapper);}}}}\r

  \tfunction textAreaBlurHandler(event){let
  chatboxWrapper=event.target.closest('.chatbox-wrapper');if(event.relatedTarge\
  t&&event.relatedTarget.classList.contains(\"chatEditSubmitButton\")){return;}\
  \r

  \tif(chatBoxUneditedText[chatboxWrapper.id]===chatboxWrapper.firstElementChil\
  d.value){delete chatboxWrapper.dataset.edited;}}\r

  \tfunction toast(toastElementId,message,toastInterval=3000){const
  toastElement=document.getElementById(toastElementId);if(toastElement){const
  messageElement=toastElement.querySelector('.message');if(messageElement){const
  defaultMessage=messageElement.textContent;if(message){messageElement.textCont\
  ent=message;}\r

  \ttoastElement.classList.add(\"show\");setTimeout(()=>{toastElement.classList\
  .remove(\"show\");messageElement.textContent=defaultMessage;},toastInterval);}\
  \r

  \telse{console.warn(`Message element not found in ${toastElementId}.`);}}\r

  \telse{console.warn(`Element with ID ${toastElementId} not found.`);}}\r

  \tlet abortController=null;function drawResults(webSearchResults){let
  resultsCount=webSearchResults.length;if(!resultsCount)\r

  \treturn null;let temp=document.createElement('template');temp.innerHTML+=`\r

  \t<button class='expandButton collapsed' type='button'
  onclick='this.classList.toggle(\"expanded\");
  this.classList.toggle(\"collapsed\");
  this.parentNode.classList.toggle(\"expanded\")'>\r

  \t<span class='hideSummaryText'>Hide Results</span>\r

  \t<span class='showSummaryText'>Expand ${resultsCount > maxChips ?
  (resultsCount - maxChips) + ' more ' : ''}Results</span>\r

  \t</button>\r

  \t<div class='chipsBox'></div>\r

  \t<div class='resultsContainer'
  data-results-count='${webSearchResults.length}'></div>`;let
  chipsBox=temp.content.querySelector('.chipsBox');let
  resultsContainer=temp.content.querySelector('.resultsContainer');webSearchRes\
  ults.forEach(({description,title,url,aiSnippets},index)=>{let favicon=`<img
  src='https://www.google.com/s2/favicons?sz=64&domain=${new URL(url).hostname}'
  style='width: 27px; height: 27px; margin-right: 5px; float: left;
  border-radius: 50%;' alt='favicon'>`;let
  resultDiv=document.createElement('template');resultDiv.innerHTML+=`\r

  \t<div class='resultDiv' data-ai-snippets=\"${aiSnippets}\"
  data-index=\"${index}\">\r

  \t<div>\r

  \t${favicon}\r

  \t<a class='url' href='${url}' target='_blank'>\r

  \t<strong class='title'>${title}</strong>\r

  \t</a>\r

  \t</div>\r

  \t</div>`;resultsContainer.append(resultDiv.content);if(index<maxChips){chips\
  Box.innerHTML+=`\r

  \t<a class='url-chip' href='${url}' target='_blank' style=\"display:
  inline-block; text-decoration: none; color: inherit;\">\r

  \t<div style=\"display: flex; align-items: flex-start; gap: 8px;\">\r

  \t${favicon}\r

  \t<div style=\"display: flex; flex-direction: column;\">\r

  \t<span style=\"font-size: 13px; color: #aaa;\">\r

  \t${url.length > 30 ? url.substring(0, 30) + '...' : url}\r

  \t</span>\r

  \t<span style=\"font-size: 14px; font-weight: 500;\">\r

  \t${title.length > 30 ? title.substring(0, 30) + '...' : title}\r

  \t</span>\r

  \t</div>\r

  \t</div>\r

  \t</a>`;}});return temp.content;}\r

  \tfunction copyCodeSnippetToClipboard(event){const button=event.target;const
  codeElement=button.parentNode.querySelector('code');navigator.clipboard.write\
  Text(codeElement.textContent);toast(\"copypopup\");}\r

  \tasync function livecodesButtonClicked(event){const
  targetElement=event.target.tagName==='IMG'?event.target.parentElement:event.t\
  arget;const code=targetElement.nextElementSibling.textContent;const
  languageMatch=targetElement.nextElementSibling.className.match(/language-(\\w\
  +)/);const
  language=languageMatch?languageMatch[1]:'javascript';try{if(!window.livecodes\
  ){await loadLiveCodesSDK();}\r

  \tconst config={title:'DeepAI Code
  Snippet',tools:{enabled:['console'],active:'console',status:'open'}};if(langu\
  age==='html'){config.markup={language:'html',content:code};config.activeEdito\
  r='markup';}\r

  \telse
  if(language==='css'){config.style={language:'css',content:code};config.active\
  Editor='style';}\r

  \telse{config.script={language:language,content:code};config.activeEditor='sc\
  ript';}\r

  \tconst
  playgroundUrl=window.livecodes.getPlaygroundUrl({config,params:{console:'open\
  '}});window.open(playgroundUrl,'_blank').focus();}\r

  \tcatch(error){console.error('LiveCodes integration error:',error);}}\r

  \tfunction loadLiveCodesSDK(){return new
  Promise((resolve,reject)=>{if(window.livecodes){resolve();return;}\r

  \tconst
  script=document.createElement('script');script.src='https://cdn.jsdelivr.net/\
  npm/livecodes@0.10.0/livecodes.umd.js';script.onload=()=>window.livecodes?res\
  olve():reject(new Error('LiveCodes SDK not
  found'));script.onerror=()=>reject(new Error('Failed to load LiveCodes
  SDK'));document.head.appendChild(script);});}\r

  \tlet projector=null;let isCurrentlyStreaming=false;let
  pendingMarkdownUpdate=false;function updateMarkDown(){const
  convo=document.getElementById('convo');const librariesLoaded=typeof
  marked!=='undefined'&&typeof hljs!=='undefined'&&typeof
  maquette!=='undefined';if(!librariesLoaded){console.log(\"Error: 'marked',
  'highlight.js', or 'maquette' library not loaded. Falling back to plain
  text.\");const
  outputBoxes=convo.querySelectorAll(\".outputBox\");outputBoxes.forEach(box=>{\
  const hiddenContainer=box.querySelector('.hiddenTextContainer');const
  markdownContainer=box.querySelector('.markdownContainer');if(hiddenContainer&\
  &markdownContainer&&hiddenContainer.dataset.newContent){markdownContainer.tex\
  tContent=hiddenContainer.textContent;delete
  hiddenContainer.dataset.newContent;}});pendingMarkdownUpdate=false;return;}\r

  \tconst{h,createProjector}=maquette;if(!projector){projector=createProjector(\
  );}\r

  \tconst mathExtension={name:'math',level:'inline',start(src){return
  src.match(/\\\\\\[|\\\\\\(/)?.index;},tokenizer(src){let
  displayMatch=src.match(/^\\\\\\[([\\s\\S]+?)\\\\\\]/);if(displayMatch){return\
  {type:'math',raw:displayMatch[0],text:displayMatch[1].trim(),display:true};}\r

  \tlet
  inlineMatch=src.match(/^\\\\\\(([\\s\\S]+?)\\\\\\)/);if(inlineMatch){return{t\
  ype:'math',raw:inlineMatch[0],text:inlineMatch[1].trim(),display:false};}},re\
  nderer(token){try{return
  katex.renderToString(token.text,{displayMode:token.display,throwOnError:false\
  ,trust:true});}\r

  \tcatch(e){console.error('KaTeX rendering error:',e);return
  token.raw;}}};marked.use({extensions:[mathExtension]});const renderer=new
  marked.Renderer();renderer.code=function(code,language){const
  sanitizedLanguage=language?language.replace(/[^a-zA-Z0-9-]/g,''):'';return`<p\
  re>\r

  \t<button class=\"copyCodeButton\"
  onclick=\"copyCodeSnippetToClipboard(event)\">Copy</button>\r

  \t<button onclick=\"livecodesButtonClicked(event)\"
  class=\"livecodesButton\">Run</button>\r

  \t<code class=\"${sanitizedLanguage ? `language-${sanitizedLanguage}` :
  ''}\">${hljs.highlightAuto(code).value}</code>\r

  \t</pre>`;};renderer.html=function(html){return
  html.replace(/</g,'&lt;').replace(/>/g,'&gt;');};renderer.link=function(href,\
  title,text){if(/^\\[.*\\]$/.test(text)){const
  linkText=text.slice(1,-1);return`<a href=\"${href}\" title=\"${title}\"
  target=\"_blank\" style=\"color: #a9a9a9; font-size: 0.8em; vertical-align:
  super; padding: 0; margin-left: 0px; text-decoration:
  none;\">${linkText}</a>`;}\r

  \telse{return`<a href=\"${href}\" title=\"${title}\"
  target=\"_blank\">${text}</a>`;}};marked.setOptions({renderer,breaks:true,gfm\
  :true});const outputBoxes=convo.querySelectorAll(\".outputBox\");let
  currentTextLength=0;outputBoxes.forEach(box=>{let
  hiddenContainer=box.querySelector('.hiddenTextContainer');if(!hiddenContainer\
  ||!hiddenContainer.dataset.newContent)\r

  \treturn
  null;if(hiddenContainer.textContent){currentTextLength+=hiddenContainer.textC\
  ontent.length;}\r

  \tlet
  markdownContainer=box.querySelector('.markdownContainer');if(!markdownContain\
  er.dataset.projected){projector.append(markdownContainer,renderMarkdown);mark\
  downContainer.dataset.projected='true';}\r

  \tfunction
  htmlToVNode(element,key=0){if(element.nodeType===Node.TEXT_NODE){return
  element.textContent;}\r

  \telse if(element.nodeType===Node.ELEMENT_NODE){const elemNode=element;const
  tagName=elemNode.tagName.toLowerCase();const
  properties={key};Array.from(elemNode.attributes).forEach(attr=>{properties[at\
  tr.name]=attr.value;});if(tagName==='input'||tagName==='textarea'){properties\
  .value=elemNode.value;}\r

  \tlet
  childNodes=Array.from(elemNode.childNodes).map((child,idx)=>htmlToVNode(child\
  ,key+'-'+idx));return h(tagName,properties,childNodes);}}\r

  \tfunction renderMarkdown(){const
  htmlContent=marked.parse(hiddenContainer.textContent);const
  tempDiv=document.createElement('div');tempDiv.innerHTML=htmlContent;let
  vnodes=Array.from(tempDiv.childNodes).map(htmlToVNode);return
  h('div',{class:'markdownContainer'},vnodes);}\r

  \tif(hiddenContainer.dataset.newContent){delete
  hiddenContainer.dataset.newContent;projector.scheduleRender();}});pendingMark\
  downUpdate=false;}\r

  \tfunction
  arrangeChatImageGrid(){document.querySelectorAll('.chatImageBox').forEach(con\
  tainer=>{const
  imgs=Array.from(container.getElementsByClassName('chat-image'));imgs.forEach(\
  img=>img.style.display='block');const count=Math.min(imgs.length,10);const
  root=Math.sqrt(count);const
  cols=Number.isInteger(root)?root:3;container.style.gridTemplateColumns=`repea\
  t(${cols}, 1fr)`;});}\r

  \tfunction enableImageClickToFullSize(){let
  overlay=document.getElementById('imageOverlay');if(!overlay){overlay=document\
  .createElement('div');overlay.id='imageOverlay';overlay.addEventListener('cli\
  ck',()=>{overlay.style.display='none';overlay.querySelector('img').src='';});\
  const
  fullImg=document.createElement('img');overlay.appendChild(fullImg);document.b\
  ody.appendChild(overlay);}\r

  \tconst
  fullImg=overlay.querySelector('img');document.querySelectorAll('.chat-image')\
  .forEach(thumb=>{const
  imgThumb=thumb;imgThumb.removeEventListener('click',imgThumb._openHandler);im\
  gThumb._openHandler=()=>{fullImg.src=imgThumb.src;overlay.style.display='flex\
  ';};imgThumb.addEventListener('click',imgThumb._openHandler);});}\r

  \tasync function addMonetanoAd(){const added=addMonetanoAdBox();const
  oldMessages=getFullChatHistoryObject();const
  messages=oldMessages.map((m,idx)=>{return{id:`message-${idx}-${Date.now()}`,c\
  reatedAt:new
  Date().toISOString(),role:m.role,content:m.content};});if(messages.length&&me\
  ssages[messages.length-1].role!==\"assistant\"){messages.push({id:`message-${\
  messages.length}-${Date.now()}`,createdAt:new
  Date().toISOString(),role:\"assistant\",content:\"\"});}\r

  \tconst
  userId=(getUserId()??\"anonymousId\")+\"\";window.monetano?.que.push(()=>{con\
  sole.log(\"Fetching ads from
  Monetano\");window.monetano?.getAds(messages,{userId,conversationId:currentCh\
  atUUID,},{onBids:(bids)=>{return bids;},onError:(error)=>{console.error(\"Ad
  error\",JSON.stringify(error));},onWinner:(winner)=>{},onRender:()=>{},onView\
  :()=>{},onClick:()=>{},},false);});}\r

  \tfunction addMonetanoAdBox(){const
  adBoxBelow=document.createElement(\"div\");adBoxBelow.classList.add('monetano\
  -ad');adBoxBelow.style.display=\"block\";const
  convo=document.getElementById('convo');const
  outputBoxes=convo.querySelectorAll('.outputBox');const
  lastOutputBox=outputBoxes[outputBoxes.length-1];let
  referenceNode=lastOutputBox;referenceNode.parentNode.insertBefore(adBoxBelow,\
  referenceNode.nextSibling);return true;}\r

  \tfunction adjustTextareaHeight(textarea){if(!textarea)\r

  \treturn;textarea.style.height=\"1px\";const
  computedHeight=textarea.scrollHeight;const
  computedStyle=window.getComputedStyle(textarea);const
  paddingHeight=parseInt(computedStyle.paddingTop,10)+\r

  \tparseInt(computedStyle.paddingBottom,10);const
  textHeight=computedHeight-paddingHeight;textarea.style.height=textHeight+\"px\
  \";}\r

  \tfunction optimizeChatPromptBox(chatboxWrapper){const
  textarea=chatboxWrapper.querySelector('textarea');if(!textarea)\r

  \treturn;textarea.addEventListener('input',()=>adjustTextareaHeight(textarea)\
  );if(!currentlyLoadingChat){adjustTextareaHeight(textarea);}\r

  \telse{textarea.style.height=\"auto\";setTimeout(()=>adjustTextareaHeight(tex\
  tarea),0);setTimeout(()=>adjustTextareaHeight(textarea),100);}}\r

  \tfunction generateUniqueAdId(){const
  adBoxes=document.querySelectorAll(\".chat-ad-container\");if(adBoxes.length!=\
  =0){const
  newId=parseInt(adBoxes[adBoxes.length-1].id.split(\"ad-box-\")[1],10)+1;retur\
  n`ad-box-${newId}`;}\r

  \telse{return'ad-box-0';}}\r

  \tfunction newAdSlot(container){const
  newAd=document.createElement(\"div\");newAd.setAttribute('data-freestar-ad','\
  __320x50
  __970x90');newAd.setAttribute('align','center');newAd.setAttribute('style','o\
  verflow: hidden;');const
  adBoxId=generateUniqueAdId();newAd.setAttribute('id',adBoxId);newAd.classList\
  .add(\"chat-ad-container\");const comment=document.createComment('Tag ID:
  adBoxId');container.append(comment);container.append(newAd);window.freestar.q\
  ueue.push(function(){console.log('Pushing new ad slot to freestar
  queue');window.freestar.newAdSlots?.({placementName:'deepai.org_chat_dynamic'\
  ,slotId:adBoxId});});};async function
  chatSubmit(summaryMessage,searchMessage,contentsCheck,editedBox=null){try{con\
  st
  previewWrapper=document.querySelector('.upload-preview-wrapper');if(previewWr\
  apper){previewWrapper.remove();}\r

  \tconst
  persistentChatbox=document.getElementById('persistentChatbox');if(persistentC\
  hatbox){persistentChatbox.classList.remove('has-thumbnail');}}\r

  \tcatch(e){console.log('error removing thumbnails',e);}\r

  \tclearImageUponChatCompletion=true;chatRunning=true;try{nudgeUserLogin();}\r

  \tcatch(e){console.log('error nudging user to login',e);}\r

  \ttry{nudgeUserPro();}\r

  \tcatch(e){console.log('error nudging user to pro',e);}\r

  \tvar search_flag=false;let messageText='';const form_data=new
  FormData();if(summaryMessage){messageText=summaryMessage;form_data.append('on\
  line','online');form_data.append('summary','summary');}\r

  \telse
  if(searchMessage){messageText=searchMessage;form_data.append('online','online\
  ');form_data.append('search','search');search_flag=true;}\r

  \telse{const
  persistentChatbox=document.getElementById('persistentChatbox');messageText=pe\
  rsistentChatbox?persistentChatbox.value.trim():'';if(editedBox){const
  textarea=editedBox.querySelector('textarea');if(textarea){messageText=textare\
  a.value.trim();}}\r

  \tif(contentsCheck&&!messageText){console.log('No message to send');return;}\r

  \tif(messageText&&!editedBox){const
  newBox=newChatBox(messageText);newBox.style.visibility='visible';newBox.style\
  .display='block';newBox.style.opacity='1';const
  convo=document.getElementById('convo');convo.append(newBox);optimizeChatPromp\
  tBox(newBox);requestAnimationFrame(()=>{try{newBox.scrollIntoView({behavior:'\
  smooth',block:'start'});}\r

  \tcatch(error){console.error(\"Error scrolling new user message into
  view:\",error);const
  convoContainer=document.getElementById('convo');if(convoContainer){convoConta\
  iner.scrollTop=convoContainer.scrollHeight;}}});}\r

  \tif(persistentChatbox){persistentChatbox.value='';persistentChatbox.style.he\
  ight='auto';persistentChatbox.dispatchEvent(new
  Event('input',{bubbles:true}));}}\r

  \ttry{saveChatHistory();}\r

  \tcatch(e){console.log(\"Error saving chat history after user message
  processing\",e);}\r

  \tchatModifiedSinceLoad=true;const
  convo=document.getElementById('convo');const
  thinkingIndicator=showThinkingIndicator();const
  chatHistory=getChatHistoryObject();form_data.append('chat_style',chat_style);\
  form_data.append('chatHistory',JSON.stringify(chatHistory));const
  selectedMode=sessionStorage.getItem(\"selectedChatMode\")||\"standard\";form_\
  data.append('model',selectedMode);form_data.append('hacker_is_stinky','very_s\
  tinky');const tryitApiKey=generateTryitApiKey();const
  chatSubmitElem=document.getElementById(\"chatSubmitButton\");const
  chatStopElem=document.getElementById(\"chatStopButton\");if(document.getEleme\
  ntById(\"chatEditSubmitButton\")!==null){const
  editSubmitBtn=document.getElementById(\"chatEditSubmitButton\");editSubmitBtn\
  .disabled=true;editSubmitBtn.style.cssText=\"background: white; color:
  #101010;\";}\r

  \tlet
  reader,response;if(fileData.length>0){fileData.forEach((file,index)=>{form_da\
  ta.append(`file${index}`,file);});}\r

  \ttry{abortController=new AbortController();const
  abortSignal=abortController.signal;chatStopElem.style.cssText=\"display:
  block;\";chatSubmitElem.style.cssText=\"display: none;\";response=await
  fetch(app_base_url+\"/hacking_is_a_serious_crime\",{credentials:'include',met\
  hod:'POST',body:form_data,signal:abortSignal,headers:{'api-key':tryitApiKey}}\
  );reader=response.body.getReader();}\r

  \tcatch(e){console.log(\"Caught error in chat
  fetch\",e);chatStopElem.style.cssText=\"display:
  none;\";chatSubmitElem.style.cssText=\"display:
  block;\";chatRunning=false;removeThinkingIndicator();if(e.name!=='AbortError'\
  ){toast(\"errorpopup\");}\r

  \treturn;}\r

  \tif(response.status>299){if(document.getElementById(\"chatEditSubmitButton\"\
  )!==null){const
  editSubmitBtn=document.getElementById(\"chatEditSubmitButton\");editSubmitBtn\
  .disabled=false;editSubmitBtn.style.cssText=\"background: #8F37FF; color:
  white;\";}\r

  \tchatSubmitElem.style.cssText=\"display:
  block;\";chatStopElem.style.cssText=\"display:
  none;\";removeThinkingIndicator();const{value,done}=await reader.read();const
  decoder=new TextDecoder(\"utf-8\");const
  json=JSON.parse(decoder.decode(value));if(json.status===\"anonymous try it
  exceeded\"){openSignup();chatStopElem.style.cssText=\"display:
  none;\";chatSubmitElem.style.cssText=\"display:
  block;\";chatRunning=false;return;}\r

  \tif(json.status===\"signed in try-it quota
  exceeded\"){openSubscription();chatStopElem.style.cssText=\"display:
  none;\";chatSubmitElem.style.cssText=\"display:
  block;\";chatRunning=false;return;}\r

  \tif(json.status===\"model only available to paid
  users\"){openSubscription();chatStopElem.style.cssText=\"display:
  none;\";chatSubmitElem.style.cssText=\"display:
  block;\";chatRunning=false;return;}\r

  \tif(json.status===\"pro user out of
  credits\"){openOutOfCredits(json.credits_remaining);chatStopElem.style.cssTex\
  t=\"display: none;\";chatSubmitElem.style.cssText=\"display:
  block;\";chatRunning=false;return;}\r

  \tif(json.status===\"file size exceeds limit\"){toast(\"errorpopup\",\"File
  size exceeds limit!\");chatStopElem.style.cssText=\"display:
  none;\";chatSubmitElem.style.cssText=\"display:
  block;\";chatRunning=false;return;}\r

  \tif(json.status===\"bad model for file upload\"){toast(\"errorpopup\",\"File
  upload could not be used at this time. Please try again
  later.\");chatStopElem.style.cssText=\"display:
  none;\";chatSubmitElem.style.cssText=\"display:
  block;\";chatRunning=false;return;}\r

  \tif(json.status===\"online can't be used for file
  upload\"){toast(\"errorpopup\",\"File upload can't be used with online
  mode.\");chatStopElem.style.cssText=\"display:
  none;\";chatSubmitElem.style.cssText=\"display:
  block;\";chatRunning=false;return;}\r

  \tif(json.status===\"bad file type\"){toast(\"errorpopup\",\"Something went
  wrong with uploading the file. Please try
  another.\");chatStopElem.style.cssText=\"display:
  none;\";chatSubmitElem.style.cssText=\"display:
  block;\";chatRunning=false;return;}\r

  \tif(json.status===\"file too many tokens\"){toast(\"errorpopup\",\"The
  document you uploaded was too long. Please try a shorter
  one.\");chatStopElem.style.cssText=\"display:
  none;\";chatSubmitElem.style.cssText=\"display:
  block;\";chatRunning=false;return;}\r

  \tif(json.status===\"Only paid accounts can use
  genius\"){openSubscription();chatStopElem.style.cssText=\"display:
  none;\";chatSubmitElem.style.cssText=\"display:
  block;\";chatRunning=false;return;}\r

  \tif(json.status===\"total file size exceeds
  limit\"){toast(\"errorpopup\",\"Total file size exceeds limit. Please remove
  some files.\");chatStopElem.style.cssText=\"display:
  none;\";chatSubmitElem.style.cssText=\"display:
  block;\";chatRunning=false;return;}\r

  \tif(json.status===\"error processing file\"){toast(\"errorpopup\",\"Error
  processing file. Please try again.\");chatStopElem.style.cssText=\"display:
  none;\";chatSubmitElem.style.cssText=\"display:
  block;\";chatRunning=false;return;}\r

  \tif(json.status&&json.status.includes(\"Api-Key\")){toast(\"errorpopup\",\"A\
  uthentication error. Please check your API
  key.\");chatStopElem.style.cssText=\"display:
  none;\";chatSubmitElem.style.cssText=\"display:
  block;\";chatRunning=false;return;}\r

  \tif(json.status===\"Please login to an
  account\"){openSignup();chatStopElem.style.cssText=\"display:
  none;\";chatSubmitElem.style.cssText=\"display:
  block;\";chatRunning=false;return;}\r

  \ttoast(\"errorpopup\");chatStopElem.style.cssText=\"display:
  none;\";chatSubmitElem.style.cssText=\"display:
  block;\";chatRunning=false;return;throw new Error(\"Unknown error\");}\r

  \tlet
  outputBox=newOutputBox();removeThinkingIndicator();convo.append(outputBox);ar\
  rangeChatImageGrid();enableImageClickToFullSize();let
  hiddenTextContainer=outputBox.querySelector('.hiddenTextContainer');let
  uint8ArraySoFar=new Uint8Array(0);let responseSoFar=\"\";let
  responseText=\"\";let responseJSON=null;let
  outputBuffer=\"\";isCurrentlyStreaming=true;try{while(true){const{value,done}\
  =await reader.read();if(done){const
  tempStyle=document.getElementById('temp-chatbox-style');if(tempStyle)\r

  \ttempStyle.remove();updateMarkDown();break;}\r

  \tuint8ArraySoFar=concatUint8Array(uint8ArraySoFar,value);responseSoFar=Utf8A\
  rrayToStr(uint8ArraySoFar);if(responseSoFar.includes(\"OpenAI\")||responseSoF\
  ar.includes(\"Anthropic\")){responseSoFar=responseSoFar.replaceAll(\"OpenAI\",\
  \"DeepAI\").replaceAll(\"Anthropic\",\"DeepAI\");}\r

  \tif(responseSoFar.includes('\\u001C')){[responseText,responseJSON]=responseS\
  oFar.split('\\u001C');}\r

  \telse{responseText=responseSoFar;}\r

  \tlet
  textToInsert=responseText.substring(outputBuffer.length,responseText.length);\
  const wordsAndSpaces=textToInsert.split(/(\\s+)/);for(let
  i=0;i<wordsAndSpaces.length;i++){const
  wordOrSpace=wordsAndSpaces[i];outputBuffer+=wordOrSpace;const
  textAsHtml=document.createTextNode(wordOrSpace);hiddenTextContainer.appendChi\
  ld(textAsHtml);hiddenTextContainer.dataset.newContent='true';const
  contentGrowthThreshold=100;if(!pendingMarkdownUpdate){pendingMarkdownUpdate=t\
  rue;setTimeout(()=>{updateMarkDown();},10);}}}\r

  \tconsole.log('Response fully received, has
  JSON?',Boolean(responseJSON));if(responseJSON){try{outputBox.append(drawResul\
  ts(JSON.parse(responseJSON)));outputBox.dataset.hasResults='true';}\r

  \tcatch(e){console.error('something went wrong creating or appending the
  resultsContainer from a JSON message',e,responseJSON);}}}\r

  \tcatch(e){if(e.name!=='AbortError'){console.log(\"Error in reading chat
  response\",e);toast(\"errorpopup\");}}\r

  \tfinally{try{saveChatHistory();}\r

  \tcatch(e){console.log(\"Error saving chat history after response was
  received\",e);}\r

  \tisCurrentlyStreaming=false;}\r

  \tif(!window.user_paid_for_no_ads){try{if(contextualAdProvider==='monetano'){\
  addMonetanoAd();}}\r

  \tcatch(e){console.log('error adding contextual ad',e);}}\r

  \tif(document.getElementById(\"chatEditSubmitButton\")!==null){const
  editSubmitBtn=document.getElementById(\"chatEditSubmitButton\");editSubmitBtn\
  .disabled=false;editSubmitBtn.style.cssText=\"background: #8F37FF; color:
  white;\";}\r

  \tchatSubmitElem.style.cssText=\"display:
  block;\";chatStopElem.style.cssText=\"display:
  none;\";chatRunning=false;if(clearImageUponChatCompletion){fileData.length=0;}\
  \r

  \tif(document.querySelectorAll('.chatbox-wrapper').length===1){setTimeout(()=\
  >displayMyChatSessions(),2000);}\r

  \tconst
  persistentChatbox=document.getElementById('persistentChatbox');if(persistentC\
  hatbox){persistentChatbox.focus();}}\r

  \tfunction
  chatStop(){fileData=[];if(abortController){abortController.abort();}\r

  \ttry{saveChatHistory();}\r

  \tcatch(e){console.log(\"Error saving chat history when stopping response
  generation\",e);}}\r

  \ttry{const
  chatbox_text=sessionStorage.getItem(\"homepage_chatbox_text\");if(chatbox_tex\
  t){sessionStorage.removeItem(\"homepage_chatbox_text\");const
  persistentChatbox=document.getElementById('persistentChatbox');if(persistentC\
  hatbox){persistentChatbox.value=chatbox_text;persistentChatbox.dispatchEvent(\
  new
  Event('input',{bubbles:true}));persistentChatbox.focus();setTimeout(()=>{chat\
  Submit('','',true);},100);}}}\r

  \tcatch(e){console.log(\"Error handling homepage chat text from
  sessionStorage:\",e);}\r

  \tasync function summarizeSubmit(text){try{toast('summarypopup');const
  persistentChatbox=document.getElementById('persistentChatbox');if(persistentC\
  hatbox){persistentChatbox.textContent='';persistentChatbox.dispatchEvent(new
  Event('input',{bubbles:true}));}\r

  \tconst
  convo=document.getElementById('convo');if(convo){convo.scrollTop=convo.scroll\
  Height;}\r

  \tawait chatSubmit(text);if(persistentChatbox){persistentChatbox.focus();}}\r

  \tcatch(e){console.log(\"Error in
  summarization:\",e);toast(\"errorpopup\",\"Error summarizing text\");}}\r

  \tfunction chatReSubmit(editedElement){let
  editedBox=editedElement;if(!editedBox){editedBox=document.querySelector('.cha\
  tbox-wrapper[data-edited=\"true\"]');}\r

  \tif(!editedBox){console.warn(\"No edited box found for resubmit\");return;}\r

  \tdelete editedBox.dataset.edited;let
  nextElement=editedBox.nextElementSibling;while(nextElement){const
  elementToRemove=nextElement;nextElement=nextElement.nextElementSibling;elemen\
  tToRemove.remove();}\r

  \tchatSubmit('','',true,editedBox);}\r

  \tfunction getTextFromDiv(div){let text='';const
  hiddenContainer=div.querySelector('.hiddenTextContainer');if(hiddenContainer)\
  {Array.from(hiddenContainer.childNodes).forEach(child=>{if(child.nodeType===N\
  ode.TEXT_NODE){text+=child.textContent;}});}\r

  \telse{Array.from(div.childNodes).forEach(child=>{if(child.nodeType===Node.TE\
  XT_NODE){text+=child.textContent;}});}\r

  \treturn text;}\r

  \tfunction getJSONFromDiv(div){const
  searchResults=div.querySelectorAll('.resultsContainer
  .resultDiv');if(searchResults.length>0){return
  JSON.stringify(Array.from(searchResults).slice(0,maxChips).map((resultDiv)=>(\
  {aiSnippets:resultDiv.dataset.aiSnippets,title:resultDiv.querySelector('.titl\
  e').textContent,url:resultDiv.querySelector('.url').getAttribute('href')})));}\
  \r

  \telse{return\"\";}}\r

  \tfunction uuidv4(){const s=[];const hexDigits=\"0123456789abcdef\";for(let
  i=0;i<36;i++){s[i]=hexDigits.substr(Math.floor(Math.random()*0x10),1);}\r

  \ts[14]=\"4\";s[19]=hexDigits.substr((parseInt(s[19],16)&0x3)|0x8,1);s[8]=s[1\
  3]=s[18]=s[23]=\"-\";return s.join(\"\");}\r

  \tfunction isUploadNeeded(){var
  online=sessionStorage.getItem(\"selectedChatMode\")===\"online\";var
  onlinegenius=sessionStorage.getItem(\"selectedChatMode\")===\"onlinegenius\";\
  return true?(!online&&!onlinegenius&&!characterEnabled):false;}\r

  \tfunction
  switchUpload(){if(!isUploadNeeded()&&isUploadButtonAlreadyAppended()){removeU\
  pload();}\r

  \telse
  if(isUploadNeeded()&&!isUploadButtonAlreadyAppended()){appendUpload();}}\r

  \tfunction appendUpload(){const
  container=document.querySelector('.button-container');const
  uploadButton=newUploadButton();container.prepend(uploadButton);}\r

  \tfunction
  removeUpload(){document.querySelector('.button-container').querySelector('.up\
  loadButton').remove();}\r

  \tfunction appendUploadIfNeeded(){if(isUploadNeeded())\r

  \tappendUpload();}\r

  \tfunction isUploadButtonAlreadyAppended(){return
  document.querySelector('.button-container .uploadButton')==null?false:true;}\r

  \tlet currentChatUUID=uuidv4();let fileData=[];let
  clearImageUponChatCompletion=true;let chatRunning=false;const
  fileToImageSrc=(file)=>{return new Promise((resolve,reject)=>{const reader=new
  FileReader();reader.onload=function(e){resolve(e.target.result);};reader.oner\
  ror=reject;reader.readAsDataURL(file);});};async function
  saveChatHistory(){const
  chatHistory=getFullChatHistoryObject();if(!chatHistory||chatHistory.length===\
  0){console.log(\"No messages to save, skipping saveChatHistory\");return;}\r

  \tif(currentlyLoadingChat&&!chatModifiedSinceLoad){console.log(\"Chat loaded
  but not modified, skipping saveChatHistory\");return;}\r

  \tdocument.querySelectorAll('.chatbox-wrapper.empty-box').forEach(wrapper=>{w\
  rapper.style.visibility='visible';wrapper.style.opacity='0';});const
  uuid=currentChatUUID;const title=\"\";const form=new
  FormData();form.append(\"uuid\",uuid);form.append(\"title\",title);form.appen\
  d(\"chat_style\",chat_style);form.append(\"messages\",JSON.stringify(chatHist\
  ory));const response=await
  fetch(app_base_url+\"/save_chat_session\",{credentials:'include',method:\"POST\
  \",body:form});const data=await response.json();console.log(\"saveChatHistory
  response\",data);try{saveSessionUUIDToLocalStorage(currentChatUUID);}\r

  \tcatch(e){console.log(\"error saving session uuid to localStorage\",e);}}\r

  \tasync function getChatHistory(uuidToFetch){const response=await
  fetch(app_base_url+\"/get_chat_session?uuid=\"+uuidToFetch,{credentials:'incl\
  ude',method:\"GET\"});const data=await
  response.json();console.log(\"getChatHistory response\",data);return data;}\r

  \tasync function deleteAllChatHistory(){let
  existingUUIDs=getChatSessionUUIDsFromLocalStorage();const form=new
  FormData();form.append(\"my_known_uuids\",JSON.stringify(existingUUIDs));const
  response=await
  fetch(app_base_url+\"/delete_all_chat_history\",{credentials:'include',method:\
  \"POST\",body:form});const data=await
  response.json();console.log(\"deleteAllChatHistory
  response\",data);window.location.reload();}\r

  \tasync function deleteChatHistoryEntry(uuidToDelete){const form=new
  FormData();form.append(\"uuid\",uuidToDelete);const response=await
  fetch(app_base_url+\"/delete_chat_session\",{credentials:'include',method:\"P\
  OST\",body:form});const data=await
  response.json();console.log(\"deleteChatHistoryEntry
  response\",data);if(uuidToDelete===currentChatUUID){window.location.reload();}\
  \r

  \telse{const
  item=document.querySelector(`.chat-history-item-wrapper[data-session-id=\"${u\
  uidToDelete}\"]`);if(item){item.remove();}}}\r

  \tasync function reportCharacter(){const reason=prompt(\"Please provide a
  reason for reporting this character. Note that we are unable to change the
  character's features and/or text, or generate new characters from here, and
  this field is intended for reporting inappropriate
  characters.\");if(!reason){alert(\"You must provide a reason to report the
  character.\");return;}\r

  \tconst form=new
  FormData();form.append(\"reason\",reason);if(characterEnabled){form.append(\"\
  character_url\",chat_style);}\r

  \tform.append(\"chat_history\",JSON.stringify(getFullChatHistoryObject()));tr\
  y{const response=await
  fetch(app_base_url+\"/report_character\",{credentials:'include',method:\"POST\
  \",body:form});const data=await response.json();console.log(\"reportCharacter
  response\",data);if(data.status===\"Success\"){alert(\"Thank you for
  cooperation. This character has been reported.\");}\r

  \telse{alert(\"Error reporting character. Please try again.\");}}\r

  \tcatch(error){console.error(\"Error reporting character:\",error);alert(\"An
  error occurred while reporting the character. Please try again.\");}}\r

  \tasync function renameChatHistoryEntry(uuid,title){const form=new
  FormData();form.append(\"uuid\",uuid);form.append(\"title\",title);const
  response=await
  fetch(app_base_url+\"/rename_chat_session\",{credentials:'include',method:\"P\
  OST\",body:form});const data=await
  response.json();console.log(\"renameChatHistoryEntry response\",data);}\r

  \tfunction clearChat(){const
  elementsToRemove=document.querySelectorAll(\".chatbox-wrapper, .outputBox,
  .chat-ad-container,
  \"+\".monetano-ad\");elementsToRemove.forEach(element=>element.remove());chat\
  BoxUneditedText={};}\r

  \tfunction displayChatHistory(chatHistory){const
  convo=document.getElementById('convo');const
  originalScrollBehavior=getComputedStyle(convo).scrollBehavior;convo.style.set\
  Property('scroll-behavior','auto','important');convo.classList.add('no-scroll\
  -animation');currentlyLoadingChat=true;chatModifiedSinceLoad=false;document.q\
  uerySelectorAll('.header-slide-element').forEach(el=>el.classList.remove('hea\
  der-slide-hidden'));convo.classList.remove('reduced-gradient');convo.style.op\
  acity=\"0\";clearChat();for(const message of
  chatHistory.messages){if(message.role===\"user\"){if(message.content.trim()!==\
  \"\"){const
  newBox=newChatBox(message.content);newBox.style.visibility='visible';newBox.s\
  tyle.display='block';newBox.style.opacity='1';convo.appendChild(newBox);optim\
  izeChatPromptBox(newBox);}}\r

  \telse if(message.role===\"assistant\"){const
  outputBox=newOutputBox(message.content.replace(/</g,'&lt;').replace(/>/g,'&gt\
  ;'));convo.appendChild(outputBox);}\r

  \telse{console.log(\"unknown message role\",message.role);}}\r

  \tconst
  persistentChatbox=document.getElementById('persistentChatbox');if(persistentC\
  hatbox){persistentChatbox.value='';persistentChatbox.style.height='auto';pers\
  istentChatbox.dispatchEvent(new Event('input',{bubbles:true}));}\r

  \tupdateMarkDown();setTimeout(()=>{document.querySelectorAll('.chatbox-wrappe\
  r,
  .outputBox').forEach(box=>{box.style.visibility='visible';box.style.display='\
  block';box.style.opacity='1';});convo.style.opacity=\"1\";if(persistentChatbo\
  x){persistentChatbox.focus();}\r

  \tconvo.style.scrollBehavior=originalScrollBehavior;convo.classList.remove('n\
  o-scroll-animation');setTimeout(()=>{currentlyLoadingChat=false;document.quer\
  ySelectorAll('.chatbox-wrapper,
  .outputBox').forEach(box=>{box.style.visibility='visible';box.style.display='\
  block';box.style.opacity='1';});},300);},150);}\r

  \tfunction saveSessionUUIDToLocalStorage(uuidToAdd){let
  existingUUIDs=localStorage.getItem(\"chatSessionUUIDs\");if(existingUUIDs===n\
  ull){existingUUIDs=[];}\r

  \telse{try{existingUUIDs=JSON.parse(existingUUIDs);}\r

  \tcatch(e){console.log(\"error parsing
  existingUUIDs\",e);existingUUIDs=[];}}\r

  \texistingUUIDs.push(uuidToAdd);existingUUIDs=[...new
  Set(existingUUIDs)];localStorage.setItem(\"chatSessionUUIDs\",JSON.stringify(\
  existingUUIDs));}\r

  \tfunction getChatSessionUUIDsFromLocalStorage(){let
  existingUUIDs=localStorage.getItem(\"chatSessionUUIDs\");if(existingUUIDs===n\
  ull){existingUUIDs=[];}\r

  \telse{try{existingUUIDs=JSON.parse(existingUUIDs);}\r

  \tcatch(e){console.log(\"error parsing
  existingUUIDs\",e);existingUUIDs=[];}}\r

  \treturn existingUUIDs;}\r

  \tasync function getMyChatSessionsAndConvertAnonymousSessions(){let
  existingUUIDs=getChatSessionUUIDsFromLocalStorage();const form=new
  FormData();form.append(\"my_known_uuids\",JSON.stringify(existingUUIDs));const
  response=await
  fetch(app_base_url+\"/get_my_chat_sessions_and_convert_anonymous_sessions\",{\
  credentials:'include',method:\"POST\",body:form});const data=await
  response.json();console.log(\"getMyChatSessionsAndConvertAnonymousSessions
  response\",data);try{if(data.session_uuids_to_forget&&Array.isArray(data.sess\
  ion_uuids_to_forget)){let
  updatedUUIDs=existingUUIDs.filter(uuid=>!data.session_uuids_to_forget.include\
  s(uuid));localStorage.setItem(\"chatSessionUUIDs\",JSON.stringify(updatedUUID\
  s));let
  numRemoved=existingUUIDs.length-updatedUUIDs.length;console.log(`Removed
  ${numRemoved} session_uuids_to_forget from localStorage`);}}\r

  \tcatch(e){console.log('error removing session_uuids_to_forget from
  localStorage',e);}\r

  \treturn data;}\r

  \tlet confirmModalRoot,confirmTitleEl,confirmDescEl,confirmInputEl;let
  confirmYesBtn,confirmCancelBtn,confirmActionCallback=null,requiredConfirmText\
  =null;function
  openConfirmModal({title,desc,requireText,confirmLabel,onConfirm}){if(!confirm\
  ModalRoot)\r

  \treturn;confirmActionCallback=onConfirm;requiredConfirmText=requireText||nul\
  l;confirmTitleEl.textContent=title;confirmDescEl.innerHTML=desc;confirmInputE\
  l.value=\"\";confirmInputEl.style.display=requireText?\"block\":\"none\";conf\
  irmYesBtn.textContent=confirmLabel||\"Delete\";confirmYesBtn.disabled=!!requi\
  reText;confirmModalRoot.classList.add('visible');}\r

  \tfunction
  closeConfirmModal(){confirmModalRoot.classList.remove('visible');confirmActio\
  nCallback=null;requiredConfirmText=null;confirmYesBtn.disabled=false;}\r

  \tfunction setupGlobalContextMenu(){if(window.__globalContextMenu)\r

  \treturn;const sidebarContent=document.querySelector('.sidebar-content');const
  menu=document.createElement('div');menu.classList.add('chat-history-context-m\
  enu');menu.style.display='none';menu.innerHTML=`\r

  \t<button class=\"history-rename-btn\">Rename</button>\r

  \t<button class=\"history-delete-btn\">Delete</button>\r

  \t`;document.body.appendChild(menu);window.__globalContextMenu=menu;menu.quer\
  ySelector('.history-rename-btn').addEventListener('click',()=>{const
  activeItem=document.querySelector('.chat-history-item.menu-open');if(activeIt\
  em)\r

  \tstartInlineRename(activeItem);closeGlobalContextMenu();});menu.querySelecto\
  r('.history-delete-btn').addEventListener('click',()=>{const
  activeItem=document.querySelector('.chat-history-item.menu-open');if(activeIt\
  em)\r

  \tconfirmDeleteSingle(activeItem.closest('.chat-history-item-wrapper').datase\
  t.sessionId);closeGlobalContextMenu();});document.addEventListener('click',(e\
  vt)=>{if(menu.style.display==='block'&&!menu.contains(evt.target))\r

  \tcloseGlobalContextMenu();});}\r

  \tfunction openGlobalContextMenu(rect){const
  menu=window.__globalContextMenu;if(!menu)\r

  \treturn;menu.style.position='fixed';menu.style.top=rect.top+'px';menu.style.\
  left=rect.left+'px';menu.style.zIndex='6';menu.style.display='block';const
  sidebarContent=document.querySelector('.sidebar-content');if(sidebarContent)\r

  \tsidebarContent.classList.add('no-scroll');}\r

  \tfunction closeGlobalContextMenu(){const
  menu=window.__globalContextMenu;if(!menu||menu.style.display==='none')\r

  \treturn;menu.style.display='none';const
  sidebarContent=document.querySelector('.sidebar-content');if(sidebarContent)\r

  \tsidebarContent.classList.remove('no-scroll');document.querySelectorAll('.ch\
  at-history-item.menu-open').forEach(it=>it.classList.remove('menu-open'));}\r

  \tfunction
  startInlineRename(activeItemEl){activeItemEl.classList.add('rename-open');con\
  st
  labelSpan=activeItemEl.querySelector('.chat-history-label');if(!labelSpan)\r

  \treturn;const originalText=labelSpan.textContent||'';const
  input=document.createElement('input');input.type='text';input.value=originalT\
  ext;input.className='inline-rename-input';activeItemEl.replaceChild(input,lab\
  elSpan);input.focus();input.select();let renameDone=false;function
  keydownHandler(e){if(e.key==='Enter')\r

  \tfinalize();else if(e.key==='Escape')\r

  \trevert();}\r

  \tfunction blurHandler(){finalize();}\r

  \tinput.addEventListener('keydown',keydownHandler);input.addEventListener('bl\
  ur',blurHandler);const revert=()=>{if(renameDone)\r

  \treturn;renameDone=true;input.removeEventListener('keydown',keydownHandler);\
  input.removeEventListener('blur',blurHandler);labelSpan.textContent=originalT\
  ext;if(input.parentNode===activeItemEl){activeItemEl.replaceChild(labelSpan,i\
  nput);}\r

  \tactiveItemEl.classList.remove('rename-open');};const
  finalize=async()=>{if(renameDone)\r

  \treturn;renameDone=true;input.removeEventListener('keydown',keydownHandler);\
  input.removeEventListener('blur',blurHandler);const
  newTitle=input.value.trim();if(!newTitle){revert();return;}\r

  \tconst
  sessionId=activeItemEl.closest('.chat-history-item-wrapper').dataset.sessionI\
  d;try{await
  renameChatHistoryEntry(sessionId,newTitle);labelSpan.textContent=newTitle;if(\
  input.parentNode===activeItemEl){activeItemEl.replaceChild(labelSpan,input);}}\
  \r

  \tcatch{revert();return;}\r

  \tactiveItemEl.classList.remove('rename-open');};}\r

  \tfunction confirmDeleteSingle(sessionId){openConfirmModal({title:\"Delete
  Chat\",desc:\"Are you sure you want to delete this chat?<br/>This cannot be
  undone.\",onConfirm:async()=>{await deleteChatHistoryEntry(sessionId);}});}\r

  \tfunction confirmDeleteAll(){openConfirmModal({title:\"Delete Chat
  History\",desc:\"This action <b>cannot</b> be undone. This will permanently
  delete all chat history. Please type <b>delete-all-chat-history</b> to
  confirm.\",requireText:\"delete-all-chat-history\",confirmLabel:\"Delete
  All\",onConfirm:async()=>{await deleteAllChatHistory();}});}\r

  \tasync function displayMyChatSessions(){const data=await
  getMyChatSessionsAndConvertAnonymousSessions();let
  mySessions=data.sessions||[];mySessions.sort((a,b)=>new
  Date(b.updated_at).getTime()-new Date(a.updated_at).getTime());const
  groups={};mySessions.forEach(s=>{const date=new Date(s.updated_at||new
  Date());const
  label=categorizeSessionByDate(date);groups[label]=groups[label]||[];groups[la\
  bel].push(s);});const
  historyList=document.getElementById('chatHistoryList');historyList.innerHTML=\
  '';for(const label of Object.keys(groups)){const
  heading=document.createElement('div');heading.classList.add('history-heading-\
  label');heading.textContent=label;historyList.appendChild(heading);groups[lab\
  el].forEach(session=>{const
  row=createChatHistoryItem(session);historyList.appendChild(row);});}\r

  \tlet
  found=Object.values(groups).some(arr=>arr.some(s=>s.uuid===currentChatUUID));\
  if(!found&&currentChatUUID){const
  newRow=createChatHistoryItem({uuid:currentChatUUID,title:'New
  Chat',updated_at:new
  Date().toISOString(),chat_style:''});newRow.classList.add('new-chat');let
  newChatLabel=Array.from(historyList.querySelectorAll('.history-heading-label'\
  )).find(lbl=>lbl.textContent==='Today');if(!newChatLabel){newChatLabel=docume\
  nt.createElement('div');newChatLabel.classList.add('history-heading-label');n\
  ewChatLabel.textContent='Today';historyList.insertBefore(newChatLabel,history\
  List.firstChild);}\r

  \thistoryList.insertBefore(newRow,newChatLabel.nextSibling);}\r

  \tconst
  firstLabel=historyList.querySelector('.history-heading-label');if(firstLabel)\
  {firstLabel.style.marginTop='0';}\r

  \tupdateCurrentChatHighlight();}\r

  \tfunction createChatHistoryItem(session){const
  wrap=document.createElement('div');wrap.classList.add('chat-history-item-wrap\
  per');wrap.dataset.sessionId=session.uuid;const
  item=document.createElement('div');item.classList.add('chat-history-item');co\
  nst
  labelSpan=document.createElement('span');labelSpan.classList.add('chat-histor\
  y-label');labelSpan.textContent=session.title||'Untitled
  Chat';item.appendChild(labelSpan);const
  dots=document.createElement('div');dots.classList.add('chat-history-dots');do\
  ts.textContent='⋮';item.appendChild(dots);wrap.appendChild(item);item.addEven\
  tListener('click',async()=>{if(session.uuid===currentChatUUID){return;}\r

  \tif(session.chat_style&&session.chat_style!==chat_style){sessionStorage.setI\
  tem('redirect_chat_id',session.uuid);let
  redirectUrl;if(session.chat_style===\"chat\"){redirectUrl=\"/chat\";}\r

  \telse{redirectUrl=`/chat/${session.chat_style}`;}\r

  \twindow.location.href=redirectUrl;return;}\r

  \tcurrentChatUUID=session.uuid;clearChat();const chatData=await
  getChatHistory(session.uuid);displayChatHistory(chatData);updateMarkDown();up\
  dateCurrentChatHighlight();const
  historyList=document.getElementById('chatHistoryList');let
  todayLabel=Array.from(historyList.querySelectorAll('.history-heading-label'))\
  .find(lbl=>lbl.textContent==='Today');if(todayLabel){const
  nextSibling=todayLabel.nextElementSibling;if(nextSibling&&nextSibling.classLi\
  st.contains('history-heading-label')){todayLabel.remove();const
  firstLabel=historyList.querySelector('.history-heading-label');if(firstLabel)\
  {firstLabel.style.marginTop='0';}}}});dots.addEventListener('click',(e)=>{e.s\
  topPropagation();closeGlobalContextMenu();item.classList.add('menu-open');ope\
  nGlobalContextMenu(dots.getBoundingClientRect());});return wrap;}\r

  \tfunction checkUrlForChatId(){const
  chatId=sessionStorage.getItem('redirect_chat_id');if(chatId){sessionStorage.r\
  emoveItem('redirect_chat_id');setTimeout(async()=>{try{currentChatUUID=chatId\
  ;const chatData=await
  getChatHistory(chatId);currentlyLoadingChat=true;displayChatHistory(chatData)\
  ;updateMarkDown();updateCurrentChatHighlight();document.body.classList.remove\
  ('loading-chat-history');}\r

  \tcatch(error){console.error(\"Error loading redirected
  chat:\",error);document.body.classList.remove('loading-chat-history');const
  convo=document.getElementById('convo');if(convo)\r

  \tconvo.style.opacity=\"1\";}},100);}}\r

  \tfunction
  updateCurrentChatHighlight(){document.querySelectorAll('.chat-history-item-wr\
  apper').forEach(w=>{const wrapper=w;const sid=wrapper.dataset.sessionId;const
  item=wrapper.querySelector('.chat-history-item');if(wrapper.classList.contain\
  s('new-chat')&&sid!==currentChatUUID)\r

  \twrapper.remove();sid===currentChatUUID?item.classList.add('current-chat'):i\
  tem.classList.remove('current-chat','active');});}\r

  \tfunction categorizeSessionByDate(dateObj){const now=new
  Date(),daysDiff=(now.getTime()-dateObj.getTime())/(1000*60*60*24);if(daysDiff\
  <1)\r

  \treturn'Today';if(daysDiff<2)\r

  \treturn'Yesterday';if(daysDiff<7)\r

  \treturn'Previous 7 Days';if(daysDiff<30)\r

  \treturn'Previous 30 Days';const
  m=[\"January\",\"February\",\"March\",\"April\",\"May\",\"June\",\"July\",\"A\
  ugust\",\"September\",\"October\",\"November\",\"December\"];return
  m[dateObj.getMonth()]+\" \"+dateObj.getFullYear();}\r

  \tasync function save_user_sees_ads_value(){let user_sees_ads=false;if(typeof
  window.fsprebid==='object'){user_sees_ads=true;}\r

  \tconsole.log('user_sees_ads: ',user_sees_ads);const
  url=app_base_url+'/set_user_sees_ads';const form=new
  FormData();form.append('user_sees_ads',user_sees_ads+\"\");const
  apiResult=await
  fetch(url,{method:'POST',body:form,credentials:'include'});if(!apiResult.ok){\
  throw apiResult;}}\r

  \tsetTimeout(save_user_sees_ads_value,10000);let mediaRecorder;let
  recordedChunks=[];let isRecording=false;const micIconHTML='<img
  src=\"/static/images/mic.svg\" alt=\"Mic Icon\" class=\"mic-icon\">';async
  function handleRecording(){if(!isRecording){await startRecording();}\r

  \telse{stopRecording();}}\r

  \tasync function startRecording(){recordedChunks=[];try{const stream=await
  navigator.mediaDevices.getUserMedia({audio:true});mediaRecorder=new
  MediaRecorder(stream);mediaRecorder.ondataavailable=(event)=>{if(event.data.s\
  ize>0){recordedChunks.push(event.data);}};mediaRecorder.onstop=async()=>{await
  handleRecordingStop(stream);};mediaRecorder.start();updateButtonForRecording(\
  );isRecording=true;}\r

  \tcatch(err){console.error('Mic access error or unsupported
  browser:',err);toast(\"errorpopup\",\"Mic access error or unsupported
  browser.\");}}\r

  \tasync function handleRecordingStop(stream){const blob=new
  Blob(recordedChunks,{type:mediaRecorder.mimeType||'audio/webm'});const
  recordButton=document.getElementById('recordButton');recordButton.classList.r\
  emove('recording');recordButton.classList.add('text');recordButton.innerHTML=\
  'Processing...';try{const form=new
  FormData();form.append('voiceRecording',blob,'myFunRecording.webm');const
  tryitApiKey=generateTryitApiKey();const response=await
  fetch(app_base_url+\"/speech_to_text\",{credentials:'include',method:\"POST\"\
  ,body:form,headers:{'api-key':tryitApiKey,},});if(!response.ok){throw new
  Error('Server error: '+response.statusText);}\r

  \tconst result=await response.json();const
  persistentChatbox=document.getElementById('persistentChatbox');if(persistentC\
  hatbox&&result.text){const
  currentText=persistentChatbox.value;persistentChatbox.value=currentText+resul\
  t.text;persistentChatbox.style.height='auto';persistentChatbox.style.height=p\
  ersistentChatbox.scrollHeight+'px';persistentChatbox.dispatchEvent(new
  Event('input',{bubbles:true}));persistentChatbox.focus();}}\r

  \tcatch(err){console.error('Upload error:',err);toast(\"errorpopup\",\"An
  error occurred during upload or processing.\");}\r

  \tfinally{resetButtonAfterProcessing();stream.getTracks().forEach((track)=>tr\
  ack.stop());}}\r

  \tfunction stopRecording(){const
  recordButton=document.getElementById('recordButton');if(mediaRecorder&&mediaR\
  ecorder.state!=='inactive'){mediaRecorder.stop();}\r

  \trecordButton.classList.remove('recording','text');recordButton.innerHTML=mi\
  cIconHTML;isRecording=false;}\r

  \tfunction updateButtonForRecording(){const
  recordButton=document.getElementById('recordButton');recordButton.classList.a\
  dd('recording','text');recordButton.innerHTML='';setTimeout(()=>{recordButton\
  .innerHTML='<span class=\"fade-in\">Stop Recording</span>';const
  fadeInElement=recordButton.querySelector('.fade-in');setTimeout(()=>{fadeInEl\
  ement.classList.add('show');},10);},100);}\r

  \tfunction resetButtonAfterProcessing(){const
  recordButton=document.getElementById('recordButton');setTimeout(()=>{recordBu\
  tton.innerHTML=micIconHTML;recordButton.classList.remove('text');},300);}\r

  \tfunction generateTryitApiKey(){let
  myrandomstr=Math.round((Math.random()*100000000000))+\"\";const
  myhashfunction=function(){for(var a=[],b=0;64>b;)\r

  \ta[b]=0|4294967296*Math.sin(++b%Math.PI);return function(c){var
  d,e,f,g=[d=1732584193,e=4023233417,~d,~e],h=[],l=unescape(encodeURI(c))+\"\\u\
  0080\",k=l.length;c=--k/4+2|15;for(h[--c]=8*k;~k;)\r

  \th[k>>2]|=l.charCodeAt(k)<<8*k--;for(b=l=0;b<c;b+=16){for(k=g;64>l;k=[f=k[3]\
  ,d+((f=k[0]+[d&e|~d&f,f&d|~f&e,d^e^f,e^(d|~f)][k=l>>4]+a[l]+~~h[b|[l,5*l+1,3*\
  l+5,7*l][k]&15])<<(k=[7,12,17,22,5,9,14,20,4,11,16,23,6,10,15,21][4*k+l++%4])\
  |f>>>-k),d,e])\r

  \td=k[1]|0,e=k[2];for(l=4;l;)\r

  \tg[--l]+=k[l];}\r

  \tfor(c=\"\";32>l;)\r

  \tc+=(g[l>>3]>>4*(1^l++)&15).toString(16);return
  c.split(\"\").reverse().join(\"\");};}();const
  tryitApiKey='tryit-'+myrandomstr+'-'+myhashfunction(navigator.userAgent+myhas\
  hfunction(navigator.userAgent+myhashfunction(navigator.userAgent+myrandomstr+\
  'hackers_become_a_little_stinkier_every_time_they_hack')));return
  tryitApiKey;}\r

  \t(function(){const
  chatModes=[{value:\"standard\",label:\"Standard\",locked:false,description:\"\
  Default accuracy and
  speed.\"},{value:\"online\",label:\"Online\",locked:false,description:\"Live
  web-browsing.\"},{value:\"math\",label:\"Math\",locked:false,description:\"Ad\
  vanced math & science
  capability.\"},{value:\"genius\",label:\"Genius\",locked:true,description:\"A\
  dvanced reasoning & better accuracy
  (Pro).\"},{value:\"supergenius\",label:\"Super
  Genius\",locked:true,description:\"Extra advanced logic & reasoning
  (Pro).\"},{value:\"onlinegenius\",label:\"Online
  Genius\",locked:true,description:\"Advanced reasoning & better accuracy with
  live web-browsing (Pro).\"},];const
  userHasPro=window.user_object?.userprofile2?.user_can_use_genius_mode||false;\
  const menu=document.getElementById(\"chatModeMenu\");const
  triggerBtn=document.getElementById(\"chatModeDropdownButton\");const
  currentLabel=document.getElementById(\"currentChatModeLabel\");const
  checkIconSVG=`\r

  \t<svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\"
  xmlns=\"http://www.w3.org/2000/svg\">\r

  \t<circle cx=\"12\" cy=\"12\" r=\"12\" fill=\"#8f37ff\"></circle>\r

  \t<path d=\"M7.5 12L10.5 15L16.5 9\" stroke=\"white\" stroke-width=\"2\"
  stroke-linecap=\"round\" stroke-linejoin=\"round\"></path>\r

  \t</svg>\r

  \t`;const
  headerDiv=document.createElement(\"div\");headerDiv.classList.add(\"chat-mode\
  -menu-header\");headerDiv.innerHTML=`\r

  \t<span class=\"header-title\">Chat Mode</span>\r

  \t<a href=\"/docs#ai-chat\" target=\"_blank\" class=\"info-link\">\r

  \t<svg\r

  \twidth=\"18\"\r

  \theight=\"18\"\r

  \tstroke-width=\"2\"\r

  \tstroke-linecap=\"round\"\r

  \tstroke-linejoin=\"round\"\r

  \tfill=\"none\"\r

  \tstroke=\"#9F9F9F\"\r

  \tviewBox=\"0 0 24 24\">\r

  \t<circle cx=\"12\" cy=\"12\" r=\"9\"/>\r

  \t<path d=\"M12 8h.01\"/>\r

  \t<path d=\"M12 12v4\"/>\r

  \t</svg>\r

  \t</a>\r

  \t`;menu.appendChild(headerDiv);let
  savedMode=\"standard\";if(characterEnabled){savedMode=\"standard\";}\r

  \telse{if(userHasPro){savedMode=\"genius\";}}\r

  \tif(!characterEnabled&&savedMode){try{sessionStorage.setItem(\"selectedChatM\
  ode\",savedMode);}\r

  \tcatch(error){console.error(\"Error saving initial mode to
  sessionStorage:\",error);}}\r

  \tchatModes.forEach(mode=>{const
  shouldBeLocked=mode.locked&&(((mode.value===\"genius\"||mode.value===\"superg\
  enius\"||mode.value===\"onlinegenius\")&&!userHasPro));const
  item=document.createElement(\"div\");item.classList.add(\"chat-mode-menu-item\
  \");item.id=mode.value;if(shouldBeLocked){item.classList.add(\"chat-mode-lock\
  ed\");item.setAttribute(\"locked\",\"true\");}\r

  \tconst
  textContainer=document.createElement(\"div\");textContainer.classList.add(\"t\
  ext-container\");textContainer.innerHTML=`\r

  \t<strong>${mode.label}</strong>\r

  \t<span class=\"chat-mode-description\">${mode.description}</span>\r

  \t`;const
  checkDiv=document.createElement(\"div\");checkDiv.classList.add(\"chat-mode-c\
  heckmark\");checkDiv.innerHTML=checkIconSVG;if(mode.value===savedMode){item.c\
  lassList.add(\"selected\");}\r

  \titem.addEventListener(\"click\",()=>{if(item.hasAttribute(\"locked\")){open\
  Subscription();closeChatModeMenu();return;}\r

  \ttry{sessionStorage.setItem(\"selectedChatMode\",mode.value);}\r

  \tcatch(error){console.error(\"Error saving to sessionStorage:\",error);}\r

  \tcurrentLabel.textContent=mode.label;savedMode=mode.value;try{switchUpload()\
  ;}\r

  \tcatch(error){console.error(\"Error switching upload:\",error);}\r

  \tmenu.querySelectorAll(\".chat-mode-menu-item\").forEach(el=>el.classList.re\
  move(\"selected\"));item.classList.add(\"selected\");closeChatModeMenu();});i\
  tem.appendChild(textContainer);item.appendChild(checkDiv);menu.appendChild(it\
  em);});const
  announcementBanner=document.createElement('div');announcementBanner.id='perma\
  nent-announcement-banner';announcementBanner.className='permanent-announcemen\
  t-banner menu-perm-ad';announcementBanner.innerHTML=`\r

  \t<a href=\"javascript:void(0);\" onclick=\"openSubscription();\"
  class=\"pro-link-button\">\r

  \t<div class=\"perm-banner-text\">\r

  \t<span class=\"main-text\">Upgrade to DeepAI Pro</span>\r

  \t<span class=\"sub-text sub-perm-text\">More access to the best AI</span>\r

  \t</div>\r

  \t</a>\r

  \t`;menu.appendChild(announcementBanner);const
  matched=chatModes.find(m=>m.value===savedMode);currentLabel.textContent=match\
  ed.label;if(characterEnabled){const
  dropdownContainer=document.querySelector('.chat-mode-dropdown-container');if(\
  dropdownContainer){dropdownContainer.style.display='none';}}\r

  \tfunction
  openChatModeMenu(){menu.style.display=\"block\";triggerBtn.classList.add(\"op\
  en\");setTimeout(()=>{document.addEventListener(\"click\",outsideClickHandler\
  );},0);}\r

  \tfunction
  closeChatModeMenu(){menu.style.display=\"none\";triggerBtn.classList.remove(\
  \"open\");document.removeEventListener(\"click\",outsideClickHandler);}\r

  \tfunction
  outsideClickHandler(e){if(!menu.contains(e.target)&&e.target!==triggerBtn){cl\
  oseChatModeMenu();}}\r

  \tfunction
  toggleChatModeMenu(){if(menu.style.display===\"none\"){openChatModeMenu();}\r

  \telse{closeChatModeMenu();}}\r

  \ttriggerBtn.addEventListener(\"click\",(e)=>{e.stopPropagation();toggleChatM\
  odeMenu();});})();function getTextWidth(text,font){const
  canvas=document.createElement('canvas');const
  context=canvas.getContext('2d');context.font=font;return
  context.measureText(text).width;}\r

  \tlet chatModifiedSinceLoad=false;let currentlyLoadingChat=false;function
  initPersistentChatbox(){const
  persistentChatbox=document.getElementById('persistentChatbox');const
  chatboxContainer=document.querySelector('.persistent-compose-area');if(!persi\
  stentChatbox)\r

  \treturn;const convo=document.getElementById('convo');let
  chatboxWidth,chatboxHeight,font;function updateChatboxDimensions(){const
  currentValue=persistentChatbox.value;const
  currentHeight=persistentChatbox.style.height;const
  wasExpanded=chatboxContainer.classList.contains('expanded');persistentChatbox\
  .value='';persistentChatbox.style.height='auto';chatboxContainer.classList.re\
  move('expanded');const
  computedStyle=getComputedStyle(persistentChatbox);font=`${computedStyle.fontS\
  ize}
  ${computedStyle.fontFamily}`;chatboxWidth=persistentChatbox.clientWidth-parse\
  Float(computedStyle.paddingLeft)-parseFloat(computedStyle.paddingRight);if(ch\
  atboxHeight===undefined){chatboxHeight=persistentChatbox.scrollHeight-parseFl\
  oat(computedStyle.paddingTop);}\r

  \tpersistentChatbox.value=currentValue;persistentChatbox.style.height=current\
  Height;if(wasExpanded){chatboxContainer.classList.add('expanded');}}\r

  \tupdateChatboxDimensions();function
  handleResize(){persistentChatbox.style.height='auto';const
  currHeight=persistentChatbox.scrollHeight-parseFloat(getComputedStyle(persist\
  entChatbox).paddingTop);const
  currWidth=getTextWidth(persistentChatbox.value,font);if(currHeight>chatboxHei\
  ght){chatboxContainer.classList.add('expanded');convo.style.paddingBottom='22\
  0px';document.querySelector('.fs-sticky-footer')?.classList?.add('fs-sticky-s\
  hifted');document.querySelector('.fs-sticky-parent')?.classList?.add('fs-stic\
  ky-shifted');}\r

  \telse
  if(currHeight<=chatboxHeight&&currWidth<chatboxWidth){chatboxContainer.classL\
  ist.remove('expanded');convo.style.paddingBottom='170px';document.querySelect\
  or('.fs-sticky-footer')?.classList?.remove('fs-sticky-shifted');document.quer\
  ySelector('.fs-sticky-parent')?.classList?.remove('fs-sticky-shifted');}\r

  \tconst
  heightAdjustment=fileData.length>0?3:0;persistentChatbox.style.height=(persis\
  tentChatbox.scrollHeight+heightAdjustment)+'px';}\r

  \tif(typeof ResizeObserver!=='undefined'){const resizeObserver=new
  ResizeObserver(()=>{updateChatboxDimensions();handleResize();});resizeObserve\
  r.observe(persistentChatbox);}\r

  \telse{}\r

  \tpersistentChatbox.addEventListener('input',handleResize);const
  dropdown=document.getElementById('chatModeDropdownButton');if(dropdown){dropd\
  own.classList.toggle('compact',persistentChatbox.value.trim().length>0);persi\
  stentChatbox.addEventListener('input',function(){dropdown.classList.toggle('c\
  ompact',this.value.trim().length>0&&!chatboxContainer.classList.contains('exp\
  anded'));});}\r

  \tpersistentChatbox.style.height=persistentChatbox.scrollHeight+'px';persiste\
  ntChatbox.focus();}\r

  \tfunction initEventDelegation(){const
  persistentChatbox=document.getElementById('persistentChatbox');const
  chatSubmitButton=document.getElementById('chatSubmitButton');if(persistentCha\
  tbox&&chatSubmitButton){chatSubmitButton.disabled=!persistentChatbox.value.tr\
  im();persistentChatbox.addEventListener('input',function(){chatSubmitButton.d\
  isabled=!this.value.trim();});const
  ime=setupIMEHandlers(persistentChatbox);persistentChatbox.addEventListener('k\
  eydown',function(e){if(ime.isComposing()||ime.compositionJustEnded()){return;}\
  \r

  \tif(e.key==='Enter'&&!e.shiftKey){const
  isMobile=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera
  Mini/i.test(navigator.userAgent);if(isMobile){return;}\r

  \te.preventDefault();const
  chatSubmitElem=document.getElementById(\"chatSubmitButton\");const
  chatStopElem=document.getElementById(\"chatStopButton\");const
  isThinking=chatStopElem.style.display===\"block\"||chatSubmitElem.style.displ\
  ay===\"none\";if(!chatSubmitButton.disabled&&!isCurrentlyStreaming&&!isThinki\
  ng){chatSubmit('','',true);}}});}\r

  \tdocument.addEventListener('input',function(event){const
  target=event.target;if(target.classList.contains('chatbox')&&target.closest('\
  .chatbox-wrapper[data-edited]')){const
  wrapper=target.closest('.chatbox-wrapper');const
  saveButton=wrapper.querySelector('.chatEditSubmitButton');if(saveButton){const
  currentText=target.value.trim();const
  originalText=chatBoxUneditedText[wrapper.id]||'';saveButton.disabled=!current\
  Text||currentText===originalText.trim();}}});}\r

  \twindow.addEventListener('resize',function(){document.querySelectorAll('.cha\
  tbox-wrapper
  textarea.chatbox').forEach(textarea=>{adjustTextareaHeight(textarea);});});co\
  nst
  standardThinkingWords=[\"Thinking\",\"Pondering\",\"Considering\",\"Processing\
  \",\"Reflecting\",\"Analyzing\",\"Contemplating\",\"Calculating\",\"Working\",\
  \"Reviewing\"];const
  geniusThinkingWords=[\"Ratiocinating\",\"Excogitating\",\"Lucubrating\",\"Cog\
  itating\",\"Noesizing\",\"Cerebrating\",\"Ideating\",\"Intellecting\",\"Discu\
  rsing\",\"Apperceiving\"];function showThinkingIndicator(){const
  selectedMode=sessionStorage.getItem(\"selectedChatMode\")||\"standard\";const
  wordList=selectedMode===\"supergenius\"?geniusThinkingWords:standardThinkingW\
  ords;const randomIndex=Math.floor(Math.random()*wordList.length);const
  thinkingWord=wordList[randomIndex];const
  thinkingIndicator=document.createElement('div');thinkingIndicator.className='\
  thinking-indicator';thinkingIndicator.innerHTML=`<span
  class=\"thinking-text\">${thinkingWord}</span><span
  class=\"thinking-dots\"></span>`;const
  convo=document.getElementById('convo');convo.appendChild(thinkingIndicator);r\
  eturn thinkingIndicator;}\r

  \tfunction removeThinkingIndicator(){const
  indicator=document.querySelector('.thinking-indicator');if(indicator){indicat\
  or.remove();}}\r

  \t(()=>{const
  layoutContainer=document.getElementById(\"layoutContainer\");const
  sidebarOverlay=document.getElementById(\"sidebarOverlay\");const
  sidebarToggle=document.getElementById(\"sidebarToggle\");const
  sidebarHeader=document.querySelector(\".sidebar-header\");function
  getSavedSidebarState(){if(window.innerWidth>=1200){try{const
  savedState=localStorage.getItem('sidebarState');return(savedState==='open'||s\
  avedState==='closed')?savedState:null;}\r

  \tcatch(e){console.log('Error reading sidebar state',e);}}\r

  \treturn null;}\r

  \tfunction
  saveSidebarState(isOpen){if(window.innerWidth>=1200){try{localStorage.setItem\
  ('sidebarState',isOpen?'open':'closed');}\r

  \tcatch(e){console.log('Error saving sidebar state',e);}}}\r

  \tfunction
  setSidebarState(open){if(layoutContainer){layoutContainer.classList.toggle('s\
  idebar-open',open);}\r

  \tif(sidebarOverlay&&window.innerWidth<1200){sidebarOverlay.classList.toggle(\
  'active',open);}}\r

  \tfunction toggleSidebar(){const
  isOpen=layoutContainer?layoutContainer.classList.contains(\"sidebar-open\"):f\
  alse;const
  newState=!isOpen;saveSidebarState(newState);setSidebarState(newState);}\r

  \tfunction initSidebar(){const
  savedState=getSavedSidebarState();if(savedState){setSidebarState(savedState==\
  ='open');}\r

  \telse{setSidebarState(window.innerWidth>=1200);}}\r

  \tinitSidebar();window.addEventListener(\"resize\",function(){if(window.inner\
  Width<1200){setSidebarState(false);return;}\r

  \tconst
  savedState=getSavedSidebarState();if(savedState){setSidebarState(savedState==\
  ='open');}\r

  \telse{setSidebarState(true);}});if(sidebarToggle){sidebarToggle.addEventList\
  ener(\"click\",toggleSidebar);}\r

  \tif(sidebarHeader){sidebarHeader.addEventListener(\"click\",toggleSidebar);}\
  \r

  \tif(sidebarOverlay){sidebarOverlay.addEventListener(\"click\",()=>setSidebar\
  State(false));}\r

  \tconfirmModalRoot=document.getElementById('confirm-modal-root');confirmTitle\
  El=document.getElementById('confirm-title');confirmDescEl=document.getElement\
  ById('confirm-desc');confirmInputEl=document.getElementById('confirm-input');\
  confirmYesBtn=document.getElementById('confirm-yes-btn');confirmCancelBtn=doc\
  ument.getElementById('confirm-cancel-btn');if(confirmCancelBtn){confirmCancel\
  Btn.addEventListener('click',closeConfirmModal);}\r

  \tif(confirmYesBtn){confirmYesBtn.addEventListener('click',()=>{if(confirmAct\
  ionCallback)\r

  \tconfirmActionCallback();closeConfirmModal();});}\r

  \tif(confirmInputEl){confirmInputEl.addEventListener('input',()=>{if(!require\
  dConfirmText||!confirmInputEl)\r

  \treturn;if(confirmYesBtn){confirmYesBtn.disabled=(confirmInputEl.value.trim(\
  )!==requiredConfirmText);}});}\r

  \tif(confirmModalRoot){confirmModalRoot.addEventListener('click',(e)=>{if(e.t\
  arget===confirmModalRoot){closeConfirmModal();}});}\r

  \twindow.addEventListener('keydown',(e)=>{if(e.key==='Escape'&&confirmModalRo\
  ot&&confirmModalRoot.classList.contains('visible')){closeConfirmModal();}});c\
  onst
  deleteAllBtn=document.querySelector('.delete-all-history-button');if(deleteAl\
  lBtn){deleteAllBtn.addEventListener('click',confirmDeleteAll);}\r

  \tconst searchInput=document.getElementById('chatHistorySearchInput');const
  searchIcon=document.getElementById('chatHistorySearchIcon');const
  searchClearBtn=document.getElementById('chatHistorySearchClear');const
  historyListEl=document.getElementById('chatHistoryList');const
  searchStatusEl=document.getElementById('chatHistorySearchStatus');let
  searchTimeout=null;let currentSearchQuery='';let isSearching=false;let
  queuedSearch=null;async function
  performChatHistorySearch(query){if(isSearching){queuedSearch=query;return;}\r

  \tisSearching=true;try{if(searchInput)\r

  \tsearchInput.classList.add('searching');if(searchIcon)\r

  \tsearchIcon.style.display='none';if(searchClearBtn){searchClearBtn.style.dis\
  play='none';searchClearBtn.innerHTML='<div
  class=\"search-spinner\"></div>';searchClearBtn.style.display='flex';searchCl\
  earBtn.disabled=true;}\r

  \tconst sessionIds=[];if(historyListEl){const
  allItems=historyListEl.querySelectorAll('.chat-history-item-wrapper');allItem\
  s.forEach(item=>{const
  sessionId=item.dataset.sessionId;if(sessionId){sessionIds.push(sessionId);}})\
  ;}\r

  \tconst form=new
  FormData();form.append('query',query);form.append('session_ids',JSON.stringif\
  y(sessionIds));const response=await
  fetch(app_base_url+'/search_chat_history',{credentials:'include',method:'POST\
  ',body:form});if(!response.ok){throw new Error('Search failed');}\r

  \tconst results=await response.json();if(queuedSearch){const
  nextQuery=queuedSearch;queuedSearch=null;isSearching=false;performChatHistory\
  Search(nextQuery);}\r

  \telse{displaySearchResults(results);}}\r

  \tcatch(error){console.error('Search error:',error);resetSearch();}\r

  \tfinally{isSearching=false;if(searchInput)\r

  \tsearchInput.classList.remove('searching');if(searchClearBtn){searchClearBtn\
  .disabled=false;searchClearBtn.innerHTML='<svg width=\"16\" height=\"16\"
  viewBox=\"0 0 16 16\" fill=\"none\"><path d=\"M12 4L4 12M4 4L12 12\"
  stroke=\"currentColor\" stroke-width=\"2\"
  stroke-linecap=\"round\"/></svg>';}\r

  \tif(searchInput&&searchInput.value.trim()){if(searchIcon)\r

  \tsearchIcon.style.display='none';if(searchClearBtn)\r

  \tsearchClearBtn.style.display='flex';}\r

  \telse{if(searchIcon)\r

  \tsearchIcon.style.display='flex';if(searchClearBtn)\r

  \tsearchClearBtn.style.display='none';}\r

  \tif(queuedSearch){const
  nextQuery=queuedSearch;queuedSearch=null;performChatHistorySearch(nextQuery);\
  }}}\r

  \tfunction displaySearchResults(results){if(!historyListEl)\r

  \treturn;const
  allItems=historyListEl.querySelectorAll('.chat-history-item-wrapper');const
  allHeadings=historyListEl.querySelectorAll('.history-heading-label');allItems\
  .forEach(item=>item.classList.add('search-hidden'));allHeadings.forEach(headi\
  ng=>heading.classList.add('search-hidden'));if(results.session_ids&&results.s\
  ession_ids.length>0){const matchedHeadings=new
  Set();results.session_ids.forEach(sessionId=>{const
  item=historyListEl.querySelector(`.chat-history-item-wrapper[data-session-id=\
  \"${sessionId}\"]`);if(item){item.classList.remove('search-hidden');let
  prevSibling=item.previousElementSibling;while(prevSibling){if(prevSibling.cla\
  ssList.contains('history-heading-label')){matchedHeadings.add(prevSibling);br\
  eak;}\r

  \tprevSibling=prevSibling.previousElementSibling;}}});matchedHeadings.forEach\
  (heading=>{heading.classList.remove('search-hidden');});const
  existingFirst=historyListEl.querySelector('.first-visible');if(existingFirst)\
  \r

  \texistingFirst.classList.remove('first-visible');const
  firstVisible=historyListEl.querySelector('.history-heading-label:not(.search-\
  hidden), .chat-history-item-wrapper:not(.search-hidden)');if(firstVisible)\r

  \tfirstVisible.classList.add('first-visible');historyListEl.style.display='bl\
  ock';if(searchStatusEl)\r

  \tsearchStatusEl.textContent='';}\r

  \telse{historyListEl.style.display='block';if(searchStatusEl)\r

  \tsearchStatusEl.textContent='No matching chats found';}}\r

  \tfunction resetSearch(){if(!historyListEl)\r

  \treturn;const
  allItems=historyListEl.querySelectorAll('.chat-history-item-wrapper');const
  allHeadings=historyListEl.querySelectorAll('.history-heading-label');allItems\
  .forEach(item=>item.classList.remove('search-hidden'));allHeadings.forEach(he\
  ading=>heading.classList.remove('search-hidden'));const
  firstVisible=historyListEl.querySelector('.first-visible');if(firstVisible)\r

  \tfirstVisible.classList.remove('first-visible');historyListEl.style.display=\
  'block';if(searchStatusEl)\r

  \tsearchStatusEl.textContent='';if(searchInput)\r

  \tsearchInput.value='';currentSearchQuery='';queuedSearch=null;if(searchIcon)\
  \r

  \tsearchIcon.style.display='flex';if(searchClearBtn)\r

  \tsearchClearBtn.style.display='none';}\r

  \tif(searchInput){searchInput.addEventListener('keypress',(e)=>{if(e.key==='E\
  nter'){e.preventDefault();const
  query=searchInput.value.trim();if(query){currentSearchQuery=query;performChat\
  HistorySearch(query);}\r

  \telse{resetSearch();}}});searchInput.addEventListener('input',(e)=>{if(searc\
  hTimeout){clearTimeout(searchTimeout);}\r

  \tconst query=searchInput.value.trim();if(query){if(searchIcon)\r

  \tsearchIcon.style.display='none';if(searchClearBtn)\r

  \tsearchClearBtn.style.display='flex';}\r

  \telse{if(searchIcon)\r

  \tsearchIcon.style.display='flex';if(searchClearBtn)\r

  \tsearchClearBtn.style.display='none';}\r

  \tif(!query&&currentSearchQuery){resetSearch();}\r

  \telse
  if(query){searchTimeout=setTimeout(()=>{currentSearchQuery=query;performChatH\
  istorySearch(query);},300);}});}\r

  \tif(searchClearBtn){searchClearBtn.addEventListener('click',()=>{resetSearch\
  ();if(searchInput)\r

  \tsearchInput.focus();});}\r

  \tsetupGlobalContextMenu();displayMyChatSessions();let lastScrollTop=0;const
  mobileBreakpoint=1200;const scrollThreshold=10;function
  handleVisibility(){const
  currentScrollTop=window.pageYOffset||document.documentElement.scrollTop;const
  isMobile=window.innerWidth<mobileBreakpoint;if(isMobile){if(currentScrollTop>\
  lastScrollTop&&currentScrollTop>scrollThreshold){document.body.classList.add(\
  'buttons-hidden');}\r

  \telse
  if(currentScrollTop<lastScrollTop||currentScrollTop<=scrollThreshold){documen\
  t.body.classList.remove('buttons-hidden');}}\r

  \telse{document.body.classList.remove('buttons-hidden');}\r

  \tlastScrollTop=Math.max(0,currentScrollTop);}\r

  \twindow.addEventListener('scroll',handleVisibility,{passive:true});window.ad\
  dEventListener('resize',handleVisibility);handleVisibility();setTimeout(()=>{\
  if(layoutContainer){layoutContainer.classList.add('ready-for-animation');}},1\
  00);initPersistentChatbox();initEventDelegation();checkUrlForChatId();const
  recordButton=document.getElementById('recordButton');if(recordButton){recordB\
  utton.addEventListener('click',()=>{handleRecording();});}})();try{const
  convo=document.getElementById('convo');if(!window.user_paid_for_no_ads){docum\
  ent.querySelectorAll('.new-chat-button-container, .sidebar-toggle-container,
  .sidebar-overlay').forEach(e=>e.style.setProperty('top','178px','important'))\
  ;document.querySelectorAll('.chat-sidebar').forEach(e=>e.style.setProperty('t\
  op','167px','important'));if(convo){convo.style.paddingBottom='170px';}}\r

  \tif(convo){convo.style.paddingBottom='138px';}}\r

  \tcatch(e){console.log('error adding margin to the bottom of the conversation
  when ads are showing',e);}\r

  \t(function(){const TARGET_ELEMENT_CLASS='persistent-compose-area';const
  CHECK_INTERVAL_MS=500;const MOVE_OFFSET_PX=-80;const
  MOVED_ATTRIBUTE='data-obstruction-moved';const
  ORIGINAL_TRANSFORM_ATTRIBUTE='data-original-transform';const
  ORIGINAL_ZINDEX_ATTRIBUTE='data-original-zindex';const
  TARGET_Z_INDEX=2147483647;const OBSTRUCTION_Z_INDEX_REDUCTION=1000;const
  movedElements=new WeakSet();const processedElements=new WeakMap();function
  hasMovedAncestor(element){let
  current=element.parentElement;while(current&&current!==document.body){if(curr\
  ent.hasAttribute(MOVED_ATTRIBUTE)){return true;}\r

  \tcurrent=current.parentElement;}\r

  \treturn false;}\r

  \tfunction hasMovedDescendant(element){const
  movedDescendants=element.querySelectorAll(`[${MOVED_ATTRIBUTE}]`);return
  movedDescendants.length>0;}\r

  \tfunction getComputedTransform(element){const
  transform=window.getComputedStyle(element).transform;return
  transform==='none'?'':transform;}\r

  \tfunction ensureStackingContext(element){const
  style=window.getComputedStyle(element);const
  createsStackingContext=style.position!=='static'||style.opacity!=='1'||style.\
  transform!=='none'||style.filter!=='none'||style.perspective!=='none'||style.\
  clipPath!=='none'||style.mask!=='none'||style.isolation==='isolate'||style.mi\
  xBlendMode!=='normal'||style.willChange==='transform'||style.willChange==='op\
  acity';if(!createsStackingContext){if(!element.hasAttribute('data-forced-stac\
  king-context')){element.style.position='relative';element.setAttribute('data-\
  forced-stacking-context','true');}}}\r

  \tfunction
  adjustZIndex(element,targetElement){if(!element.hasAttribute(ORIGINAL_ZINDEX_\
  ATTRIBUTE)){const
  originalZIndex=element.style.zIndex||'';element.setAttribute(ORIGINAL_ZINDEX_\
  ATTRIBUTE,originalZIndex);}\r

  \tconst computedZIndex=window.getComputedStyle(element).zIndex;let
  currentZIndex=computedZIndex==='auto'?0:parseInt(computedZIndex,10);const
  newZIndex=Math.max(currentZIndex-OBSTRUCTION_Z_INDEX_REDUCTION,1);element.sty\
  le.zIndex=newZIndex.toString();ensureStackingContext(element);processedElemen\
  ts.set(element,{originalZIndex:element.getAttribute(ORIGINAL_ZINDEX_ATTRIBUTE\
  )||'',newZIndex:newZIndex});}\r

  \tfunction
  setupTargetZIndex(targetElement){if(targetElement.hasAttribute('data-zindex-b\
  oosted')){return;}\r

  \tconst
  originalZIndex=targetElement.style.zIndex||'';targetElement.setAttribute('dat\
  a-original-target-zindex',originalZIndex);targetElement.style.zIndex=TARGET_Z\
  _INDEX.toString();ensureStackingContext(targetElement);targetElement.setAttri\
  bute('data-zindex-boosted','true');console.log(`Boosted
  .${TARGET_ELEMENT_CLASS} z-index to ${TARGET_Z_INDEX}`);}\r

  \tfunction
  applyTransformSafely(element,targetElement){if(!element.hasAttribute(ORIGINAL\
  _TRANSFORM_ATTRIBUTE)){const
  originalTransform=element.style.transform||'';element.setAttribute(ORIGINAL_T\
  RANSFORM_ATTRIBUTE,originalTransform);}\r

  \tconst
  computedTransform=getComputedTransform(element);if(computedTransform&&compute\
  dTransform!=='none'){const
  temp=document.createElement('div');temp.style.transform=computedTransform;tem\
  p.style.transform+=`
  translateY(${MOVE_OFFSET_PX}px)`;element.style.transform=temp.style.transform\
  ;}\r

  \telse{const
  originalTransform=element.getAttribute(ORIGINAL_TRANSFORM_ATTRIBUTE)||'';elem\
  ent.style.transform=originalTransform?`${originalTransform}
  translateY(${MOVE_OFFSET_PX}px)`:`translateY(${MOVE_OFFSET_PX}px)`;}\r

  \tadjustZIndex(element,targetElement);element.setAttribute(MOVED_ATTRIBUTE,'t\
  rue');movedElements.add(element);}\r

  \tfunction
  isElementSafeToMove(element,targetElement){if(element.hasAttribute(MOVED_ATTR\
  IBUTE)||movedElements.has(element)){return false;}\r

  \tif(element===targetElement){return false;}\r

  \tif(element.contains(targetElement)){return false;}\r

  \tif(targetElement.contains(element)){return false;}\r

  \tif(hasMovedAncestor(element)){return false;}\r

  \tif(hasMovedDescendant(element)){return false;}\r

  \treturn true;}\r

  \tfunction checkAndMoveObstructingElements(){if(typeof
  window.user_paid_for_no_ads!=='undefined'&&window.user_paid_for_no_ads===true\
  ){return;}\r

  \tconst
  targetElement=document.querySelector(`.${TARGET_ELEMENT_CLASS}`);if(!targetEl\
  ement){return;}\r

  \tsetupTargetZIndex(targetElement);const
  rect=targetElement.getBoundingClientRect();const
  centerX=rect.left+rect.width/2;const
  centerY=rect.top+rect.height/2;if(centerX<0||centerY<0||centerX>window.innerW\
  idth||centerY>window.innerHeight){return;}\r

  \tconst
  elementAtCenter=document.elementFromPoint(centerX,centerY);if(!elementAtCente\
  r||elementAtCenter===document.documentElement||elementAtCenter===document.bod\
  y){return;}\r

  \tconst
  isTargetOrDescendant=targetElement===elementAtCenter||targetElement.contains(\
  elementAtCenter);if(!isTargetOrDescendant){let elementToMove=null;let
  currentElement=elementAtCenter;while(currentElement&&currentElement.parentEle\
  ment){if(currentElement.parentElement===document.body){if(isElementSafeToMove\
  (currentElement,targetElement)){elementToMove=currentElement;}\r

  \tbreak;}\r

  \tif(currentElement.parentElement===document.documentElement){break;}\r

  \tcurrentElement=currentElement.parentElement;}\r

  \tif(elementToMove){try{applyTransformSafely(elementToMove,targetElement);con\
  sole.log(`Moved element with new z-index:`,elementToMove);}\r

  \tcatch(e){console.error('Error moving element:',e);}}}}\r

  \twindow.resetObstructionMoves=function(){const
  movedElementsList=document.querySelectorAll(`[${MOVED_ATTRIBUTE}]`);movedElem\
  entsList.forEach(element=>{const
  originalTransform=element.getAttribute(ORIGINAL_TRANSFORM_ATTRIBUTE)||'';elem\
  ent.style.transform=originalTransform;element.removeAttribute(MOVED_ATTRIBUTE\
  );element.removeAttribute(ORIGINAL_TRANSFORM_ATTRIBUTE);const
  originalZIndex=element.getAttribute(ORIGINAL_ZINDEX_ATTRIBUTE)||'';element.st\
  yle.zIndex=originalZIndex;element.removeAttribute(ORIGINAL_ZINDEX_ATTRIBUTE);\
  if(element.hasAttribute('data-forced-stacking-context')){element.style.positi\
  on='';element.removeAttribute('data-forced-stacking-context');}});const
  targetElement=document.querySelector(`.${TARGET_ELEMENT_CLASS}`);if(targetEle\
  ment&&targetElement.hasAttribute('data-zindex-boosted')){const
  originalZIndex=targetElement.getAttribute('data-original-target-zindex')||'';\
  targetElement.style.zIndex=originalZIndex;targetElement.removeAttribute('data\
  -zindex-boosted');targetElement.removeAttribute('data-original-target-zindex'\
  );if(targetElement.hasAttribute('data-forced-stacking-context')){targetElemen\
  t.style.position='';targetElement.removeAttribute('data-forced-stacking-conte\
  xt');}}\r

  \tconsole.log(`Reset ${movedElementsList.length} moved elements and target
  z-index`);};window.debugObstructionZIndex=function(){const
  targetElement=document.querySelector(`.${TARGET_ELEMENT_CLASS}`);if(!targetEl\
  ement){console.log('Target element not found');return;}\r

  \tconsole.log('Target element
  z-index:',window.getComputedStyle(targetElement).zIndex);const
  movedElementsList=document.querySelectorAll(`[${MOVED_ATTRIBUTE}]`);movedElem\
  entsList.forEach((element,index)=>{console.log(`Moved element
  ${index}:`,{element:element,zIndex:window.getComputedStyle(element).zIndex,or\
  iginalZIndex:element.getAttribute(ORIGINAL_ZINDEX_ATTRIBUTE),transform:elemen\
  t.style.transform});});};console.log(`Starting safe obstruction check for
  .${TARGET_ELEMENT_CLASS} every ${CHECK_INTERVAL_MS}ms.`);const
  intervalId=setInterval(checkAndMoveObstructingElements,CHECK_INTERVAL_MS);win\
  dow.stopObstructionCheck=function(){clearInterval(intervalId);console.log(\"S\
  topped obstruction check.\");};})();;</script>\r

  \t\r

  \r

  \t\r

  \r

  \t        </body>\r

  \t</html>"
tags: null
source_url: https://docs.google.com/document/d/1QMSNlX-f4JQasGE5Tl0J7d1vz8vs-dO0TKJaTww1ohk/edit?usp=drivesdk
document_type: text
description: ﻿<!DOCTYPE html> <html>         <head> <title> Math AI </title>
  <script type="application/ld+json"></script> <script async
  src="https://browser.sentry-cdn.com/7.19.0/bundle.min.js"
  integrity="sha384-z...
created_at: 2026-01-19T20:15:41.338Z
updated_at: 2026-01-19T20:21:33.615Z
